"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[9931],{"./examples/sets/sets.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HorizontalUpset:()=>HorizontalUpset,TextLabels:()=>TextLabels,ThreeSets:()=>ThreeSets,TwoSets:()=>TwoSets,VerticalUpset:()=>VerticalUpset,__namedExportsOrder:()=>__namedExportsOrder,default:()=>sets_stories});var gallery=__webpack_require__("./examples/gallery.tsx"),chsk_core_es=__webpack_require__("./packages/core/dist/chsk-core.es.js"),chsk_matrix_es=__webpack_require__("./packages/matrix/dist/chsk-matrix.es.js"),chsk_band_es=__webpack_require__("./packages/band/dist/chsk-band.es.js"),chsk_themes_es=__webpack_require__("./packages/themes/dist/chsk-themes.es.js"),Dark2=__webpack_require__("./node_modules/d3-scale-chromatic/src/categorical/Dark2.js"),utils=__webpack_require__("./examples/utils.ts"),navigation=__webpack_require__("./examples/navigation.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),customTheme=(0,chsk_core_es.hr)(chsk_themes_es.Ee,{line:{upSetMembership:{strokeWidth:4}},circle:{default:{fill:"#ccc",fillOpacity:.7},upSetMembership:{fillOpacity:1}}}),HorizontalUpSetChart=function HorizontalUpSetChart(_ref){var fref=_ref.fref,chartData=_ref.chartData,rawData=_ref.rawData;return(0,chsk_matrix_es.by)(rawData)?(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"horizontal-upset",size:[800,400],padding:[240,60,60,80],theme:customTheme,children:(0,jsx_runtime.jsxs)(chsk_matrix_es.F0,{data:rawData,scaleColor:{variant:"categorical",colors:Dark2.Z},children:[(0,jsx_runtime.jsx)(chsk_core_es.lqb,{enterOn:"axes",children:(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left"})}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{enterOn:"grid",children:[(0,jsx_runtime.jsx)(chsk_matrix_es.hI,{}),(0,jsx_runtime.jsx)(chsk_matrix_es.iC,{})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{enterOn:"bars",children:(0,jsx_runtime.jsxs)(chsk_matrix_es.D6,{size:200,padding:[0,0,10,0],scaleIndex:{variant:"band",padding:.25},children:[(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"Set intersection"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",children:(0,jsx_runtime.jsx)(chsk_core_es.$Co,{variant:"bottom"})}),(0,jsx_runtime.jsx)(chsk_band_es.kT,{interactive:!0,tooltip:!0,style:{fill:"#eeeeee"}}),(0,jsx_runtime.jsx)(chsk_band_es.Ll,{}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{itemSize:[60,24],labelFormat:function labelFormat(x){return String(x.data)}})]})}),(0,jsx_runtime.jsx)(navigation.N,{position:[580,-230],data:!0,image:!0})]})}):null};try{HorizontalUpSetChart.displayName="HorizontalUpSetChart",HorizontalUpSetChart.__docgenInfo={description:"",displayName:"HorizontalUpSetChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/sets/HorizontalUpSetChart.tsx#HorizontalUpSetChart"]={docgenInfo:HorizontalUpSetChart.__docgenInfo,name:"HorizontalUpSetChart",path:"examples/sets/HorizontalUpSetChart.tsx#HorizontalUpSetChart"})}catch(__react_docgen_typescript_loader_error){}var VerticalUpSetChart_customTheme=(0,chsk_core_es.hr)(chsk_themes_es.Ee,{line:{axis:{visibility:"visible"},upSetMembership:{strokeWidth:3}},circle:{default:{fill:"#ccc",fillOpacity:.7},upSetMembership:{fillOpacity:1}},Transition:{default:{type:"spring",mass:.5,stiffness:100,damping:20}}}),VerticalUpSetChart=function VerticalUpSetChart(_ref){var fref=_ref.fref,chartData=_ref.chartData,rawData=_ref.rawData;return(0,chsk_matrix_es.by)(rawData)?(0,jsx_runtime.jsx)(chsk_core_es.kL2,{data:chartData,fref,id:"vertical-upset",size:[480,600],padding:[80,320,40,40],theme:VerticalUpSetChart_customTheme,children:(0,jsx_runtime.jsxs)(chsk_matrix_es.F0,{data:rawData,horizontal:!1,children:[(0,jsx_runtime.jsx)(chsk_core_es.lqb,{enterOn:"axes",children:(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"top",children:(0,jsx_runtime.jsx)(chsk_core_es.yAs,{variant:"top",labelAngle:-90,labelStyle:{textAnchor:"start",dominantBaseline:"middle",fontSize:14}})})}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{enterOn:"grid",children:[(0,jsx_runtime.jsx)(chsk_matrix_es.hI,{symbolStyle:{strokeWidth:1,stroke:"#aaa"}}),(0,jsx_runtime.jsx)(chsk_matrix_es.iC,{})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{enterOn:"bars",children:(0,jsx_runtime.jsxs)(chsk_matrix_es.D6,{size:260,padding:[0,0,0,10],scaleIndex:{variant:"band",padding:.25},children:[(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"top",label:"Set intersection"}),(0,jsx_runtime.jsx)(chsk_band_es.Ll,{})]})}),(0,jsx_runtime.jsx)(navigation.N,{position:[280,500],data:!0,image:!0})]})}):null};try{VerticalUpSetChart.displayName="VerticalUpSetChart",VerticalUpSetChart.__docgenInfo={description:"",displayName:"VerticalUpSetChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/sets/VerticalUpSetChart.tsx#VerticalUpSetChart"]={docgenInfo:VerticalUpSetChart.__docgenInfo,name:"VerticalUpSetChart",path:"examples/sets/VerticalUpSetChart.tsx#VerticalUpSetChart"})}catch(__react_docgen_typescript_loader_error){}var react=__webpack_require__("./node_modules/react/index.js"),LazyMotion=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),features_animation=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),lab=__webpack_require__("./node_modules/d3-interpolate/src/lab.js"),E=(0,react.createContext)({data:[],seriesIndexes:{},keys:[]}),VennPreparedDataProvider=function VennPreparedDataProvider(n){var t=n.data,r=n.seriesIndexes,a=n.keys,o=n.children,l=(0,react.useMemo)((function(){return{data:t,seriesIndexes:r,keys:a}}),[t,r,a]);return(0,jsx_runtime.jsx)(E.Provider,{value:l,children:o})},useVennPreparedData=function useVennPreparedData(){return(0,react.useContext)(E)},isVennData=function isVennData(n){var e=n.map((function(n){return"object"==typeof n&&null!==n&&"id"in n}));return e.length>0&&e.every(Boolean)},isVennPreparedData=function isVennPreparedData(n){var e=n.map((function(n){return"object"==typeof n&&null!==n&&"id"in n&&"label"in n&&"d"in n&&"value"in n}));return e.length>0&&e.every(Boolean)};function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(n,e){if(null==n)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(-1!==e.indexOf(r))continue;t[r]=n[r]}return t}var rotatePointTrig=function rotatePointTrig(n,e,t){return[n[chsk_core_es.X]*e+n[chsk_core_es.Y]*t,-n[chsk_core_es.X]*t+n[chsk_core_es.Y]*e]},rotatePoint=function rotatePoint(n,e){return rotatePointTrig(n,Math.cos(e),Math.sin(e))},midpoint=function midpoint(n,e){return[(n[chsk_core_es.X]+e[chsk_core_es.X])/2,(n[chsk_core_es.Y]+e[chsk_core_es.Y])/2]},svgAngle=function svgAngle(n,e){var t=e[chsk_core_es.X]-n[chsk_core_es.X],r=e[chsk_core_es.Y]-n[chsk_core_es.Y];if(0===t)return r<=0?0:Math.PI;var i=Math.atan(t/Math.abs(r));return r<=0?i:Math.PI-i},svgTranslatedPosition=function svgTranslatedPosition(n,e,t){var r=[n[chsk_core_es.X],n[chsk_core_es.Y]];return r[chsk_core_es.X]+=e*Math.sin(t),r[chsk_core_es.Y]-=e*Math.cos(t),r},L=chsk_core_es.QO2,getAreaArc=function getAreaArc(n,e){return n*n*(e-Math.sin(e)*Math.cos(e))},getAreaIntersection=function getAreaIntersection(n,e,t){var r=function(n,e,t){for(var r=Math.max(n,e),i=Math.min(n,e),a=r/i,o=Math.asin(i/r),l=[0,o],s=r*Math.cos(o),c=0,thetaSmall=function thetaSmall(n){var e=Math.asin(a*Math.sin(n));return t<s?Math.PI-e:e},computeD=function computeD(n){return r*Math.cos(n)+i*Math.cos(thetaSmall(n))},u=computeD(c);l[1]-l[0]>1e-4;)u=computeD(c=(l[1]+l[0])/2),t>s?u>t?l[0]=c:l[1]=c:u>t?l[1]=c:l[0]=c;return e==r?{thetaA:thetaSmall(c),thetaB:c}:{thetaA:c,thetaB:thetaSmall(c)}}(n,e,t),i=r.thetaA,a=r.thetaB;return{thetaA:i,thetaB:a,area:getAreaArc(n,i)+getAreaArc(e,a)}},O=chsk_core_es.QO2,processData=function processData(n,e,t,r){var i=n.slice(0,3).map((function(n){return new Set(n.data)}));if(0===i.length)return[];var a=function(n){var e;if(0===n.length)return 0;var t=new Set(null==(e=n[0])?void 0:e.values());return n.slice(1,n.length).forEach((function(n){var e=new Set;n.forEach((function(n){t.has(n)&&e.add(n)})),t=e})),t.size}(i),o=n.slice(0,3),l=o.map((function(n,e){var t;return{id:n.id,index:e,size:Number(null==(t=i[e])?void 0:t.size),intersection:(0,chsk_core_es.RGn)(o).map((function(n){return function(n,e){if(void 0===n||void 0===e)return 0;var t=0;return n.forEach((function(n){return t+=+e.has(n)})),t}(i[e],i[n])})),common:a,r:1,center:[0,0],points:[[1,0],[1,0]],largeArcs:[0,0]}}));2===l.length?function(n,e,t){var r,i=Number(null==(r=n[0])?void 0:r.intersection[1]);if(t){var a=function computeVenn2(n,e,t,r){void 0===r&&(r=1);var i=[0,0],a=[0,0],o=Math.sqrt(n/Math.PI),l=Math.sqrt(e/Math.PI),s=[],c=[],d=0,h=0;if(0==t){var v=1+r/2;i[chsk_core_es.X]=-o*v,a[chsk_core_es.X]=l*v;var f=L(i,[o,0]),p=L(a,[-l,0]);s.push(f),s.push([].concat(f)),c.push(p),c.push([].concat(p))}else if(t===n||t===e){var m=[0,0],M=[0,0];t===n&&(a[chsk_core_es.X]=l-o,d=Math.PI,m=L(i,[-o,0]),M=L(a,[-l,0])),t===e&&(a[chsk_core_es.X]=o-l,h=Math.PI,m=L(i,[o,0]),M=L(a,[l,0]));var b=(o+l)/2;s.push([m[chsk_core_es.X],.01*b]),s.push([m[chsk_core_es.X],-.01*b]),c.push([M[chsk_core_es.X],-.01*b]),c.push([M[chsk_core_es.X],.01*b])}else{for(var g=[Math.abs(o-l),o+l],x=(g[1]+g[0])/2;g[1]-g[0]>1e-6*(o+l);){var P=getAreaIntersection(o,l,x);d=P.thetaA,h=P.thetaB,P.area<t?g[1]=x:g[0]=x,x=(g[0]+g[1])/2}i[chsk_core_es.X]=-x/2,a[chsk_core_es.X]=x/2,s.push([o*Math.cos(d)-x/2,o*Math.sin(d)]),s.push([o*Math.cos(d)-x/2,-o*Math.sin(d)]),c.push(s[1]),c.push(s[0])}var y=(i[chsk_core_es.X]+a[chsk_core_es.X])/2;return i[chsk_core_es.X]-=y,a[chsk_core_es.X]-=y,s.forEach((function(n){return n[chsk_core_es.X]-=y})),c.forEach((function(n){return n[chsk_core_es.X]-=y})),{centerA:i,centerB:a,rA:o,rB:l,pointsA:s,pointsB:c,thetaA:d,thetaB:h}}(n[0].size,n[1].size,i,e),o=a.centerA,l=a.centerB,s=a.rA,c=a.rB,d=a.pointsA,h=a.pointsB,v=a.thetaA,f=a.thetaB;n[0].center=o,n[1].center=l,n[0].r=s,n[1].r=c,n[0].points=d,n[1].points=h;var p=+(v>Math.PI/2),m=+(f>Math.PI/2);n[0].largeArcs=[p,(p+1)%2],n[1].largeArcs=[m,(m+1)%2]}else if(i>0){n[0].center[chsk_core_es.X]=-e,n[1].center[chsk_core_es.X]=e;var M=Math.acos(e);n[0].points=[[0,Math.sin(M)],[0,-Math.sin(M)]],n[1].points=[].concat(n[0].points).reverse();var b=+(M>Math.PI/2);n[0].largeArcs=[b,(b+1)%2],n[1].largeArcs=[b,(b+1)%2]}else n[0].center[chsk_core_es.X]=-1-(1-e),n[1].center[chsk_core_es.X]=1-e+1,n[0].points=[[-1+e,0],[-1+e,0]],n[0].largeArcs=[0,1],n[1].points=[[1-e,0],[1-e,0]],n[1].largeArcs=[0,1]}(l,t,r):3===l.length&&function(n,e){var t=e*Math.tan(Math.PI/6);n[0].center=[-e,t],n[1].center=[e,t],n[2].center=[0,-2*e*Math.sin(Math.PI/3)+t];var r=Math.acos(e),i=2*Math.PI/3,a=[e,+Math.sin(r)],o=[e,-Math.sin(r)],l=O(n[0].center,a),s=O(n[0].center,o),c=O(n[1].center,rotatePoint(a,i)),u=O(n[1].center,rotatePoint(o,i)),d=O(n[2].center,rotatePoint(a,-i)),h=O(n[2].center,rotatePoint(o,-i));n[0].points=[l,h,s,d],n[1].points=[c,s,u,l],n[2].points=[d,u,h,c];var v=+(r<Math.PI/3);n[0].largeArcs=[0,0,0,v],n[1].largeArcs=[0,0,0,v],n[2].largeArcs=[0,0,0,v]}(l,t);var s=Math.cos(e),c=Math.sin(e);return l.map((function(n){return n.center=rotatePointTrig(n.center,s,c),n.points=n.points.map((function(n){return rotatePointTrig(n,s,c)})),n}))},pathArc=function pathArc(n,e,t,r){return void 0===r&&(r=0),"A "+(null!=e?e:0)+" "+(null!=e?e:0)+" 0 "+(null!=t?t:0)+" "+r+" "+n[chsk_core_es.X]+" "+n[chsk_core_es.Y]},pathM=function pathM(n){return"m "+n[chsk_core_es.X]+" "+n[chsk_core_es.Y]},pathVenn1=function pathVenn1(n){return 2===n.data.length?function pathVenn1of2(n){var e,t,r=n.data,i=n.index,a=r[i],o=r[(i+1)%2];if(!a||!o)return"";var l,s,c=null!=(e=null==a?void 0:a.points[0])?e:[0,0],d=null!=(t=null==a?void 0:a.points[1])?t:[0,0],h=c,f=d;if(s=d,(l=c)[chsk_core_es.X]===s[chsk_core_es.X]&&l[chsk_core_es.Y]===s[chsk_core_es.Y]){var p=0===i?1:-1;h=(0,chsk_core_es.QO2)(c,[0,.01*-p]),f=(0,chsk_core_es.QO2)(d,[0,.01*p])}var M=o.largeArcs[0],b=a.largeArcs[1];return[pathM(h),pathArc(f,o.r,M,0),pathArc(h,a.r,b,1)].join(" ")}(n):1===n.data.length?function(n){var e,t,r=n.data[n.index];if(!r)return"";var i=(0,chsk_core_es.QO2)(null!=(e=r.points[0])?e:[0,0],[0,-.01]),a=(0,chsk_core_es.QO2)(null!=(t=r.points[0])?t:[0,0],[0,.01]);return[pathM(i),pathArc(a,r.r,0,0),pathArc(i,r.r,1,1)].join(" ")}(n):function(n){var e,t,r,i=n.data,a=n.index,o=i[a],l=i[(a+1)%3],s=i[(a+2)%3];if(!o||!l||!s)return"";var c=null!=(e=o.points[0])?e:[0,0],u=null!=(t=s.points[1])?t:[0,0],d=null!=(r=o.points[3])?r:[0,0];return[pathM(c),pathArc(u,l.r,0),pathArc(d,s.r,0),pathArc(c,o.r,o.largeArcs[3],1)].join(" ")}(n)},pathVenn2=function pathVenn2(n){return 2===n.data.length?function(n){var e,t,r=n.data,i=n.index,a=r[i],o=r[(i+1)%2];if(!a||!o)return"";var l=null!=(e=a.points[0])?e:[0,0],s=null!=(t=a.points[1])?t:[0,0],c=a.largeArcs[0],u=o.largeArcs[0];return[pathM(l),pathArc(s,a.r,c,1),pathArc(l,o.r,u,1)].join(" ")}(n):function(n){var e,t,r,i=n.data,a=n.index,o=i[a],l=i[(a+1)%3],s=i[(a+2)%3];if(!o||!l||!s)return"";var c=null!=(e=o.points[0])?e:[0,0],u=null!=(t=o.points[1])?t:[0,0],d=null!=(r=l.points[2])?r:[0,0];return[pathM(c),pathArc(u,o.r,0,1),pathArc(d,s.r,0,0),pathArc(c,l.r,0,1)].join(" ")}(n)},pathVenn3=function pathVenn3(n){var e,t,r,i=n.data,a=i[0],o=i[1],l=i[2];if(!a||!o||!l)return"";var s=null!=(e=a.points[1])?e:[0,0],c=null!=(t=o.points[1])?t:[0,0],u=null!=(r=l.points[1])?r:[0,0];return[pathM(s),pathArc(c,a.r,0,1),pathArc(u,o.r,0,1),pathArc(s,l.r,0,1)].join(" ")},q=["container","data","angle","separation","proportional","scaleX","scaleY","scaleColor","interpolation","children"],defaultInterpolation=function defaultInterpolation(n,e,t){if(void 0===t)return(0,lab.Z)(n,e)(.5);var r=(0,lab.Z)(n,e)(.5);return(0,lab.Z)(r,t)(1/3)},Venn=function Venn(n){var t=n.container,r=void 0===t?chsk_core_es.WdC:t,a=n.data,m=n.angle,M=void 0===m?0:m,b=n.separation,B=void 0===b?.7:b,j=n.proportional,N=void 0!==j&&j,_=n.scaleX,S=void 0===_?chsk_core_es.Bs3:_,k=n.scaleY,w=void 0===k?chsk_core_es.Bs3:k,R=n.scaleColor,C=n.interpolation,E=void 0===C?defaultInterpolation:C,L=n.children,O=_objectWithoutPropertiesLoose(n,q),W=(0,chsk_core_es.FgM)(),D=(0,chsk_core_es.uK4)(r),X=D.dimsProps,Y=D.origin,V=D.innerSize,F=(0,react.useMemo)((function(){return(0,chsk_core_es.snp)(a)}),[a]),G=(0,react.useMemo)((function(){return a.map((function(n){return n.id}))}),[a]),H=(0,react.useMemo)((function(){return processData(a,M,B,N)}),[a,B,N]),J=(0,react.useMemo)((function(){return function(n,e,t,r){var i={x:(0,chsk_core_es.BRZ)(e),y:(0,chsk_core_es.BRZ)(t)};if(!(0,chsk_core_es.HBl)(e)){var a=n.map((function(n){return[n.center[chsk_core_es.X]-n.r,n.center[chsk_core_es.X]+n.r]})).flat();i.x=(0,chsk_core_es.zAC)(e,(0,chsk_core_es.FG_)(a))}if(!(0,chsk_core_es.HBl)(t)){var o=n.map((function(n){return[n.center[chsk_core_es.Y]-n.r,n.center[chsk_core_es.Y]+n.r]})).flat();i.y=(0,chsk_core_es.zAC)(t,(0,chsk_core_es.FG_)(o))}return i.x.size=r[chsk_core_es.X],i.y.size=r[chsk_core_es.Y],(0,chsk_core_es.vO5)(i.x,i.y)}(H,S,w,V)}),[H,S,w,V]),K=J.x,Q=J.y,T=(0,react.useMemo)((function(){return function(n,e){var t=new Set(n.map((function(n){return n.id})).flat().map(String));return(0,chsk_core_es.NVB)(e,Array.from(t))}(H,null!=R?R:W.Color.categorical)}),[H,R,W]),U=(0,chsk_core_es.cT_)({x:K,y:Q,color:T}),Z=(0,react.useMemo)((function(){return function(n,e,t){var r=e.x,i=e.y,scalePoint=function scalePoint(n){return[r(n[chsk_core_es.X]),i(n[chsk_core_es.Y])]},a=n.map((function(n){return _extends({},n,{points:n.points.map(scalePoint),center:scalePoint(n.center),r:r(n.r)-r(0)})}));return 1===n.length?function prepareData1(n,e){var t=n[0];return[{id:t.id,membership:[!0],label:t.id,labelPosition:t.center,value:Number(t.intersection[0]),color:e.color(0),d:pathVenn1({data:n,index:0})}]}(a,e):2===n.length?function prepareData2(n,e,t){var r=n[0],i=n[1],a=svgAngle(r.center,i.center),o=svgAngle(i.center,r.center),l=(0,chsk_core_es.TE$)(r.center,i.center),s=l>=r.r+i.r,c=svgTranslatedPosition(r.center,l-i.r,a),u=svgTranslatedPosition(i.center,l-r.r,o),d=svgTranslatedPosition(r.center,r.r,a-Math.PI),h=svgTranslatedPosition(i.center,i.r,o-Math.PI);return s?[{id:r.id,membership:[!0,!1],labelPosition:r.center,value:r.size,label:r.id+" ∩ ! "+i.id,color:e.color(0),d:pathVenn1({data:n,index:0})},{id:i.id,membership:[!1,!0],labelPosition:i.center,value:i.size,label:"! "+r.id+" ∩ "+i.id,color:e.color(1),d:pathVenn1({data:n,index:1})}]:[{id:r.id,membership:[!0,!1],labelPosition:midpoint(c,d),value:r.size-r.common,label:r.id+" ∩ ! "+i.id,color:e.color(0),d:pathVenn1({data:n,index:0})},{id:i.id,membership:[!1,!0],labelPosition:midpoint(u,h),value:i.size-i.common,label:"! "+r.id+" ∩ "+i.id,color:e.color(1),d:pathVenn1({data:n,index:1})},{id:r.id+" "+i.id,membership:[!0,!0],labelPosition:midpoint(c,u),value:r.common,label:r.id+" ∩ "+i.id,color:t(e.color(0),e.color(1)),d:pathVenn2({data:n,index:0})}]}(a,e,t):3===n.length?function prepareData3(n,e,t){var r=e.x,i=e.y,a=[r(0),i(0)],o=n[0],l=n[1],s=n[2],c=(0,chsk_core_es.TE$)(a,o.center),u=(0,chsk_core_es.TE$)(o.center,l.center)/2,d=midpoint(o.center,l.center),h=svgAngle(a,d),v=r(1)-r(0),f=(v-c+(Math.sqrt(Math.pow(v,2)-Math.pow(u,2))+(0,chsk_core_es.TE$)(a,d)))/2,p=2*Math.PI/3,m=Math.asin(c*Math.sin(p)/v),M=Math.PI-p-m,g=(v*Math.sin(M)/Math.sin(p)+(v+c))/2,x=e.color,P=o.intersection,y=l.intersection,A=s.intersection;return[{id:o.id,membership:[!0,!1,!1],label:o.id+" ∩ ! "+l.id+" ∩ ! "+s.id,labelPosition:svgTranslatedPosition(a,g,h-p/2),value:o.size-P[1]-P[2]+o.common,color:x(0),d:pathVenn1({data:n,index:0})},{id:l.id,membership:[!1,!0,!1],label:"! "+o.id+" ∩ "+l.id+" ∩ ! "+s.id,labelPosition:svgTranslatedPosition(a,g,h+p/2),value:l.size-y[0]-y[2]+l.common,color:x(1),d:pathVenn1({data:n,index:1})},{id:s.id,membership:[!1,!1,!0],label:"! "+o.id+" ∩ ! "+l.id+"  ∩ "+s.id,labelPosition:svgTranslatedPosition(a,g,h+Math.PI),value:s.size-A[0]-A[1]+s.common,color:x(2),d:pathVenn1({data:n,index:2})},{id:o.id+" "+l.id,membership:[!0,!0,!1],label:o.id+" ∩ "+l.id+" ∩ ! "+s.id,labelPosition:svgTranslatedPosition(a,f,h+0),value:P[1]-o.common,color:t(x(0),x(1)),d:pathVenn2({data:n,index:0})},{id:l.id+" "+s.id,membership:[!1,!0,!0],labelPosition:svgTranslatedPosition(a,f,h+p),value:y[2]-l.common,label:"! "+o.id+" ∩ "+l.id+" ∩ "+s.id,color:t(x(1),x(2)),d:pathVenn2({data:n,index:1})},{id:o.id+" "+s.id,membership:[!0,!1,!0],label:o.id+" ∩ ! "+l.id+" ∩ "+s.id,labelPosition:svgTranslatedPosition(a,f,h-p),value:A[0]-s.common,color:t(x(0),x(2)),d:pathVenn2({data:n,index:2})},{id:o.id+" "+l.id+" "+s.id,membership:[!0,!0,!0],label:o.id+" ∩ "+l.id+" ∩ "+s.id,labelPosition:a,value:o.common,color:t(x(0),x(1),x(2)),d:pathVenn3({data:n})}]}(a,e,t):[]}(H,U.scales,E)}),[H,U,E]);return(0,jsx_runtime.jsx)(chsk_core_es.PzT,_extends({variant:"venn",position:Y,size:X.size,padding:X.padding,originalData:a,processedData:H,seriesIndexes:F,keys:[],scalesContextValue:U},O,{children:(0,jsx_runtime.jsx)(VennPreparedDataProvider,{data:Z,seriesIndexes:F,keys:G,children:(0,jsx_runtime.jsx)(LazyMotion.X,{features:features_animation.H,children:L})})}))},W=["component","componentProps","className","style","setRole","dataComponent"],VennSets=function VennSets(n){var e=n.component,t=void 0===e?chsk_core_es.y$t:e,o=n.componentProps,l=n.className,s=n.style,c=n.setRole,u=void 0===c||c,d=n.dataComponent,h=void 0===d?chsk_core_es.oKN:d,v=_objectWithoutPropertiesLoose(n,W),f=useVennPreparedData().data;if(!isVennPreparedData(f))return null;var p=_extends({variant:"set"},o,{className:l,setRole:u}),m=f.map((function(n){return(0,react.createElement)(h,_extends({key:"s-"+n.id,component:t,data:n,props:_extends({},p,{d:n.d,style:(0,chsk_core_es.hIX)(s,n.color)})},v))}));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:m})},VennSetLabels=function VennSetLabels(n){var e=n.ids,t=n.rs,o=void 0===t?[0,0,0]:t,l=n.angles,s=void 0===l?[-Math.PI/4,Math.PI/4,0]:l,c=n.format,d=void 0===c?function(n){return String(n)}:c,h=n.padding,f=void 0===h?[4,4,4,4]:h,p=n.size,m=void 0===p?[40,10]:p,M=n.align,b=void 0===M?[.5,.5]:M,g=n.offset,x=void 0===g?[0,0]:g,P=n.className,y=n.setRole,A=void 0!==y&&y,I=n.style,z=n.component,B=void 0===z?chsk_core_es.__J:z,j=n.componentProps,N=(0,chsk_core_es.wIO)(),C=(0,chsk_core_es.kE1)().scales,E=N.data,L=(0,chsk_core_es.lRm)(e,null,N).idSet;if(!function isVennProcessedData(n){var e=n.map((function(n){return"object"==typeof n&&null!==n&&"id"in n&&"index"in n&&"center"in n&&"r"in n}));return e.length>0&&e.every(Boolean)}(E))return null;var O=E.map((function(n){return n.id})),q=C.x,W=C.y,D=_extends({},j,{size:m,align:b,padding:f,style:I,setRole:A,className:(0,chsk_core_es.gjB)("vennSetLabel",P)}),X=(null!=e?e:O).map((function(n,e){var t=Number(N.seriesIndexes[n]),i=E[t];if(void 0!==i&&L.has(n)){var a=[i.center[chsk_core_es.X],i.center[chsk_core_es.Y]];a[chsk_core_es.X]+=Number(o[e])*i.r*Math.sin(Number(s[e])),a[chsk_core_es.Y]+=Number(o[e])*i.r*Math.cos(Number(s[e]));var l=[q(a[chsk_core_es.X])+x[chsk_core_es.X],W(a[chsk_core_es.Y])+x[chsk_core_es.Y]];return(0,react.createElement)(B,_extends({key:"l-"+n},D,{position:l}),d(n))}})).filter(Boolean);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:X})},VennIntersectionLabels=function VennIntersectionLabels(n){var e=n.ids,t=n.format,o=void 0===t?function(n){return String(n)}:t,l=n.padding,s=void 0===l?[4,4,4,4]:l,c=n.size,u=void 0===c?[40,10]:c,d=n.anchor,h=void 0===d?[.5,.5]:d,v=n.align,f=void 0===v?[.5,.5]:v,p=n.offset,m=void 0===p?[0,0]:p,M=n.className,b=n.setRole,g=void 0!==b&&b,x=n.style,P=n.component,y=void 0===P?chsk_core_es.__J:P,A=n.componentProps,I=useVennPreparedData(),z=I.data;if(!isVennPreparedData(z))return null;var B=new Set(null!=e?e:I.data.map((function(n){return n.id}))),j=_extends({},A,{size:u,anchor:h,align:f,offset:m,padding:s,style:x,setRole:g,className:(0,chsk_core_es.gjB)("vennIntersectionLabel",M)}),N=z.map((function(n,e){return B.has(n.id)?(0,react.createElement)(y,_extends({key:"l-"+e},j,{position:n.labelPosition}),o(n.value,n)):null})).filter(Boolean);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:N})},chsk_annotation_es=__webpack_require__("./packages/annotation/dist/chsk-annotation.es.js"),TwoSetChart_customTheme=(0,chsk_core_es.hr)(chsk_themes_es.Ee,{path:{default:{fillOpacity:1}},circle:{default:{fillOpacity:.7,strokeWidth:0}},text:{vennSetLabel:{fontSize:"18px",fontWeight:600,fill:"#222"},vennIntersectionLabel:{fill:"#000",pointerEvents:"none"}}}),labelFormat=function labelFormat(x){return String(x).slice(0,1).toLocaleUpperCase()},tooltipLabelFormat=function tooltipLabelFormat(x){var _ref;return null!=(_ref="value"in x?x.label+" - "+x.value:x.label)?_ref:""},TwoSetChart=function TwoSetChart(_ref2){var fref=_ref2.fref,chartData=_ref2.chartData,rawData=_ref2.rawData;return isVennData(rawData)?(0,jsx_runtime.jsxs)(chsk_core_es.kL2,{data:chartData,fref,id:"two-sets",size:[400,300],padding:[60,60,60,60],theme:TwoSetChart_customTheme,children:[(0,jsx_runtime.jsx)(chsk_annotation_es.O7,{id:"inset-shadow",blurStdDeviation:6,floodOpacity:.6}),(0,jsx_runtime.jsxs)(Venn,{data:rawData,proportional:!0,scaleColor:{variant:"categorical",colors:["#75b9be","#e57a44"]},children:[(0,jsx_runtime.jsx)(VennSets,{style:{stroke:"#000",strokeWidth:1},modifiers:{onMouseEnter:{filter:"url(#inset-shadow)"},onMouseLeave:{}}}),(0,jsx_runtime.jsx)(VennSetLabels,{ids:["alpha"],rs:[1],angles:[-Math.PI/3],offset:[-12,-12],format:labelFormat}),(0,jsx_runtime.jsx)(VennSetLabels,{ids:["beta"],rs:[1],angles:[Math.PI/3],offset:[12,-12],format:labelFormat}),(0,jsx_runtime.jsx)(VennIntersectionLabels,{}),(0,jsx_runtime.jsx)(navigation.N,{position:[240,-40],data:!0,image:!0}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{offset:[0,-20],itemSize:[150,26],labelFormat:tooltipLabelFormat})]})]}):null};try{TwoSetChart.displayName="TwoSetChart",TwoSetChart.__docgenInfo={description:"",displayName:"TwoSetChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/sets/TwoSetChart.tsx#TwoSetChart"]={docgenInfo:TwoSetChart.__docgenInfo,name:"TwoSetChart",path:"examples/sets/TwoSetChart.tsx#TwoSetChart"})}catch(__react_docgen_typescript_loader_error){}var Accent=__webpack_require__("./node_modules/d3-scale-chromatic/src/categorical/Accent.js"),ThreeSetChart_customTheme=(0,chsk_core_es.hr)(chsk_themes_es.Ee,{circle:{default:{fillOpacity:.7,strokeWidth:0}},path:{default:{fillOpacity:1}},text:{title:{fontWeight:400},vennSetLabel:{fill:"#222",fontSize:"16px"},vennIntersectionLabel:{fill:"#000",fontSize:"14px",pointerEvents:"none"},counter:{textAnchor:"middle",dominantBaseline:"middle"}},line:{axis:{visibility:"visible"}}}),labelFormats={A:"A",B:"B",C:"C"},ThreeSetChart_labelFormat=function labelFormat(x,index){var _labelFormats$String;return String(null!=(_labelFormats$String=labelFormats[String(x)])?_labelFormats$String:index)},ThreeSetChart_tooltipLabelFormat=function tooltipLabelFormat(x){var _ref;return null!=(_ref="value"in x?x.label+" - "+x.value:x.label)?_ref:""},ThreeSetChart=function ThreeSetChart(_ref2){var fref=_ref2.fref,chartData=_ref2.chartData,rawData=_ref2.rawData;return isVennData(rawData)?(0,jsx_runtime.jsxs)(chsk_core_es.kL2,{data:chartData,fref,id:"three-sets",size:[500,340],padding:[100,40,40,40],theme:ThreeSetChart_customTheme,children:[(0,jsx_runtime.jsx)(chsk_core_es.lqb,{enterOn:"title",children:(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[-30,-70],children:"Consider a pool of 600 elements."})}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{enterOn:"sizes",children:(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[-30,-46],children:"Pick three sets at random, each of size [20, 400]."})}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{enterOn:"sizes",children:(0,jsx_runtime.jsxs)(chsk_band_es.$Q,{data:rawData,keys:["size"],container:{size:[.4,1],padding:[10,40,0,20]},children:[(0,jsx_runtime.jsxs)(chsk_core_es.RDh,{variant:"bottom",children:[(0,jsx_runtime.jsx)(chsk_core_es.$Co,{}),(0,jsx_runtime.jsx)(chsk_core_es.yAs,{labelFormat:ThreeSetChart_labelFormat})]}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"Set size"}),(0,jsx_runtime.jsx)(chsk_band_es.Ll,{}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{itemSize:[90,24]})]})}),(0,jsx_runtime.jsxs)(chsk_core_es.lqb,{enterOn:"intersections",children:[(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[200,6],children:"The random sets will likely"}),(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[200,30],children:"have non-zero overlap."})]}),(0,jsx_runtime.jsx)(chsk_core_es.lqb,{enterOn:"intersections",children:(0,jsx_runtime.jsxs)(Venn,{data:rawData,proportional:!0,separation:.5,scaleColor:{variant:"categorical",colors:Accent.Z,size:5},container:{position:[.5,.2],size:[.6,.75],padding:[20,80,-10,20]},children:[(0,jsx_runtime.jsx)(VennSets,{}),(0,jsx_runtime.jsx)(VennSets,{style:{fillOpacity:0,stroke:"#000",strokeWidth:1}}),(0,jsx_runtime.jsx)(VennSetLabels,{ids:["A"],format:ThreeSetChart_labelFormat,rs:[1.3],angles:[-Math.PI/3]}),(0,jsx_runtime.jsx)(VennSetLabels,{ids:["B"],format:ThreeSetChart_labelFormat,rs:[1.3],angles:[Math.PI/3]}),(0,jsx_runtime.jsx)(VennSetLabels,{ids:["C"],format:ThreeSetChart_labelFormat,rs:[1.3],angles:[Math.PI]}),(0,jsx_runtime.jsx)(VennIntersectionLabels,{component:chsk_core_es.ATJ}),(0,jsx_runtime.jsx)(chsk_core_es.ua7,{itemSize:[140,24],labelFormat:ThreeSetChart_tooltipLabelFormat})]})})]}):null};try{ThreeSetChart.displayName="ThreeSetChart",ThreeSetChart.__docgenInfo={description:"",displayName:"ThreeSetChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/sets/ThreeSetChart.tsx#ThreeSetChart"]={docgenInfo:ThreeSetChart.__docgenInfo,name:"ThreeSetChart",path:"examples/sets/ThreeSetChart.tsx#ThreeSetChart"})}catch(__react_docgen_typescript_loader_error){}var rgb=__webpack_require__("./node_modules/d3-interpolate/src/rgb.js"),_excluded=["children"];function TextSetChart_extends(){return TextSetChart_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},TextSetChart_extends.apply(null,arguments)}var customColors=["#ff1f21","#5cd158","#4297dc"],TextSetChart_customTheme=(0,chsk_core_es.ItK)([chsk_themes_es.Ee,chsk_themes_es.f8,{path:{default:{fillOpacity:1,strokeWidth:1.5}},text:{default:{fill:"#222222"},title:{textAnchor:"middle"},subtitle:{textAnchor:"middle"},vs:{textAnchor:"middle",fontSize:"16px"},paragraph:{fill:"#f4f4f4"}}}]),interpolationRgb=function interpolationRgb(c1,c2,c3){if(void 0===c3)return(0,rgb.ZP)(c1,c2)(.5);var intermediate=(0,rgb.ZP)(c1,c2)(.5);return(0,rgb.ZP)(intermediate,c3)(1/3)},interpolationLab=function interpolationLab(c1,c2,c3){if(void 0===c3)return(0,lab.Z)(c1,c2)(.5);var intermediate=(0,lab.Z)(c1,c2)(.5);return(0,lab.Z)(intermediate,c3)(1/3)},customFormat=function customFormat(x,item){return+x<0||!item?"":"R"===item.id?"red":"G"===item.id?"green":"B"===item.id?"blue":"R G B"===item.id?"red + green + blue":"R G"===item.id?"red + green":"R B"===item.id?"red + blue":"G B"===item.id?"green + blue":""},CustomParagraph=function CustomParagraph(_ref){var children=_ref.children,props=function TextSetChart_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded);return(0,jsx_runtime.jsx)(chsk_annotation_es.nv,TextSetChart_extends({},props,{size:[40,12],align:.5,children}))},CustomVenn=function CustomVenn(props){return(0,jsx_runtime.jsxs)(Venn,TextSetChart_extends({},props,{children:[(0,jsx_runtime.jsx)(VennSets,{style:{stroke:"#222222"}}),(0,jsx_runtime.jsx)(VennIntersectionLabels,{ids:["R","G","B","R G B"],component:CustomParagraph,format:customFormat}),(0,jsx_runtime.jsx)(VennIntersectionLabels,{ids:["R G"],component:CustomParagraph,format:customFormat,offset:[0,2.8]}),(0,jsx_runtime.jsx)(VennIntersectionLabels,{ids:["G B"],component:CustomParagraph,format:customFormat,offset:[-2,-2]}),(0,jsx_runtime.jsx)(VennIntersectionLabels,{ids:["R B"],component:CustomParagraph,format:customFormat,offset:[2,-2]})]}))},TextSetChart=function TextSetChart(_ref2){var fref=_ref2.fref,chartData=_ref2.chartData,rawData=_ref2.rawData;return isVennData(rawData)?(0,jsx_runtime.jsxs)(chsk_core_es.kL2,{data:chartData,fref,id:"text-sets",size:[640,320],padding:[80,40,40,40],theme:TextSetChart_customTheme,children:[(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[140,-50],children:"RGB Interpolation"}),(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"vs",position:[280,-50],children:"vs."}),(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"title",position:[420,-50],children:"LAB Interpolation"}),(0,jsx_runtime.jsx)(chsk_core_es.ZT$,{variant:"subtitle",position:[420,-30],children:"(This is the library default)"}),(0,jsx_runtime.jsx)(CustomVenn,{container:{position:[0,0],positionUnits:"relative",size:[.5,1],sizeUnits:"relative"},data:rawData,interpolation:interpolationRgb,separation:.35,scaleColor:{variant:"categorical",colors:customColors,size:3}}),(0,jsx_runtime.jsx)(CustomVenn,{container:{position:[.5,0],positionUnits:"relative",size:[.5,1],sizeUnits:"relative"},data:rawData,interpolation:interpolationLab,separation:.35,scaleColor:{variant:"categorical",colors:customColors,size:3}}),(0,jsx_runtime.jsx)(navigation.N,{position:[470,220],image:!0})]}):null};try{TextSetChart.displayName="TextSetChart",TextSetChart.__docgenInfo={description:"",displayName:"TextSetChart",props:{chartData:{defaultValue:null,description:"data object passed to the 'Chart' component",name:"chartData",required:!0,type:{name:'Omit<ChartDataContextProps, "id">'}},fref:{defaultValue:null,description:"ref used to toggle milestones",name:"fref",required:!1,type:{name:"Ref<ChartRef>"}},rawData:{defaultValue:null,description:"raw dataset used for plotting",name:"rawData",required:!0,type:{name:"RawData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/sets/TextSetChart.tsx#TextSetChart"]={docgenInfo:TextSetChart.__docgenInfo,name:"TextSetChart",path:"examples/sets/TextSetChart.tsx#TextSetChart"})}catch(__react_docgen_typescript_loader_error){}const sets_stories={...gallery.m,title:"Gallery/Sets"},TwoSets={name:"two sets",args:{generator:function generateTwoSetData(){var elements=(0,utils.D)(600,1e4,"el"),sizeAlpha=(0,utils.SN)(10,400),sizeBeta=(0,utils.SN)(10,400),generateSet=function generateSet(n){var set=new Set;return(0,utils.i)(elements,n).forEach((function(x){return set.add(x)})),Array.from(set)};return[{id:"alpha",data:generateSet(sizeAlpha)},{id:"beta",data:generateSet(sizeBeta)}]},chart:TwoSetChart}},ThreeSets={name:"three sets",args:{generator:function generateThreeSetData(){var elements=(0,utils.D)(600,1e4,"el"),common=elements.slice(0,5),other=elements.slice(5,elements.length),sizeAlpha=Math.round((0,utils.SN)(20,400)),sizeBeta=Math.round((0,utils.SN)(20,400)),sizeGamma=Math.round((0,utils.SN)(20,400)),generateSet=function generateSet(n){var set=new Set(common);return(0,utils.i)(other,n).forEach((function(x){return set.add(x)})),Array.from(set)},setA=generateSet(sizeAlpha),setB=generateSet(sizeBeta),setC=generateSet(sizeGamma);return[{id:"A",data:setA,size:setA.length},{id:"B",data:setB,size:setB.length},{id:"C",data:setC,size:setC.length}]},chart:ThreeSetChart,steps:["title","sizes","intersections"]}},TextLabels={name:"text labels",args:{generator:function generateTextSetData(){return[{id:"R",data:[1,2,4,5],size:1},{id:"G",data:[2,3,5,6],size:1},{id:"B",data:[4,5,6,7],size:1}]},chart:TextSetChart,comment:(0,jsx_runtime.jsx)("div",{children:"This is a static chart; clicking the refresh button does not have any effect."})}},HorizontalUpset={name:"horizontal upset",args:{generator:function generateHorizontalUpSetData(){var elements=(0,utils.D)(200,1e4,"el"),ids=utils.eB.slice(0,5),common=elements.slice(0,20),preferred=elements.slice(20,100),other=elements.slice(100,elements.length),generateSet=function generateSet(n){var set=new Set(common);return(0,utils.i)(preferred,n/2).forEach((function(x){return set.add(x)})),(0,utils.i)(other,n/2).forEach((function(x){return set.add(x)})),Array.from(set)};return ids.map((function(id){return{id,data:generateSet(50)}}))},chart:HorizontalUpSetChart,steps:["axes","grid","bars"]}},VerticalUpset={name:"vertical upset",args:{generator:function generateVerticalUpSetData(){var elements=(0,utils.D)(200,1e4,"el"),ids=utils.eB.slice(0,6),preferred=elements.slice(0,80),other=elements.slice(80,elements.length),generateSet=function generateSet(n){var set=new Set;return(0,utils.i)(preferred,n/2).forEach((function(x){return set.add(x)})),(0,utils.i)(other,n/2).forEach((function(x){return set.add(x)})),Array.from(set)};return ids.map((function(id){return{id,data:generateSet(50)}}))},chart:VerticalUpSetChart,steps:["axes","grid","bars"]}},__namedExportsOrder=["TwoSets","ThreeSets","TextLabels","HorizontalUpset","VerticalUpset"];TwoSets.parameters={...TwoSets.parameters,docs:{...TwoSets.parameters?.docs,source:{originalSource:"{\n  name: 'two sets',\n  args: {\n    generator: generateTwoSetData,\n    chart: TwoSetChart\n  }\n}",...TwoSets.parameters?.docs?.source}}},ThreeSets.parameters={...ThreeSets.parameters,docs:{...ThreeSets.parameters?.docs,source:{originalSource:"{\n  name: 'three sets',\n  args: {\n    generator: generateThreeSetData,\n    chart: ThreeSetChart,\n    steps: ['title', 'sizes', 'intersections']\n  }\n}",...ThreeSets.parameters?.docs?.source}}},TextLabels.parameters={...TextLabels.parameters,docs:{...TextLabels.parameters?.docs,source:{originalSource:"{\n  name: 'text labels',\n  args: {\n    generator: generateTextSetData,\n    chart: TextSetChart,\n    comment: <div>This is a static chart; clicking the refresh button does not have any effect.</div>\n  }\n}",...TextLabels.parameters?.docs?.source}}},HorizontalUpset.parameters={...HorizontalUpset.parameters,docs:{...HorizontalUpset.parameters?.docs,source:{originalSource:"{\n  name: 'horizontal upset',\n  args: {\n    generator: generateHorizontalUpSetData,\n    chart: HorizontalUpSetChart,\n    steps: ['axes', 'grid', 'bars']\n  }\n}",...HorizontalUpset.parameters?.docs?.source}}},VerticalUpset.parameters={...VerticalUpset.parameters,docs:{...VerticalUpset.parameters?.docs,source:{originalSource:"{\n  name: 'vertical upset',\n  args: {\n    generator: generateVerticalUpSetData,\n    chart: VerticalUpSetChart,\n    steps: ['axes', 'grid', 'bars']\n  }\n}",...VerticalUpset.parameters?.docs?.source}}}},"./node_modules/d3-color/src/lab.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>lab});var src_define=__webpack_require__("./node_modules/d3-color/src/define.js"),color=__webpack_require__("./node_modules/d3-color/src/color.js");const radians=Math.PI/180,degrees=180/Math.PI,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);o instanceof color.Ss||(o=(0,color.SU)(o));var x,z,r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab((.2225045*r+.7168786*g+.0606169*b)/Yn);return r===g&&g===b?x=z=y:(x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/Xn),z=xyz2lab((.0139322*r+.0971045*g+.7141733*b)/Zn)),new Lab(116*y-16,500*(x-y),200*(y-z),o.opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(o instanceof Lab||(o=labConvert(o)),0===o.a&&0===o.b)return new Hcl(NaN,0<o.l&&o.l<100?0:NaN,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*degrees;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*radians;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}(0,src_define.Z)(Lab,lab,(0,src_define.l)(color.Il,{brighter(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return x=Xn*lab2xyz(x),y=Yn*lab2xyz(y),z=Zn*lab2xyz(z),new color.Ss(lrgb2rgb(3.1338561*x-1.6168667*y-.4906146*z),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}})),(0,src_define.Z)(Hcl,(function hcl(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}),(0,src_define.l)(color.Il,{brighter(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb(){return hcl2lab(this).rgb()}}))},"./node_modules/d3-interpolate/src/lab.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lab});var d3_color__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/d3-color/src/lab.js"),_color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3-interpolate/src/color.js");function lab(start,end){var l=(0,_color_js__WEBPACK_IMPORTED_MODULE_0__.ZP)((start=(0,d3_color__WEBPACK_IMPORTED_MODULE_1__.ZP)(start)).l,(end=(0,d3_color__WEBPACK_IMPORTED_MODULE_1__.ZP)(end)).l),a=(0,_color_js__WEBPACK_IMPORTED_MODULE_0__.ZP)(start.a,end.a),b=(0,_color_js__WEBPACK_IMPORTED_MODULE_0__.ZP)(start.b,end.b),opacity=(0,_color_js__WEBPACK_IMPORTED_MODULE_0__.ZP)(start.opacity,end.opacity);return function(t){return start.l=l(t),start.a=a(t),start.b=b(t),start.opacity=opacity(t),start+""}}},"./node_modules/d3-scale-chromatic/src/categorical/Accent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./node_modules/d3-scale-chromatic/src/colors.js").Z)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")},"./node_modules/d3-scale-chromatic/src/categorical/Dark2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./node_modules/d3-scale-chromatic/src/colors.js").Z)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},"./node_modules/d3-scale-chromatic/src/diverging/BrBG.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _colors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3-scale-chromatic/src/colors.js"),_ramp_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/d3-scale-chromatic/src/ramp.js"),scheme=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(_colors_js__WEBPACK_IMPORTED_MODULE_0__.Z);const __WEBPACK_DEFAULT_EXPORT__=(0,_ramp_js__WEBPACK_IMPORTED_MODULE_1__.Z)(scheme)},"./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _colors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3-scale-chromatic/src/colors.js"),_ramp_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/d3-scale-chromatic/src/ramp.js"),scheme=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(_colors_js__WEBPACK_IMPORTED_MODULE_0__.Z);const __WEBPACK_DEFAULT_EXPORT__=(0,_ramp_js__WEBPACK_IMPORTED_MODULE_1__.Z)(scheme)},"./node_modules/d3-shape/src/curve/bundle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _basis_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3-shape/src/curve/basis.js");function Bundle(context,beta){this._basis=new _basis_js__WEBPACK_IMPORTED_MODULE_0__.fE(context),this._beta=beta}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var x=this._x,y=this._y,j=x.length-1;if(j>0)for(var t,x0=x[0],y0=y[0],dx=x[j]-x0,dy=y[j]-y0,i=-1;++i<=j;)t=i/j,this._basis.point(this._beta*x[i]+(1-this._beta)*(x0+t*dx),this._beta*y[i]+(1-this._beta)*(y0+t*dy));this._x=this._y=null,this._basis.lineEnd()},point:function(x,y){this._x.push(+x),this._y.push(+y)}};const __WEBPACK_DEFAULT_EXPORT__=function custom(beta){function bundle(context){return 1===beta?new _basis_js__WEBPACK_IMPORTED_MODULE_0__.fE(context):new Bundle(context,beta)}return bundle.beta=function(beta){return custom(+beta)},bundle}(.85)}}]);