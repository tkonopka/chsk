"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[2277],{"./packages/band/dist/chsk-band.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$Q:()=>Bar,Ap:()=>DendrogramTree,BS:()=>Violin,CL:()=>isScheduleData,Cu:()=>useBarPreparedData,D_:()=>Strip,Gs:()=>Schedules,KI:()=>Violins,Ll:()=>Bars,O1:()=>BandLabels,Pf:()=>Schedule,Rv:()=>Quantiles,Ts:()=>isDendrogramData,Y_:()=>QuantileTooltip,af:()=>BarAndWhisker,bg:()=>Dendrogram,cO:()=>Quantile,iP:()=>Strips,k6:()=>isStripData,kH:()=>DendrogramSurface,kT:()=>BandSurface,nE:()=>BandHighlight,vW:()=>BarsLabels});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),framer_motion__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==n.indexOf(i))continue;t[i]=e[i]}return t}var isBandProcessedDataArray=function isBandProcessedDataArray(e,n){var t=e.map((function(e){return"object"==typeof e&&null!==e&&!!("id"in e&&"index"in e&&"data"in e&&"domain"in e)&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kJL)(e.data)&&e.data.map(n).every(Boolean)}));return t.length>0&&t.every(Boolean)},BandHighlightMask=function BandHighlightMask(e,n,t,i,r,a){var o=n[0],l=n[1],d={initial:a?t?{height:0}:{width:0}:void 0,style:i,className:r};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,t?{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.m.rect,_extends({animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][0])}},d),"mask-top"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.m.rect,_extends({transform:"translate("+o+","+l+")rotate(180)",animate:{width:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][1]),height:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.UYe)(l-e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][1])}},d),"mask-bottom")]}:{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.m.rect,_extends({animate:{width:e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][0],height:e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][1]}},d),"mask-left"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.m.rect,_extends({transform:"translate("+o+","+l+")rotate(180)",animate:{width:o-e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][1],height:e[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][1]}},d),"mask-right")]})},BandHighlight=function BandHighlight(a){var o=a.ids,l=a.interactive,s=void 0===l||l,d=a.edgeAnimation,u=void 0!==d&&d,c=a.tooltipAlign,I=void 0===c?[.5,.5]:c,P=a.className,C=a.setRole,W=void 0===C||C,j=a.style,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)(),B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Bs9)().size,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)().disabledKeys,V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lLG)().setData,A=0===L.x.bandwidth()&&0!==L.y.bandwidth(),E=A?L.y:L.x,q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),O=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),F=O[0],K=O[1],H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(o,null,M).idSet,X=A?B[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]:B[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return e=E,n=H,t=X,i=A,r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Ax7)(e,n),i?[[0,t],r]:[r,[0,t]];var e,n,t,i,r}),[E,H,X,A]),T=M.data;if(!isBandProcessedDataArray(T,(function(){return!0})))return null;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!s&&null===F){var e=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(Y[0]),n=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(Y[1]);K([e,n])}}),[Y,K]);var U=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){V({}),K(null)}),[V,K]),G=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(q&&q.current){var n=q.current.getBoundingClientRect(),t=n.x,i=n.y,r=[e.clientX-t,e.clientY-i];if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.sn2)(r,F)){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.CXu)(r,Y),o=a.indexes,l=a.zone;if(null!==l){var s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.ueV)([l[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X][0],l[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y][0]],(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gCP)(l),I),d=s[0],u=s[1],c=A?o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]:o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],v=T[c];if(null!=v&&v.id&&null!=v&&v.data){var f=null==v?void 0:v.id,m=null==v?void 0:v.data.map((function(e,n){return _extends({},e,{id:f,key:M.keys[n]})})).filter((function(e){return!(e.key&&D.has(e.key))}));V({x:d,y:u,title:f,data:m}),K(l)}}else U()}}}),[Y,q,F,K]),J=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",{ref:q,role:W?"band-detector":void 0,width:B[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],height:B[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],style:{opacity:0},onMouseMove:G,onMouseLeave:U}),Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)("band-highlight",P);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:"band-highlight",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:W?"band-highlight-mask":void 0,visible:null!==F,firstRender:!1,children:null===F?null:BandHighlightMask(F,B,A,j,Q,u)},"band-highlight-mask"),s?J:null]})},BandSurface=function BandSurface(e){var t,i=e.variant,o=void 0===i?"step":i,l=e.ids,s=e.expansion,d=void 0===s?[0,0]:s,u=e.interactive,c=void 0!==u&&u,p=e.tooltip,g=void 0!==p&&p,k=e.component,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.AeJ:k,_=e.componentProps,z=e.dataComponent,w=void 0===z?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Aj5:z,N=e.handlers,R=e.modifiers,I=e.className,W=e.setRole,j=void 0===W||W,M=e.style,B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)(),L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Bs9)().size,D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lLG)().data,A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),E=A[0],q=A[1],O=0===D.x.bandwidth()&&0!==D.y.bandwidth(),F=O?D.y:D.x,K="step"===o?F.step():F.bandwidth(),H=(O?L[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]:L[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y])+d[0]+d[1],X=O?K:H,Y=O?H:K,T=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(l,null,B).idSet,U=null==V||null==(t=V.data)||null==(t=t[0])?void 0:t.id,G=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==N||null==N.onMouseEnter||N.onMouseEnter(e,n),q(null==e?void 0:e.id)}),[N,q]),J=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==N||null==N.onMouseLeave||N.onMouseLeave(e,n),q(void 0)}),[N,q]),Q=c?_extends({},N,{onMouseEnter:G,onMouseLeave:J}):N,Z=_extends({variant:"band-surface",setRole:!1},_,{width:Y,height:X,className:I,style:M}),$=B.data.map((function(e,n){if(!T.has(e.id))return null;var t=F(e.id),i=O?-d[0]:t-K/2,r=O?t-K/2:-d[0],o=!!g&&U===e.id,l=!!c&&e.id===E,s=!g&&!c;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(w,{key:"band-"+n,component:S,data:{id:e.id},props:_extends({},Z,{x:i,y:r,opacity:+(s||l||o)}),handlers:Q,modifiers:R})})).filter(Boolean);return 0===$.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:j?"band-surface":void 0,children:$})},BandLabels=function BandLabels(e){var n=e.ids,t=e.position,i=void 0===t?1:t,r=e.size,o=void 0===r?[1,1]:r,l=e.unit,s=void 0===l?"relative":l,d=e.offset,u=void 0===d?[0,0]:d,c=e.align,p=e.padding,h=e.format,g=void 0===h?function(e){return String(e.id)}:h,k=e.component,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.__J:k,_=e.componentProps,z=e.className,N=e.setRole,R=void 0===N||N,I=e.style,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.W3B)().data,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)(),B=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Bs9)(),L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,D=0===L.x.bandwidth()&&0!==L.y.bandwidth(),V=D?L.y:L.x,A=V.bandwidth(),E=C.data,q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(n,null,C).idSet,O=function(e,n,t,i,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.eE7)([e,e],n,t,i);return r?a[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]:a[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]}(i,s,B.size,L,D),F="relative"===s?[o[0]*A,o[1]*A]:o,K=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)("bandLabel",z),H=E.map((function(e,n){var t=P[n];if(!q.has(e.id)||void 0===t)return null;var i=V(e.id),r=D?[O,i]:[i,O];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(S,_extends({key:"band-label-"+n,setRole:!1},_,{position:[r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]],size:F,align:c,padding:p,className:K,style:I,variant:"label"}),g(t))})).flat().filter(Boolean);return 0===H.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:R?"band-labels":void 0,children:H})},Se=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),BarPreparedDataProvider=function BarPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Se.Provider,{value:o,children:a})},useBarPreparedData=function useBarPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Se)},getScaleProps=function getScaleProps(e,n,t,i,r,a,o,l){void 0===l&&(l=!1);var s={index:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.BRZ)(t),value:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.BRZ)(i)};if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.HBl)(t)||(s.index.domain=e),!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.HBl)(i)){var d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RGn)(o).filter((function(e){return!o[e]})),isValue=function isValue(e){return void 0!==e&&isFinite(Number(e))},u=n.map((function(e){return d.map((function(n){return e[n]})).flat().filter(isValue)})),c=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(l?u.map((function(e){var n=e.reduce((function(e,n){return isFinite(n)&&n>0?e+n:e}),0);return[e.reduce((function(e,n){return isFinite(n)&&n<0?e+n:e}),0),n]})).flat():u.flat());s.value=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.zAC)(i,c)}return s.index.size=a?r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]:r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],s.value.size=a?r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]:r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],s},getInternalWidthAndGap=function getInternalWidthAndGap(e,n,t,i){var r=e.bandwidth(),a=n.length,o=t||0,l="grouped"===i?r/a:r,s=l*o;return"grouped"===i?[l*(1-o),s/2,s]:[l*(1-o),s/2,-l*(1-o)]},_e=["container","variant","data","keys","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Bar=function Bar(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.horizontal,c=void 0!==s&&s,v=e.autoRescale,f=void 0===v||v,m=e.paddingInternal,h=void 0===m?0:m,y=e.scaleIndex,x=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Us:y,b=e.scaleValue,g=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Tx9:b,k=e.scaleColor,S=e.children,_=_objectWithoutPropertiesLoose(e,_e),z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FgM)(),w=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.uK4)(i),N=w.dimsProps,R=w.origin,I=w.innerSize,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(l).disabled,C=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(o)}),[o]),W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){var t=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(e)}));return e.map((function(e,n){var i=t.map((function(n){return Number(n(e))}));return{id:e.id,index:n,data:i,domain:i.map((function(e){return[0,e]}))}}))}(o,l)}),[o,l]),j="stacked"===a,M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getScaleProps(W.map((function(e){return e.id})),W.map((function(e){return e.domain})),x,g,I,c,f?P:Array(l.length).fill(!1),j)}),[W,x,g,I,c,f,P,l,j]),B=M.index,L=M.value,D=c?L:B,V=c?B:L,U=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.NVB)(null!=k?k:z.Color.categorical,l),G=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.cT_)({x:D,y:V,color:U}),J=G.scales,Q=c?J.y:J.x,Z=c?J.x:J.y,$=getInternalWidthAndGap(Q,l,h,a),ee=$[0],ne=$[1],te=$[2],ie=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o,l,s){var d=t(0);return e.map((function(e){var u=e.data.map((function(e,n){return s[n]||!e?0:t(e)-d})),c=n(e.id)-n.bandwidth()/2,v=[],f=[];if(i?u.forEach((function(e){f.push([e,a])})):u.forEach((function(e){f.push([a,e])})),u=u.map((function(e){return null!=e?e:d})),r)if(i){var m=d;u.forEach((function(e){v.push([m,c]),m+=e}))}else{var p=d;u.forEach((function(e){v.push([c,p]),p+=e}))}else if(i){var h=c+o;u.forEach((function(){v.push([d,h]),h+=a+l}))}else{var y=c+o;u.forEach((function(){v.push([y,d]),y+=a+l}))}return{id:e.id,index:e.index,position:v,size:f}}))}(W,Q,Z,c,j,ee,ne,te,P)}),[W,c,j,Q,Z,ee,ne,te,P]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.PzT,_extends({variant:"bar",position:R,size:N.size,padding:N.padding,originalData:o,processedData:W,seriesIndexes:C,keys:l,scalesContextValue:G},_,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BarPreparedDataProvider,{data:ie,seriesIndexes:C,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:S})})}))},isBarProcessedData=function isBarProcessedData(e){return isBandProcessedDataArray(e,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hj$)},ze=["ids","keys","component","componentProps","className","style","setRole","dataComponent"],Bars=function Bars(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.AeJ:r,l=e.componentProps,s=e.className,d=e.style,u=e.setRole,c=void 0===u||u,f=e.dataComponent,h=void 0===f?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.oKN:f,x=_objectWithoutPropertiesLoose(e,ze),b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)().data,g=useBarPreparedData(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales.color,S=g.data,_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),z=_.disabledKeys,w=_.firstRender,R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(n,i,g),I=R.idSet,C=R.keySet;if(!isBarProcessedData(b))return null;var W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RGn)(g.keys).map((function(e){var n=k(e);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(d,n)}))}),[g,d,k]),j=_extends({variant:"bar",setRole:!1},l,{className:s}),M=g.keys.map((function(e,n){if(!C.has(e))return null;var t=!z.has(e),i=S.map((function(t){var i,r=t.position[n],l=t.size[n];return I.has(t.id)&&r&&l?0===l[0]||0===l[1]?null:(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(h,_extends({key:"bar-"+t.id+"-"+e,component:o,data:{id:t.id,key:e,data:Number(null==(i=b[t.index])?void 0:i.data[n])},props:_extends({},j,{x:r[0],y:r[1],width:l[0],height:l[1],style:W[n]})},x)):null})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:c?"bars":void 0,visible:t,firstRender:w,children:i},"b-"+e)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:M.filter(Boolean)})},BarsLabels=function BarsLabels(e){var n=e.variant,t=void 0===n?"bar-label":n,i=e.ids,r=e.keys,o=e.format,l=void 0===o?function(e){return String(e)}:o,s=e.padding,d=void 0===s?[4,4,4,4]:s,u=e.minSize,c=void 0===u?[40,10]:u,f=e.align,m=void 0===f?[.5,.5]:f,h=e.offset,g=void 0===h?[0,0]:h,k=e.angle,S=e.className,_=e.setRole,z=void 0===_||_,R=e.style,I=e.showOuter,P=void 0!==I&&I,C=e.styleOuter,W=e.component,j=void 0===W?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.__J:W,B=e.componentProps,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)().data,D=useBarPreparedData(),V=D.data,A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),E=A.disabledKeys,q=A.firstRender,O=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(i,r,D),F=O.idSet,K=O.keySet;if(!isBarProcessedData(L))return null;var H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)(t,S),X=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)(t+" out",S),Y=_extends({setRole:!1},B,{align:m,angle:k,padding:d}),T=D.keys.map((function(e,n){if(!K.has(e))return null;var t=!E.has(e),i=V.map((function(e,t){var i,r=e.size[n],o=e.position[n];if(!F.has(e.id)||!r||!o)return null;var s=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]+g[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]+r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]/2,o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]+g[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]+r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]/2],d=R,u=H;if(Math.abs(r[0])<c[0]||Math.abs(r[1])<c[1]){if(!P)return null;d=C,s[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]+=r[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],u=X}return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(j,_extends({key:"label-"+t+"-"+n},Y,{position:s,size:r,className:u,style:d}),l(Number(null==(i=L[t])?void 0:i.data[n])))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:z?"bars-labels":void 0,visible:t,firstRender:q,children:i},"labels-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:T.filter(Boolean)})},we=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),DendrogramPreparedDataProvider=function DendrogramPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(we.Provider,{value:o,children:a})},useDendrogramPreparedData=function useDendrogramPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(we)},Ne=["container","variant","data","scaleIndex","scaleValue","hang","children"],Dendrogram=function Dendrogram(e){var n,i,r=e.container,a=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WdC:r,o=e.variant,l=void 0===o?"bottom":o,s=e.data,c=e.scaleIndex,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Us:c,f=e.scaleValue,m=void 0===f?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Bs3:f,p=e.hang,h=void 0===p?-1:p,y=e.children,x=_objectWithoutPropertiesLoose(e,Ne),b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.uK4)(a),k=b.dimsProps,S=b.origin,_=b.innerSize,z=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(s)}),[s]),w="right"===l||"left"===l,N=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){return e.map((function(e,t){var i=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(e.height);return{id:e.id,index:t,domain:n<0?[0,i[1]]:[i[0]-n,i[1]]}}))}(s,h)}),[s,h]),R=null!=(n=null==(i=s[0])?void 0:i.keys)?n:[],I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getScaleProps(R,s.map((function(e){return e.keys.map((function(){var e;return null==(e=N[0])?void 0:e.domain}))})),v,m,_,w,Array(R.length).fill(!1),!1)}),[N,v,m,_,w]),P=I.index,C=I.value,W=w?C:P,j=w?P:C;C.reverse="top"===l||"right"===l;var M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.cT_)({x:W,y:j}),B=M.scales,L=w?B.y:B.x,D=w?B.x:B.y,V=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i){var r=Math.abs;return e.map((function(e,a){var o=e.merge.length,l=Array(o).fill(0),s=Array(o).fill(0),d=e.keys.map(n),u=Array(e.keys.length).fill(t(0)),c=[],v=[];return e.merge.map((function(n,a){var o,f,m,p,h,y,x=null!=(o=e.height[a])?o:0;s[a]=t(x);var b=[0,0],k=[0,0,null!=(f=s[a])?f:0],S=n[0],_=n[1];S<0&&i>=0&&(u[r(S)-1]=t(x-i)),_<0&&i>=0&&(u[r(_)-1]=t(x-i)),k[0]=Number(S<0?u[r(S)-1]:null==(m=v[S-1])?void 0:m[0]),k[1]=Number(_<0?u[r(_)-1]:null==(p=v[_-1])?void 0:p[1]),b[0]=Number(S<0?d[r(S)-1]:l[S-1]),b[1]=Number(_<0?d[r(_)-1]:l[_-1]),l[a]=.5*(b[0]+b[1]),S>0&&b.push(null!=(h=c[S-1])?h:[]),_>0&&b.push(null!=(y=c[_-1])?y:[]),c[a]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(b.flat()),v[a]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(k)})),{id:e.id,index:a,merge:e.merge,position:l,height:s,leafPosition:d,leafHeight:u,positionInterval:c,heightInterval:v}}))}(s,L,D,h)}),[s,L,D,h]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.PzT,_extends({variant:"dendrogram",position:S,size:k.size,padding:k.padding,originalData:s,processedData:N,seriesIndexes:z,keys:R,scalesContextValue:M},x,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DendrogramPreparedDataProvider,{data:V,seriesIndexes:z,keys:R,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:y})})}))},isDendrogramData=function isDendrogramData(e){var n=e.map((function(e){if("object"!=typeof e||null===e)return!1;if("id"in e&&"keys"in e&&"height"in e&&"merge"in e){var n=e.merge,t=e.height;return!(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kJL)(t)||!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kJL)(n))&&t.length===n.length}return!1}));return n.length>0&&n.every(Boolean)},Ie=function getSubTree(e,n,t){t.push(n);var i=e.merge[n];i&&(i[0]>0&&getSubTree(e,i[0]-1,t),i[1]>0&&getSubTree(e,i[1]-1,t))},getTargetLevels=function getTargetLevels(e,n,t,i,r){void 0===r&&(r=!1);var a=[];if(void 0===i&&void 0===t?a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.w6H)(e.merge.length):void 0!==t&&(a=a.concat(t)),void 0!==i){var o=function(e,n,t){for(var i,r=t.map((function(e){return n(e)})),a=e.positionInterval.length-1,_loop=function _loop(){var n=e.positionInterval[o];if(r.every((function(e){return e>=n[0]&&e<=n[1]})))return{v:o}},o=0;o<a;o++)if(i=_loop())return i.v;return a}(e,n,i);if(r){var l=[];Ie(e,o,l),a=a.concat(l)}else a.push(o)}return a.sort((function(e,n){return n-e})),a},DendrogramSurface=function DendrogramSurface(e){var t=e.levels,i=e.ids,o=e.keys,l=e.expansion,s=void 0===l?[0,0,0,0]:l,d=e.expansionUnit,u=void 0===d?"band":d,c=e.component,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.AeJ:c,f=e.componentProps,p=e.dataComponent,h=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Aj5:p,x=e.interactive,b=void 0!==x&&x,g=e.handlers,k=e.modifiers,S=e.className,_=e.style,z=e.setRole,w=void 0===z||z,N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.W3B)().data,R=useDendrogramPreparedData(),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y7R)(I.y),M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),B=M[0],L=M[1],D=j?I.y:I.x,V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(i,o,R),A=V.idSet,E=V.keyArray;if(!isDendrogramData(N))return null;var q="band"===u?D.bandwidth():D.step(),O=s.map((function(e){return e*q})),F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==g||null==g.onMouseEnter||g.onMouseEnter(e,n),L(e)}),[g,L]),K=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,n){null==g||null==g.onMouseLeave||g.onMouseLeave(e,n),L(void 0)}),[g,L]),H=b?_extends({},g,{onMouseEnter:F,onMouseLeave:K}):g,X=_extends({variant:"dendrogram-surface",setRole:w},f,{className:S,style:_}),Y=R.data.map((function(e){var n=e.id,i=N[e.index];return A.has(n)&&i?getTargetLevels(e,D,t,void 0===o?o:E).map((function(t){var r=function(e,n,t,i){var r=e.positionInterval[n],a=e.heightInterval[n];if(!r||!a)return null;var o=a[1]-a[0],l=r[1]-r[0];return{x:(t?a[0]:r[0])-i[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RLj],y:(t?r[0]:a[0])-i[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.GSB],width:(t?o:l)+i[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RLj]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.pXp],height:(t?l:o)+i[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.GSB]+i[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.DaS]}}(e,t,j,O);if(!r)return null;var o=!!b&&e.id===(null==B?void 0:B.id)&&t===(null==B?void 0:B.level);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(h,{key:"s-"+n+"-"+t,component:v,data:{id:n,level:t,data:i},props:_extends({},X,r,{opacity:+(o||!b)}),handlers:H,modifiers:k})})):null}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:Y.filter(Boolean)})},nodePoint=function nodePoint(e,n,t){var i=n<0?e.leafPosition:e.position,r=n<0?e.leafHeight:e.height,a=[Number(i[Math.abs(n)-1]),Number(r[Math.abs(n)-1])];return t?a.reverse():a},DendrogramTree=function DendrogramTree(e){var n=e.levels,t=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y$t:r,l=e.componentProps,s=e.dataComponent,d=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Aj5:s,u=e.handlers,c=e.modifiers,v=e.className,f=e.style,p=e.setRole,h=void 0===p||p,g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.W3B)().data,k=useDendrogramPreparedData(),S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(t,i,k),z=_.idSet,w=_.keyArray,N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y7R)(S.y),R=N?S.y:S.x;if(!isDendrogramData(g))return null;var I=_extends({variant:"dendrogram",setRole:!1},l,{style:f,className:v}),P=k.data.map((function(e){var t=e.id;if(!z.has(t))return null;var r=getTargetLevels(e,R,n,void 0===i?i:w,!0).map((function(n){var i=e.merge[n],r=g[e.index];if(i&&r){var l=function(e,n,t,i,r){var a=Array(4);a[0]=nodePoint(e,t,r),a[3]=nodePoint(e,i,r);var o=nodePoint(e,n,r);return r?(a[1]=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],a[0][_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]],a[2]=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],a[3][_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]]):(a[1]=[a[0][_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]],a[2]=[a[3][_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]]),a}(e,n+1,i[0],i[1],N);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(d,{key:"t-"+e.index+"-"+n,data:{id:t,level:n,data:r},component:o,props:_extends({},I,{points:l}),handlers:u,modifiers:c})}})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:h?"dendrogram-tree":void 0,children:r},"t-"+e.index)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:P.filter(Boolean)})},Pe=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),QuantilePreparedDataProvider=function QuantilePreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Pe.Provider,{value:o,children:a})},Ce=["data","horizontal","boxStyle","whiskerStyle","whiskerCapWidth","className","style","setRole"],BarAndWhisker=function BarAndWhisker(e){var n=e.data,t=e.horizontal,i=e.boxStyle,r=e.whiskerStyle,a=e.whiskerCapWidth,o=void 0===a?0:a,l=e.className,d=e.style,u=e.setRole,c=_objectWithoutPropertiesLoose(e,Ce),v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales;if(!n)return null;if(void 0===n.moments||void 0===n.interval)return null;var f=n.bandWidth/2,p=o*f,h=n.bandStart+f,y=n.moments[0],x=(t?v.x:v.y)(0),b={className:l,setRole:!1},g=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.AeJ,_extends({variant:"bar",x:-f,y:0,width:n.bandWidth,height:x-y,style:i},b),"bar"),k=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:0,y2:-y+n.interval[1],style:r},b),"line")],S=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,_extends({variant:"whisker-cap",x1:-p,x2:p,y1:-y+n.interval[1],y2:-y+n.interval[1],style:r},b),"cap")],_={x:t?y:h,y:t?h:y,rotate:t?-90:0,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.m.g,_extends({initial:_,animate:_,role:u?"bar-and-whisker":void 0,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.dJS)(d,_)},c,{children:[g,k,o>0?S:null]}))},We=["data","horizontal","boxStyle","whiskerStyle","middleStyle","whiskerCapWidth","className","style","setRole"],BoxAndWhiskers=function BoxAndWhiskers(e){var n=e.data,t=e.horizontal,i=e.boxStyle,r=e.whiskerStyle,a=e.middleStyle,o=e.whiskerCapWidth,l=void 0===o?0:o,d=e.className,u=e.style,c=e.setRole,v=_objectWithoutPropertiesLoose(e,We);if(!n)return null;var f=n.bandWidth/2,m=l*f,p=n.values,h=n.bandStart+f,y=n.values[2],x={className:d,setRole:!1},b=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.AeJ,_extends({variant:"box",x:-f,y:-y+p[3],width:n.bandWidth,height:p[1]-p[3],style:i},x),"box"),g=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,_extends({variant:"median",x1:-f,x2:+f,y1:0,y2:0,style:a},x),"median"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:-y+p[3],y2:-y+p[4],style:r},x),"upper"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,_extends({variant:"whisker",x1:0,x2:0,y1:-y+p[1],y2:-y+p[0],style:r},x),"lower")],k=[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,_extends({variant:"whisker-cap",x1:-m,x2:m,y1:-y+p[4],y2:-y+p[4],style:r},x),"upper-cap"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,_extends({variant:"whisker-cap",x1:-m,x2:m,y1:-y+p[0],y2:-y+p[0],style:r},x),"lower-cap")],S={x:t?y:h,y:t?h:y,rotate:t?-90:0,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.m.g,_extends({initial:S,animate:S,role:c?"box-and-whiskers":void 0,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.dJS)(u,S)},v,{children:[b,g,l>0?k:null]}))},getQuantiles=function getQuantiles(e,n){var t=e.length-1,i=[].concat(e).sort((function(e,n){return e-n}));return n.map((function(e){return function(e,n,t){var i=t*Math.max(0,Math.min(1,n)),r=Math.floor(i);if(i===r)return Number(e[r]);var a=Number(e[r]);return a+(Number(e[r+1])-a)*(i-r)}(i,e,t)}))},isQuantileProcessedSummary=function isQuantileProcessedSummary(e){if(!e)return!0;if("object"!=typeof e)return!1;if(!("n"in e))return!1;var n=[5,5,2];return["values","quantiles","extrema"].map((function(t,i){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kJL)(e[t])&&e[t].length===n[i]})).every(Boolean)},Me=["container","variant","data","keys","quantiles","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Quantile=function Quantile(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.quantiles,v=void 0===s?[.05,.25,.5,.75,.95]:s,f=e.horizontal,m=void 0!==f&&f,h=e.autoRescale,y=void 0===h||h,x=e.paddingInternal,b=void 0===x?0:x,k=e.scaleIndex,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Us:k,_=e.scaleValue,z=void 0===_?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Tx9:_,w=e.scaleColor,N=e.children,R=_objectWithoutPropertiesLoose(e,Me),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FgM)(),P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.uK4)(i),C=P.dimsProps,W=P.origin,j=P.innerSize,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(l).disabled,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(o)}),[o]),L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){var i=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(e)}));return e.map((function(e,n){var r=i.map((function(n){var i=n(e);if(i){if(isQuantileProcessedSummary(i))return{n:i.n,moments:i.moments,interval:i.interval,values:i.values,quantiles:i.quantiles,extrema:i.extrema};if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kJL)(i)){var r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Gi7)(i),a=r[0],o=r[1],l=isFinite(o)?Math.sqrt(o):0;return{n:i.length,moments:[a,o],interval:[a-l,a+l],values:getQuantiles(i,t),quantiles:t,extrema:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(i)}}}}));return{id:e.id,index:n,data:r,domain:r.map((function(e){return e?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(e.extrema):void 0}))}}))}(o,l,v)}),[o,l,v]),D=getScaleProps(L.map((function(e){return e.id})),L.map((function(e){return e.domain})),S,z,j,m,y?M:Array(l.length).fill(!1)),V=D.index,U=D.value,G=m?U:V,J=m?V:U,Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.NVB)(null!=w?w:I.Color.categorical,l),Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.cT_)({x:G,y:J,color:Q}),$=Z.scales,ee=m?$.y:$.x,ne=m?$.x:$.y,te=getInternalWidthAndGap(ee,l,b,a),ie=te[0],re=te[1],ae=te[2],oe=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a){return e.map((function(e){var o=n(e.id)-n.bandwidth()/2+r,l=e.data.map((function(e){var n,r;if(o+=i+a,void 0!==e)return{n:e.values.length,moments:null==(n=e.moments)?void 0:n.map((function(e){return t(Number(e))})),interval:null==(r=e.interval)?void 0:r.map((function(e){return t(Number(e))})),values:e.values.map((function(e){return t(e)})),quantiles:e.quantiles,extrema:e.extrema.map((function(e){return t(e)})),bandStart:o-i-a,bandWidth:i}}));return{id:e.id,index:e.index,data:l}}))}(L,ee,ne,ie,re,ae)}),[L,ee,ne,ie,re,ae]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.PzT,_extends({variant:"distribution",position:W,size:C.size,padding:C.padding,originalData:o,processedData:L,seriesIndexes:B,keys:l,scalesContextValue:Z},R,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(QuantilePreparedDataProvider,{data:oe,seriesIndexes:B,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:N})})}))},InformationTable=function InformationTable(e){var n=e.position,t=e.size,i=e.labels,r=e.values,a=e.className,o=e.style;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[i.map((function(e,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:n[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],y:n[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]+i*t[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],className:a+" label",style:o,children:void 0!==r[i]?e+":":""},"label-"+i)})),r.map((function(e,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:n[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]+t[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],y:n[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]+i*t[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],className:a+" value",style:o,children:null!=e?e:""},"value-"+i)}))]})},QuantileTooltipItem=function QuantileTooltipItem(e){var n=e.position,t=void 0===n?[0,0]:n,i=e.data,r=e.padding,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WO3.padding:r,l=e.color,s=e.r,d=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.r:s,u=e.symbol,c=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.bK0:u,v=e.symbolStyle,f=e.label,p=e.labelStyle,h=e.labelDistance,y=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.labelDistance:h,g=e.valueFormat,k=void 0===g?function(e){return String(e)}:g,S=e.cellSize,_=void 0===S?[40,20]:S,z=e.cellPadding,N=void 0===z?20:z,R=e.cellStyle,I=e.className,P=e.style,C=e.setRole,W=void 0===C||C,j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales.color;if(!isQuantileProcessedSummary(i))return null;if(!i)return null;var M="key"in i?String(i.key):"",B=[d+o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RLj],d+o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.GSB]],L=[B[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]+d+y,B[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]],D=function(e,n,t,i){var r="number"==typeof n?t(n):null!=n?n:t(t.domain().indexOf(null!=i?i:""));return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(e,r)}(v,l,j,M),V=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)("tooltipSymbol right",I),A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)("tooltipItem right",I),E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gjB)("tooltipItem",I),q=[o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RLj],Math.max(o[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.GSB]+1.5*_[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],2*L[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y])],O=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(InformationTable,{position:q,size:_,labels:["n","mean","stdev","min","max"],values:[i.n,i.moments?k(i.moments[0]):void 0,i.moments&&isFinite(i.moments[1])?k(Math.sqrt(i.moments[1])):void 0,k(i.extrema[0]),k(i.extrema[1])],className:E,style:R},"info-n-mean"),F=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(InformationTable,{position:[q[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]+2*_[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]+N,q[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]],size:_,labels:i.quantiles.map((function(e){return String(100*e)+"%"})),values:i.values.map((function(e){return k(e)})),className:E},"info-q");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:W?"tooltip-item":void 0,transform:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.R6R)(t),style:P,className:"tooltipItem",children:[(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c,{key:"symbol-"+M,cx:B[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],cy:B[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],r:d,className:V,style:D,setRole:!1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:L[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],y:L[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],className:A,style:p,children:null!=f?f:M},"label"),O,F]},"item-"+M)},QuantileTooltip=function QuantileTooltip(e){var n,t,i,r=e.offset,a=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.offset:r,o=e.size,l=e.anchor,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.anchor:l,d=e.padding,u=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.padding:d,c=e.rx,v=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.rx:c,f=e.ry,m=void 0===f?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.ry:f,p=e.maxOverhang,y=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.maxOverhang:p,g=e.itemSize,k=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.itemSize:g,S=e.itemPadding,_=void 0===S?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.itemPadding:S,z=e.firstOffset,w=void 0===z?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.firstOffset:z,N=e.title,R=e.titleStyle,I=e.titleFormat,P=e.r,C=void 0===P?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.r:P,W=e.symbol,j=void 0===W?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.bK0:W,M=e.symbolStyle,B=e.labelStyle,L=e.labelDistance,D=void 0===L?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WWF.labelDistance:L,V=e.labelFormat,A=e.valueFormat,E=void 0===A?function(e){return String(e)}:A,q=e.cellSize,O=void 0===q?[40,20]:q,F=e.cellPadding,K=void 0===F?20:F,H=e.cellStyle,X=e.className,Y=e.style,T=e.setRole,U=void 0===T||T,G=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lLG)().data,J=null!=(n=null==G?void 0:G.data)?n:[];if(!J.every((function(e){return isQuantileProcessedSummary(e)})))return null;N=null!=(t=N)?t:null===I?"":I?I(G):G.title;var Q=J.length,Z=[4*O[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]+K,5*O[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]];o=null!=(i=o)?i:[Math.max(k[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],Z[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X])+u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RLj]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.pXp],k[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]*Q+(N?k[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]:0)+Z[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]*Q+u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.GSB]+u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.DaS]];var $=[u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RLj],u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.GSB]],re=[u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RLj],u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.GSB]],ae=[0,k[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]];N&&(re[0]+=ae[0]+w[0],re[1]+=ae[1]+w[1]);var oe=Array(Q).fill(0).map((function(e,n){return[u[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RLj],re[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]+(k[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]+Z[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y])*n]})),le=J.map((function(e,n){var t,i,r,a=null!=(t=e.key)?t:"";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(QuantileTooltipItem,{position:oe[n],data:e,label:V&&null!=(i=V(e))?i:a,labelDistance:D,item:null!=(r=e.key)?r:"",padding:_,symbol:j,symbolStyle:M,labelStyle:B,className:X,valueFormat:E,cellPadding:K,cellSize:O,cellStyle:H},"item-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.ua7,{offset:a,size:o,padding:u,anchor:s,rx:v,ry:m,maxOverhang:y,style:Y,setRole:U,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.CKu,{variant:"right",position:$,size:k,padding:_,offset:[0,C],style:R,className:X,children:N},"title"),le]})},Be=["ids","keys","component","componentProps","className","setRole","boxStyle","whiskerStyle","middleStyle","whiskerCapWidth","dataComponent"],Quantiles=function Quantiles(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?BoxAndWhiskers:r,l=e.componentProps,s=e.className,d=e.setRole,u=void 0===d||d,c=e.boxStyle,f=e.whiskerStyle,h=e.middleStyle,x=e.whiskerCapWidth,b=e.dataComponent,g=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.oKN:b,k=_objectWithoutPropertiesLoose(e,Be),S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)().data,_=function useQuantilePreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Pe)}(),z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,w=z.color,R=_.data,I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),P=I.disabledKeys,C=I.firstRender,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y7R)(z.y),j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(n,i,_),M=j.idSet,B=j.keySet;if(!function isQuantileProcessedData(e){return isBandProcessedDataArray(e,isQuantileProcessedSummary)}(S))return null;var L=_.keys,V=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RGn)(L).map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(c,w(e))}))}),[L,c,w]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RGn)(L).map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(f,w(e))}))}),[L,f,w]),E=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RGn)(L).map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(h,w(e))}))}),[L,h,w]),q=_extends({setRole:u},l,{horizontal:W,className:s,whiskerCapWidth:x}),O=_.keys.map((function(e,n){if(!B.has(e))return null;var t=!P.has(e),i=R.map((function(t){var i;if(!M.has(t.id))return null;var r=t.data[n],l=null==(i=S[t.index])?void 0:i.data[n];return l?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(g,_extends({key:"q-"+t.index+"-"+n,data:_extends({id:t.id,key:e},l),component:o,props:_extends({},q,{data:r,boxStyle:V[n],whiskerStyle:A[n],middleStyle:E[n]})},k)):null})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:u?"quantiles":void 0,visible:t,firstRender:C,children:i},"q-"+n)})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:O})},Le=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),SchedulePreparedDataProvider=function SchedulePreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Le.Provider,{value:o,children:a})},De=["container","data","keys","intervalStart","intervalEnd","intervalKey","horizontal","autoRescale","scaleIndex","scaleValue","scaleColor","children"],Schedule=function Schedule(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WdC:n,r=e.data,a=e.keys,o=e.intervalStart,l=void 0===o?"start":o,s=e.intervalEnd,c=void 0===s?"end":s,v=e.intervalKey,f=void 0===v?"key":v,m=e.horizontal,h=void 0===m||m,y=e.autoRescale,x=void 0===y||y,b=e.scaleIndex,g=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Us:b,k=e.scaleValue,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Tx9:k,_=e.scaleColor,z=e.children,w=_objectWithoutPropertiesLoose(e,De),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FgM)(),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.uK4)(i),I=R.dimsProps,P=R.origin,C=R.innerSize,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(a).disabled,j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(r)}),[r]),M=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(n),o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(t),l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(i);return e.map((function(e,n){var t=e.data.map((function(e){var n=String(l(e));return{start:Number(a(e)),end:Number(o(e)),key:n}})).filter((function(e){return r.indexOf(e.key)>=0}));return{id:e.id,index:n,data:t,domain:t.map((function(e){return[e.start,e.end]}))}}))}(r,l,c,f,a)}),[r,l,c,f,a]),B=getScaleProps(M.map((function(e){return e.id})),M.map((function(e){return e.domain})),g,S,C,h,x?W:Array(a.length).fill(!1)),L=B.index,D=B.value,V=h?D:L,U=h?L:D,G=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.NVB)(null!=_?_:N.Color.categorical,a),J=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.cT_)({x:V,y:U,color:G}),Q=J.scales,Z=h?Q.y:Q.x,$=h?Q.x:Q.y,ee=getInternalWidthAndGap(Z,a,0,"layered"),ne=ee[0],te=ee[1],ie=ee[2],re=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a,o){return e.map((function(e){var l=n(e.id)-n.bandwidth()/2+a,s=e.data.map((function(e){l+=r+o;var n=t(e.start),a=t(e.end);return _extends({},e,{bandStart:l-r-o,bandWidth:r,size:i?[a-n,r]:[r,a-n],position:i?[n,l-r-o]:[l-r-o,n]})}));return{id:e.id,index:e.index,data:s}}))}(M,Z,$,h,ne,te,ie)}),[M,Z,$,h,ne,te,ie]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.PzT,_extends({variant:"schedule",position:P,size:I.size,padding:I.padding,originalData:r,processedData:M,seriesIndexes:j,keys:a,scalesContextValue:J},w,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SchedulePreparedDataProvider,{data:re,seriesIndexes:j,keys:a,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:z})})}))},isScheduleData=function isScheduleData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"data"in e})).every(Boolean)},isScheduleProcessedSummary=function isScheduleProcessedSummary(e){return!e||"object"==typeof e&&["start","end","key"].map((function(n){return void 0!==e[n]})).every(Boolean)},Ve=["ids","keys","component","componentProps","className","setRole","dataComponent","style"],Schedules=function Schedules(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.AeJ:r,l=e.componentProps,s=e.className,d=e.setRole,u=void 0===d||d,c=e.dataComponent,f=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.oKN:c,h=e.style,x=_objectWithoutPropertiesLoose(e,Ve),b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)().data,g=function useSchedulePreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Le)}(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales.color,S=g.data,_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),z=_.disabledKeys,w=_.firstRender,R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(n,i,g),I=R.idSet,C=R.keySet;if(!function isScheduleProcessedData(e){return isBandProcessedDataArray(e,isScheduleProcessedSummary)}(b))return null;var W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RGn)(g.keys).map((function(e){var n=k(e);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(h,n)}))}),[g,h,k]),j=g.keys,M=_extends({variant:"schedule",setRole:!1},l,{className:s}),B=g.keys.map((function(e,n){if(!C.has(e))return null;var t=!z.has(e),i=[];return S.map((function(t){I.has(t.id)&&t.data.map((function(r){if(C.has(r.key)&&r.key==e){var l=j.indexOf(r.key),s=r.position,d=s[0],u=s[1],c=r.size,v=c[0],m=c[1],p=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(f,_extends({key:"s-"+t.index+"-"+n,data:_extends({id:t.id},r),component:o,props:_extends({},M,{x:d,y:u,width:v,height:m,style:W[l]})},x));i.push(p)}}))})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:u?"schedules":void 0,visible:t,firstRender:w,children:i.filter(Boolean)},"s-"+n)})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:B})},Ae=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),StripPreparedDataProvider=function StripPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Ae.Provider,{value:o,children:a})},getStripInternalOrder=function getStripInternalOrder(e,n){var t=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RGn)(n);if("none"===e)return t;if("random"===e)return t.sort((function(){return Math.random()-.5}));if("middle"===e)return Array(n.length).fill((n.length+1)/2);var i=n.map((function(e,n){return[e,n]}));return"increasing"===e||"ascending"===e?i.sort((function(e,n){return e[0]-n[0]})).forEach((function(e,n){return t[e[1]]=n})):i.sort((function(e,n){return n[0]-e[0]})).forEach((function(e,n){return t[e[1]]=n})),t},Ee=["container","variant","data","keys","jitter","valueSize","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Strip=function Strip(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.jitter,v=void 0===s?"none":s,f=e.valueSize,m=void 0===f?3:f,h=e.horizontal,y=void 0!==h&&h,x=e.autoRescale,b=void 0===x||x,k=e.paddingInternal,S=void 0===k?0:k,_=e.scaleIndex,z=void 0===_?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Us:_,w=e.scaleValue,N=void 0===w?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Tx9:w,R=e.scaleColor,I=e.children,P=_objectWithoutPropertiesLoose(e,Ee),C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FgM)(),W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.uK4)(i),j=W.dimsProps,M=W.origin,B=W.innerSize,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(l).disabled,D=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(o)}),[o]),V=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i){var r=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(e)}));return e.map((function(e,n){var a=r.map((function(n){var r=n(e);if(r&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kJL)(r))return{value:r,internal:getStripInternalOrder(i,r),valueSize:Array(r.length).fill(t)}}));return{id:e.id,index:n,data:a,domain:a.map((function(e){return e?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(null==e?void 0:e.value):void 0}))}}))}(o,l,m,v)}),[o,l,m,v]),U=getScaleProps(V.map((function(e){return e.id})),V.map((function(e){return e.domain})),z,N,B,y,b?L:Array(l.length).fill(!1)),G=U.index,J=U.value,Q=y?J:G,Z=y?G:J,$=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.NVB)(null!=R?R:C.Color.categorical,l),ee=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.cT_)({x:Q,y:Z,color:$}),ne=ee.scales,te=y?ne.y:ne.x,ie=y?ne.x:ne.y,re=getInternalWidthAndGap(te,l,S,a),ae=re[0],oe=re[1],le=re[2],se=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t,i,r,a){return e.map((function(e){var o=n(e.id)-n.bandwidth()/2+r,l=e.data.map((function(e){if(o+=i+a,e){var n=e.value.length,r=n<=1?i:i/(e.value.length-1),l=o-i-a+(n<=1?i/2:0);return{value:e.value.map((function(e){return t(e)})),internal:e.internal.map((function(e){return l+e*r})),valueSize:e.valueSize.map((function(e){return e})),bandStart:o-i-a,bandWidth:i}}}));return{id:e.id,index:e.index,data:l}}))}(V,te,ie,ae,oe,le)}),[V,te,ie,ae,oe,le]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.PzT,_extends({variant:"strip",position:M,size:j.size,padding:j.padding,originalData:o,processedData:V,seriesIndexes:D,keys:l,scalesContextValue:ee},P,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StripPreparedDataProvider,{data:se,seriesIndexes:D,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:I})})}))},isStripData=function isStripData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e})).every(Boolean)},isStripProcessedPoints=function isStripProcessedPoints(e){return!e||"object"==typeof e&&"internal"in e&&"value"in e&&"valueSize"in e},qe=["ids","keys","component","componentProps","setRole","className","symbolStyle","dataComponent"],Strips=function Strips(e){var n=e.ids,i=e.keys,r=e.component,o=void 0===r?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Cdc:r,l=e.componentProps,s=e.setRole,d=void 0===s||s,u=e.className,c=e.symbolStyle,f=e.dataComponent,h=void 0===f?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Aj5:f,x=_objectWithoutPropertiesLoose(e,qe),b=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)().data,g=function useStripPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Ae)}(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,S=k.color,_=g.data,z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),w=z.disabledKeys,R=z.firstRender,I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y7R)(k.y),P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(n,i,g),W=P.idSet,j=P.keySet;if(!function isStripProcessedData(e){return isBandProcessedDataArray(e,isStripProcessedPoints)}(b))return null;var M=g.keys,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.RGn)(M).map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(c,S(e))}))}),[M,c,S]),L=_extends({setRole:!1},l,{className:u}),V=g.keys.map((function(e,n){if(!j.has(e))return null;var t=!w.has(e),i=_.map((function(t){var i;if(!W.has(t.id))return null;var r=t.data[n];if(!r)return null;var l=I?r.value:r.internal,s=I?r.internal:r.value,d=null==(i=b[t.index])?void 0:i.data[n];return r.valueSize.map((function(i,r){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(h,_extends({key:"p-"+t.index+"-"+n+"-"+r,data:{id:t.id,key:e,index:r,value:null==d?void 0:d.value[r],valueSize:null==d?void 0:d.valueSize[r]},component:o,props:_extends({},L,{cx:l[r],cy:s[r],r:i,style:B[n]})},x))}))})).filter(Boolean).flat();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:d?"strips":void 0,visible:t,firstRender:R,children:i},"s-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:V})},Oe=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),ViolinPreparedDataProvider=function ViolinPreparedDataProvider(e){var n=e.data,i=e.seriesIndexes,r=e.keys,a=e.children,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:n,seriesIndexes:i,keys:r}}),[n]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Oe.Provider,{value:o,children:a})},isViolinProcessedSummary=function isViolinProcessedSummary(e){return!e||"object"==typeof e&&"n"in e&&"values"in e&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kJL)(e.values)},Fe=["container","variant","data","keys","breaks","horizontal","autoRescale","paddingInternal","scaleIndex","scaleValue","scaleColor","children"],Violin=function Violin(e){var n=e.container,i=void 0===n?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WdC:n,r=e.variant,a=void 0===r?"grouped":r,o=e.data,l=e.keys,s=e.breaks,v=void 0===s?20:s,f=e.horizontal,m=void 0!==f&&f,h=e.autoRescale,y=void 0===h||h,x=e.paddingInternal,b=void 0===x?0:x,k=e.scaleIndex,S=void 0===k?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Us:k,_=e.scaleValue,z=void 0===_?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Tx9:_,w=e.scaleColor,N=e.children,R=_objectWithoutPropertiesLoose(e,Fe),I=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FgM)(),P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.uK4)(i),C=P.dimsProps,W=P.origin,j=P.innerSize,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(l).disabled,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(o)}),[o]),L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){var t=n.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(e)}));return e.map((function(e,n){var i=t.map((function(n){var t=n(e);if(t){if(isViolinProcessedSummary(t))return{n:t.n,values:t.values,breaks:t.breaks};if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kJL)(t))return{n:t.length,values:t}}})),r=i.map((function(e){if(e)return e.breaks?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(e.breaks):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(e.values)}));return{id:e.id,index:n,data:i,domain:r}}))}(o,l)}),[o,l]),D=getScaleProps(L.map((function(e){return e.id})),L.map((function(e){return e.domain})),S,z,j,m,y?M:Array(l.length).fill(!1)),V=D.index,U=D.value,G=m?U:V,J=m?V:U,Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.NVB)(null!=w?w:I.Color.categorical,l),Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.cT_)({x:G,y:J,color:Q}),$=Z.scales,ee=m?$.y:$.x,ne=m?$.x:$.y,te=getInternalWidthAndGap(ee,l,b,a),ie=te[0],re=te[1],ae=te[2],oe=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function prepareData(e,n,t,i,r,a,o){var l,s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FG_)(e.map((function(e){return e.domain.flat().filter((function(e){return void 0!==e}))})).flat()).map((function(e){return t(e)}));return l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kJL)(o)?o.map((function(e){return t(e)})):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Sye)(s,Number(o)),e.map((function(e){var o=n(e.id)-n.bandwidth()/2+r,s=e.data.map((function(e){if(o+=i+a,e){var n=e.breaks?[]:e.values.map((function(e){return t(e)})),r=e.breaks?e.breaks.map((function(e){return t(e)})):l;return r.sort((function(e,n){return e-n})),{n:e.n,breaks:e.breaks?e.breaks.map((function(e){return t(e)})):r,values:e.breaks?e.values:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.NYs)(n,r,!1),bandStart:o-i-a,bandWidth:i}}}));return{id:e.id,index:e.index,data:s}}))}(L,ee,ne,ie,re,ae,v)}),[L,ee,ne,ie,re,ae,v]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.PzT,_extends({variant:"violin",position:W,size:C.size,padding:C.padding,originalData:o,processedData:L,seriesIndexes:B,keys:l,scalesContextValue:Z},R,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ViolinPreparedDataProvider,{data:oe,seriesIndexes:B,keys:l,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:N})})}))},Ke=["variant","ids","keys","component","componentProps","dataComponent","style","className","setRole"],Violins=function Violins(e){var n=e.variant,i=void 0===n?"smooth":n,r=e.ids,o=e.keys,l=e.component,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y$t:l,d=e.componentProps,u=e.dataComponent,c=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.oKN:u,f=e.style,h=e.className,x=e.setRole,b=void 0===x||x,g=_objectWithoutPropertiesLoose(e,Ke),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)().data,S=function useViolinPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Oe)}(),_=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales,z=_.color,w=S.data,R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),I=R.disabledKeys,P=R.firstRender,C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.y7R)(_.y),W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.lRm)(r,o,S),j=W.idSet,M=W.keySet;if(!function isViolinProcessedData(e){return isBandProcessedDataArray(e,isViolinProcessedSummary)}(k))return null;var B=S.keys,L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.w6H)(B.length).map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(f,z(e))}))}),[B,f,z]),D=_extends({variant:"violin",setRole:!1},d,{curve:"step"===i?"Step":"BasisClosed",closed:!0,className:h}),V=S.keys.map((function(e,n){if(!M.has(e))return null;var t=!I.has(e),i=w.map((function(t){var i,r;if(!j.has(t.id))return null;var o=t.data[n];if(!o)return null;var l=function(e){var n=e.values,t=e.breaks,i=e.bandStart,r=e.bandWidth,a=e.horizontal,o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Fp7)(n);if(o<=0)return[];var l=function(e){for(var n=0,t=e.length;0===e[n]&&n<t;)n+=1;for(;0===e[t-1]&&t>n;)t-=1;return[n,t]}(n),s=l[0],d=l[1],u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.LM9)(n.slice(s,d),t.slice(s,d+1)),c=r/2,v=i+c,f=c/o,m=u.map((function(e){return[e[0],v+e[1]*f]})),p=u.map((function(e){return[e[0],v-e[1]*f]})).reverse(),h=m.concat(p);return a?h:h.map((function(e){return[e[1],e[0]]}))}(_extends({},o,{horizontal:C}));if(0===l.length)return null;var d=null==(i=k[t.index])?void 0:i.data[n];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c,_extends({key:"v-"+t.index+"-"+n,data:{id:t.id,key:e,n:null!=(r=null==d?void 0:d.n)?r:0},component:s,props:_extends({},D,{points:l,style:L[n]})},g))})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:b?"violins":void 0,visible:t,firstRender:P,children:i},"v-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:V})}}}]);