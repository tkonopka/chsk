"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[9646],{"./packages/xy/dist/chsk-xy.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AM:()=>Density,BJ:()=>useDensityPreparedData,Bf:()=>isScatterData,DP:()=>useScatterPreparedData,Ew:()=>ScatterErrors,FX:()=>Regression,LY:()=>HistogramCurve,PR:()=>DensityCells,ST:()=>ScatterLabel,V2:()=>ScatterInterval,XG:()=>ScatterCrosshair,b5:()=>Histogram,bp:()=>Scatter,cG:()=>ScatterPoints,dA:()=>HistogramArea,dI:()=>isScatterProcessedData,gv:()=>DensityCrosshair,l5:()=>ScatterSelectedLabels,nC:()=>ScatterSeries,nr:()=>ScatterCurve,pP:()=>HistogramBars,tA:()=>isHistogramData,z3:()=>Ce});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),lodash_debounce_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/debounce.js"),lodash_debounce_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_debounce_js__WEBPACK_IMPORTED_MODULE_2__),ke=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],binSize:1,seriesIndexes:{},keys:[]}),DensityPreparedDataProvider=function DensityPreparedDataProvider(e){var t=e.data,r=e.binSize,o=e.seriesIndexes,i=e.keys,a=e.children,s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:t,binSize:r,seriesIndexes:o,keys:i}}),[t,r,o,i]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ke.Provider,{value:s,children:a})},useDensityPreparedData=function useDensityPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ke)};function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}var isScatterProcessedData=function isScatterProcessedData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"x"in e&&"y"in e&&"size"in e})).every(Boolean)},isScatterData=function isScatterData(e){return e.map((function(e){return"id"in e&&"data"in e&&"object"==typeof e.data})).every(Boolean)},getXYScaleProps=function getXYScaleProps(e,n,t,r,o){var i={x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(n),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(t)},a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RGn)(o).filter((function(e){return!o[e]}));if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(n)){var l=a.map((function(n){return e[n]})).map((function(e){var n;return null!=(n=null==e?void 0:e.x)?n:[]})).flat();i.x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(n,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(l))}if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(t)){var s=a.map((function(n){return e[n]})).map((function(e){var n;return null!=(n=null==e?void 0:e.y)?n:[]})).flat();i.y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(t,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(s))}return i.x.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],i.y.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],i},getColorScaleProps=function getColorScaleProps(e,n,t){if("categorical"===n.variant)return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(n,t);var r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.map((function(e){var n;return null!=(n=e.color)?n:[]})).flat());return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(n,r)},useSymbolData=function useSymbolData(e,t){return isScatterProcessedData(e)?(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return t.keys.map((function(n){var r=Number(t.seriesIndexes[n]),o=e[r],i=t.data[r];return void 0===i?[]:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RGn)(i.r).map((function(e){var t;return{id:n,index:e,point:[null==o?void 0:o.x[e],null==o?void 0:o.y[e]],size:null==o?void 0:o.size[e],color:null==o||null==(t=o.color)?void 0:t[e]}}))}))}),[e,t]):[]},distanceXY=function distanceXY(e,n){return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))},distanceX=function distanceX(e,n){return Math.abs(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])},distanceY=function distanceY(e,n){return Math.abs(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])},Ce=2;function define(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function extend(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function Color(){}var ze=1/.7,Ie="\\s*([+-]?\\d+)\\s*",Pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$e=/^#([0-9a-f]{3,8})$/,He=new RegExp("^rgb\\("+Ie+","+Ie+","+Ie+"\\)$"),je=new RegExp("^rgb\\("+Le+","+Le+","+Le+"\\)$"),De=new RegExp("^rgba\\("+Ie+","+Ie+","+Ie+","+Pe+"\\)$"),We=new RegExp("^rgba\\("+Le+","+Le+","+Le+","+Pe+"\\)$"),Ee=new RegExp("^hsl\\("+Pe+","+Le+","+Le+"\\)$"),Oe=new RegExp("^hsla\\("+Pe+","+Le+","+Le+","+Pe+"\\)$"),Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=$e.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?rgbn(n):3===t?new Rgb(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?rgba(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?rgba(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=He.exec(e))?new Rgb(n[1],n[2],n[3],1):(n=je.exec(e))?new Rgb(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=De.exec(e))?rgba(n[1],n[2],n[3],n[4]):(n=We.exec(e))?rgba(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ee.exec(e))?hsla(n[1],n[2]/100,n[3]/100,1):(n=Oe.exec(e))?hsla(n[1],n[2]/100,n[3]/100,n[4]):Be.hasOwnProperty(e)?rgbn(Be[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,n,t,r){return r<=0&&(e=n=t=NaN),new Rgb(e,n,t,r)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?new Rgb((e=e.rgb()).r,e.g,e.b,e.opacity):new Rgb}function Rgb(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var e=clampa(this.opacity);return(1===e?"rgb(":"rgba(")+clampi(this.r)+", "+clampi(this.g)+", "+clampi(this.b)+(1===e?")":", "+e+")")}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return((e=clampi(e))<16?"0":"")+e.toString(16)}function hsla(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new Hsl(e,n,t,r)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;var n=(e=e.rgb()).r/255,t=e.g/255,r=e.b/255,o=Math.min(n,t,r),i=Math.max(n,t,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=n===i?(t-r)/l+6*(t<r):t===i?(r-n)/l+2:(n-t)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new Hsl(a,l,s,e.opacity)}function Hsl(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}function clamph(e){return(e=(e||0)%360)<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}define(Color,color,{copy:function copy(e){return Object.assign(new this.constructor,this,e)},displayable:function displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function formatHex8(){return this.rgb().formatHex8()},formatHsl:function formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,(function(e,n,t,r){return 1===arguments.length?rgbConvert(e):new Rgb(e,n,t,null==r?1:r)}),extend(Color,{brighter:function brighter(e){return e=null==e?ze:Math.pow(ze,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function darker(e){return e=null==e?.7:Math.pow(.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function rgb(){return this},clamp:function clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable:function displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function formatHex8(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)+hex(255*(isNaN(this.opacity)?1:this.opacity))},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,(function(e,n,t,r){return 1===arguments.length?hslConvert(e):new Hsl(e,n,t,null==r?1:r)}),extend(Color,{brighter:function brighter(e){return e=null==e?ze:Math.pow(ze,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function darker(e){return e=null==e?.7:Math.pow(.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function rgb(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,o=2*t-r;return new Rgb(hsl2rgb(e>=240?e-240:e+120,o,r),hsl2rgb(e,o,r),hsl2rgb(e<120?e+240:e-120,o,r),this.opacity)},clamp:function clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable:function displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function formatHsl(){var e=clampa(this.opacity);return(1===e?"hsl(":"hsla(")+clamph(this.h)+", "+100*clampt(this.s)+"%, "+100*clampt(this.l)+"%"+(1===e?")":", "+e+")")}}));var qe=Math.PI/180,Fe=180/Math.PI,Ke=.96422,Xe=1,Ye=.82521,Ae=4/29,Ve=6/29,Ue=3*Ve*Ve,Ge=Ve*Ve*Ve;function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof Rgb||(e=rgbConvert(e));var n,t,r=rgb2lrgb(e.r),o=rgb2lrgb(e.g),i=rgb2lrgb(e.b),a=xyz2lab((.2225045*r+.7168786*o+.0606169*i)/Xe);return r===o&&o===i?n=t=a:(n=xyz2lab((.4360747*r+.3850649*o+.1430804*i)/Ke),t=xyz2lab((.0139322*r+.0971045*o+.7141733*i)/Ye)),new Lab(116*a-16,500*(n-a),200*(a-t),e.opacity)}function lab(e,n,t,r){return 1===arguments.length?labConvert(e):new Lab(e,n,t,null==r?1:r)}function Lab(e,n,t,r){this.l=+e,this.a=+n,this.b=+t,this.opacity=+r}function xyz2lab(e){return e>Ge?Math.pow(e,1/3):e/Ue+Ae}function lab2xyz(e){return e>Ve?e*e*e:Ue*(e-Ae)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Hcl(e,n,t,r){this.h=+e,this.c=+n,this.l=+t,this.opacity=+r}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var n=e.h*qe;return new Lab(e.l,Math.cos(n)*e.c,Math.sin(n)*e.c,e.opacity)}define(Lab,lab,extend(Color,{brighter:function brighter(e){return new Lab(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function darker(e){return new Lab(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function rgb(){var e=(this.l+16)/116,n=isNaN(this.a)?e:e+this.a/500,t=isNaN(this.b)?e:e-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(n=Ke*lab2xyz(n))-1.6168667*(e=Xe*lab2xyz(e))-.4906146*(t=Ye*lab2xyz(t))),lrgb2rgb(-.9787684*n+1.9161415*e+.033454*t),lrgb2rgb(.0719453*n-.2289914*e+1.4052427*t),this.opacity)}})),define(Hcl,(function(e,n,t,r){return 1===arguments.length?function(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),0===e.a&&0===e.b)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var n=Math.atan2(e.b,e.a)*Fe;return new Hcl(n<0?n+360:n,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Hcl(e,n,t,null==r?1:r)}),extend(Color,{brighter:function brighter(e){return new Hcl(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function darker(e){return new Hcl(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function rgb(){return hcl2lab(this).rgb()}}));var Je=Math.round,Qe=["container","data","x","y","valueColor","binSize","scaleX","scaleY","scaleColor","children"],Density=function Density(e){var t=e.container,r=void 0===t?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:t,o=e.data,i=e.x,a=e.y,s=e.valueColor,u=void 0===s?null:s,v=e.binSize,f=void 0===v?3:v,p=e.scaleX,m=void 0===p?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:p,h=e.scaleY,b=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:h,x=e.scaleColor,g=e.children,N=_objectWithoutPropertiesLoose(e,Qe),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),$=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(r),H=$.dimsProps,j=$.origin,D=$.innerSize,W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),E=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return o.map((function(e){return e.id}))}),[o]),O=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(E).disabled,B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e){var t=e.x,r=e.y,o=e.valueColor,i=void 0===o?null:o;return e.data.map((function(e,n){var o=e.data;if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(o)){var a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(t),l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(r),s=i?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(i):null;return{id:e.id,index:n,x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(o.map((function(e){return a(e)}))),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(o.map((function(e){return l(e)}))),color:s?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(o.map((function(e){return s(e)}))):void 0}}var u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(t)),c=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(r)),d=i?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(i)):null;return{id:e.id,index:n,x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(u(o)),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(c(o)),color:d?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(d(o)):void 0}}))}({data:o,x:i,y:a,valueColor:u})}),[o,i,a,u]),q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getXYScaleProps(B,m,b,D,Array(E.length).fill(!1))}),[B,m,b,D,E]),F=q.x,K=q.y,X=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getColorScaleProps(B,null!=x?x:R.Color.categorical,E)}),[B,x,R,E]),Y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:F,y:K,color:X}),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function prepareData$2(e){var n=e.data,t=e.x,r=e.y,o=e.valueColor,i=void 0===o?null:o,a=e.scales,l=e.binSize,s=e.disabled,u=a.x,c=a.y,d=a.color,v={},f=new Set;return n.forEach((function(e,n){var o,a,d,p=e.data,m=s[n]?0:1;if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(p)){var h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(t),y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(r),b=i?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(i):null;o=p.map((function(e){return h(e)})),a=p.map((function(e){return y(e)})),d=b?p.map((function(e){return b(e)})):Array(o.length).fill(n)}else{var x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(t)),g=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(r)),N=i?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(i)):null;o=x(p),a=g(p),d=N?N(p):Array(o.length).fill(n)}o.forEach((function(e,n){var t=Je(u(e)/l),r=Je(c(Number(a[n]))/l),o=t+","+r;f.has(o)||(f.add(o),v[o]=[t,r,0,"",[]]);var i=v[o];m&&i&&(i[2]+=1,i[4].push(Number(d[n])))}))})),Object.values(v).map((function(e){return e[3]=function(e,n){for(var t=e.length,r=0,o=0,i=0,a=0;a<t;){for(var l=e[a],s=1;a+s<t&&e[a+s]==l;)s+=1;var u=lab(n(l));r+=s*u.l,o+=s*u.a,i+=s*u.b,a+=s}return lab(r/t,o/t,i/t).formatHex()}(e[4],d),e})).sort((function(e,n){return e[2]-n[2]}))}({data:o,x:i,y:a,valueColor:u,scales:Y.scales,binSize:f,disabled:O})}),[o,i,a,u,Y,f,O]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"density",position:j,size:H.size,padding:H.padding,originalData:o,processedData:B,seriesIndexes:W,keys:E,scalesContextValue:Y},N,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DensityPreparedDataProvider,{data:A,binSize:f,seriesIndexes:W,keys:E,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:g})})}))},Ze=["value","x","y","width","height"],DensitySimpleCell=function DensitySimpleCell(e){var n=e.value,t=e.x,r=e.y,o=e.width,i=e.height,a=_objectWithoutPropertiesLoose(e,Ze);return n<2?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("circle",_extends({cx:t,cy:r,r:o/2},a)):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",_extends({x:t-o/2,y:r-i/2,width:o,height:i},a))},en=Math.max,nn=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.nm0)({variant:"sqrt",domain:[0,1],size:1}),DensityCells=function DensityCells(e){var t=e.component,o=void 0===t?DensitySimpleCell:t,i=e.componentProps,a=e.transparency,s=void 0===a||a,u=e.className,c=e.style,d=e.setRole,v=void 0===d||d,f=useDensityPreparedData(),p=f.data,m=f.binSize,h=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return p.reduce((function(e,n){return en(e,n[2])}),1)}),[p]),y=_extends({},i,{className:u}),g=p.map((function(e){var n=e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],t=e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],i=e[2],a=s||0===i?nn(i/h):1,l=e[3];return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(o,_extends({key:n+"-"+t},y,{value:i,x:n*m,y:t*m,width:m,height:m,style:{fill:l,opacity:a}}))}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("g",{role:v?"density-cells":void 0,style:c,children:g})},createCrosshairLines=function createCrosshairLines(e){var n=e.visible,t=e.coordinates,r=e.size,o=e.style,i=e.setRole,a=e.className;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,{variant:"crosshair",x1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:0,y2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],style:o,className:a,setRole:i},"x"):null,n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,{variant:"crosshair",x1:0,x2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],style:o,className:a,setRole:i},"y"):null]})},createActiveSymbol=function createActiveSymbol(e){var n,t=e.activeData,o=e.coordinates,i=e.scales,a=e.seriesIndex,l=e.dataComponent,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:l,u=e.symbol,c=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:u,d=e.symbolStyle,v=e.symbolClassName,f=e.setRole;if(void 0===t||void 0===t.point)return null;var p=i.size;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(s,{key:"active-"+a+"-"+t.index,component:c,props:{variant:"active",cx:o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],cy:o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],r:p(null!=(n=t.size)?n:0),className:v,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(d,i.color(a)),setRole:f}})},tn=["variant","expansion","symbol","symbolR","symbolStyle","symbolClassName","minDistance","visible","className","style","setRole","dataComponent"],createTooltipDataItems=function createTooltipDataItems(e,n){var t=e.data[4];if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FBg)(n))return[{id:e.id,label:"count "+e.count,color:e.color,data:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.J69)(t)}];var r={};t.map((function(e){var n=String(e);n in r||(r[n]=0),r[n]+=1}));for(var o=[],i=n.domain().map(String),a=0,l=Object.entries(r);a<l.length;a++){var s=l[a],u=s[0],c=s[1];o.push({id:String(i[Number(u)]),color:n(Number(u)),label:i[Number(u)]+": "+c,data:c})}return o},DensityCrosshair=function DensityCrosshair(e){var n=e.variant,t=void 0===n?"xy":n,u=e.expansion,c=e.symbol,d=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bK0:c,v=e.symbolR,f=e.symbolStyle,p=e.symbolClassName,m=e.minDistance,h=e.visible,y=e.className,g=e.style,N=e.setRole,R=void 0===N||N,w=e.dataComponent,k=void 0===w?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:w,C=_objectWithoutPropertiesLoose(e,tn),_=useDensityPreparedData(),M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,z=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),P=I[0],L=I[1],$=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().setData,H=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),A=H[0],V=H[1],G=_.binSize,J=u||[G,G,G,G],Q=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n;null==(n=C.handlers)||null==n.onClick||n.onClick(P,e)}),[P,C.handlers]),T=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n,t,r;null==(n=C.handlers)||null==n.onMouseLeave||n.onMouseLeave(P,e),L(void 0),$({}),V(null!=(t=null==(r=C.modifiers)?void 0:r.onMouseLeave)?t:{})}),[L,$,C.handlers]),Z=_.data,ee="xy"===t?distanceXY:"x"===t?distanceX:distanceY,ne=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n,t,r,o;if(z&&z.current){var i=z.current.getBoundingClientRect(),a=i.x,l=i.y,s=[e.clientX-a-J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],e.clientY-l-J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],u=[s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]/G,s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]/G],c=Z.map((function(e){return ee(e,u)})),d=c.reduce((function(e,n,t){return n<e[0]?[n,t]:e}),[c[0],0]);if(m&&d[0]>m/G)T(e);else{var v=Z[null!=(n=d[1])?n:0];if(v&&(!P||P.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]!=v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]||P.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]!==v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])){var f=function(e){return{id:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+","+e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],bins:[e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]],data:e,count:e[2],color:e[3]}}(v);L(f),$({x:v[0]*G,y:v[1]*G,title:f.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+", "+f.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],data:createTooltipDataItems(f,M.color)}),V(null!=(t=null==(r=C.modifiers)?void 0:r.onMouseEnter)?t:{}),null==(o=C.handlers)||null==o.onMouseEnter||o.onMouseEnter(f,e)}}}}),[P,L,$,Z]),te=lodash_debounce_js__WEBPACK_IMPORTED_MODULE_2___default()(ne,10,{leading:!0}),re=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",{ref:z,role:R?"crosshair-detector":void 0,x:-J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],y:-J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB],width:S[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj]+J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.pXp],height:S[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+J[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DaS],style:_extends({},A,{opacity:0}),onMouseMove:te,onMouseLeave:T,onClick:Q}),oe=void 0!==P?[P.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]*G,P.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]*G]:[NaN,NaN],ie=function(e){var n=e.activeData,t=e.coordinates,o=e.dataComponent,i=void 0===o?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:o,a=e.symbol,l=void 0===a?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:a,s=e.symbolR,u=e.symbolStyle,c=e.symbolClassName,d=e.setRole;return void 0===n?null:(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(i,{key:"active-"+n.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+"-"+n.bins[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],component:l,props:{variant:"active",cx:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],cy:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],r:s,className:c,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(u,n.color),setRole:d}})}({activeData:P,coordinates:oe,dataComponent:k,symbol:d,symbolR:null!=v?v:G/2,symbolStyle:f,symbolClassName:p,setRole:R}),ae=createCrosshairLines({visible:null!=h?h:[!0,!0],size:S,coordinates:oe,style:g,className:y,setRole:R});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:R?"density-crosshair":void 0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:R?"crosshair-presence":void 0,visible:void 0!==P,firstRender:!1,children:[ae,ie]},"crosshair"),re]})},rn=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),HistogramPreparedDataProvider=function HistogramPreparedDataProvider(e){var t=e.data,r=e.seriesIndexes,o=e.keys,i=e.children,a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:t,seriesIndexes:r,keys:o}}),[t]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(rn.Provider,{value:a,children:i})},useHistogramPreparedData=function useHistogramPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(rn)},isHistogramProcessedData=function isHistogramProcessedData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"points"in e})).every(Boolean)},isHistogramData=function isHistogramData(e){return e.map((function(e){return"id"in e&&"data"in e&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(e.data)})).every(Boolean)},on=["variant","container","data","breaks","scaleX","scaleY","scaleColor","autoRescale","children"],Histogram=function Histogram(e){var t=e.variant,r=void 0===t?"count":t,o=e.container,i=void 0===o?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:o,a=e.data,s=e.breaks,u=e.scaleX,v=void 0===u?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:u,g=e.scaleY,N=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:g,I=e.scaleColor,$=e.autoRescale,H=void 0===$||$,j=e.children,D=_objectWithoutPropertiesLoose(e,on),W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(i),O=E.dimsProps,B=E.origin,q=E.innerSize,F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(a)}),[a]),K=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return a.map((function(e){return e.id}))}),[a]),X=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(K).disabled,Y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(s)?s:function getBreaksArray(e,n){var t=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.map((function(e){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e.data)})).flat());return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Sye)(t,n)}(a,s)}),[a,s]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n,t){return e.map((function(e,r){var o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Gi7)(e.data),i=o[0],a=o[1],l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NYs)(e.data,n,t);return{id:e.id,index:r,points:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.LM9)(l,n),breaks:n,n:e.data.length,mean:i,sd:Math.sqrt(a)}}))}(a,Y,"density"===r)}),[a,Y,r]),V=function(e,n,t,r,o){var i={x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(n),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(t)},a=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RGn)(o).filter((function(e){return!o[e]}));if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(n)){var l=a.map((function(n){return e[n]})).map((function(e){return null==e?void 0:e.points.map((function(e){return e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]}))})).flat();i.x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(n,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(l))}if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.HBl)(t)){var s=a.map((function(n){return e[n]})).map((function(e){return null==e?void 0:e.points.map((function(e){return e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]}))})).flat();i.y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.zAC)(t,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(s))}return i.x.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],i.y.size=r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],i}(A,v,N,q,H?X:Array(K.length).fill(!1)),U=V.x,G=V.y,Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.NVB)(null!=I?I:W.Color.categorical,K),ee=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:U,y:G,color:Z}),ne=ee.scales,te=A.map((function(e){return function(e,n,t){return{id:e.id,index:e.index,points:e.points.map((function(e){return[n(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),t(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])]})),breaks:e.breaks,n:e.n}}(e,ne.x,ne.y)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"histogram",position:B,size:O.size,padding:O.padding,originalData:a,processedData:A,seriesIndexes:F,keys:K,scalesContextValue:ee},D,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(HistogramPreparedDataProvider,{data:te,seriesIndexes:F,keys:K,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:j})})}))},an=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),ScatterPreparedDataProvider=function ScatterPreparedDataProvider(e){var t=e.data,r=e.seriesIndexes,o=e.keys,i=e.children,a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data:t,seriesIndexes:r,keys:o}}),[t,r,o]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(an.Provider,{value:a,children:i})},useScatterPreparedData=function useScatterPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(an)},downsample=function downsample(e,n,t){void 0===t&&(t=0);var r=e.length,o=e.map((function(e,t){return Math.floor(t*n)}));return o.map((function(e,n){return n+t<r&&(0===n||e!=o[n-1])?n:void 0})).filter((function(e){return void 0!==e})).map((function(n){return e[n+t]}))},curvePoints=function curvePoints(e){var n=e.x,t=e.y,r=e.convolutionMask,o=e.convolutionOffset,i=void 0===o?0:o,a=e.downsampleFactor,l=void 0===a?1:a,s=e.downsampleIndex,u=void 0===s?0:s,c=r?r.length-1:0,d=n.slice(c+i,n.length+i),v=(r?function(e,n,t){void 0===t&&(t=!0);for(var r,o,i=t?(o=(r=n).reduce((function(e,n){return e+n}),0),r.map((function(e){return e/o}))):[].concat(n),a=i.length,l=e.length+i.length-1,s=Array(l).fill(0),u=0;u<l;u+=1){for(var c=0,d=0;d<a;d++){var v;c+=(null!=(v=e[u-d])?v:0)*Number(i[d])}s[u]=c}return s}(t,r):t).slice(c,n.length),f=1===l,p=f?d:downsample(d,l,u),m=f?v:downsample(v,l,u);return p.map((function(e,n){return[e,Number(m[n])]}))},ln=["ids","baseline","curve","convolutionMask","convolutionOffset","downsampleFactor","downsampleIndex","style","className","setRole","dataComponent"],getAreaD=function getAreaD(e){var n,t=e.points,r=e.scaleY,o=e.baseline,i=e.curve,a=r(null!=o?o:Number(r.domain()[0])),l=t.map((function(e){return[e[0],e[1],a]}));return null!=(n=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DmD)(i)(l))?n:""},ScatterArea=function ScatterArea(e){var t=e.ids,o=e.baseline,i=e.curve,a=void 0===i?"Linear":i,s=e.convolutionMask,c=e.convolutionOffset,d=e.downsampleFactor,v=e.downsampleIndex,f=e.style,p=e.className,m=e.setRole,h=void 0===m||m,y=e.dataComponent,b=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:y,x=_objectWithoutPropertiesLoose(e,ln),g=useScatterPreparedData(),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,R=N.y,w=N.color,k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),C=k.disabledKeys,M=k.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(R))return null;var S={};g.keys.forEach((function(e){var t=g.seriesIndexes[e];if(void 0!==t){var r=g.data[t];S[e]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e,n;return getAreaD({points:curvePoints({x:null!=(e=null==r?void 0:r.x)?e:[],y:null!=(n=null==r?void 0:r.y)?n:[],convolutionMask:s,convolutionOffset:c,downsampleFactor:d,downsampleIndex:v}),curve:a,scaleY:R,baseline:o})}),[t,g,a,R,o,s,c,d,v])}}));var z=(null!=t?t:g.keys).map((function(e){var n=!C.has(e),t=g.seriesIndexes[e];if(void 0===t)return null;var o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(f,w(t)),i=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(b,_extends({data:{id:e},component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t,props:{variant:"scatter-area",d:S[e],setRole:h,style:o,className:p}},x));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:h?"scatter-area-presence":void 0,visible:n,firstRender:M,children:i},"area-"+t)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:z.filter(Boolean)})},sn=["ids","curve","style","setRole","dataComponent"],HistogramArea=function HistogramArea(e){var t=e.ids,o=e.curve,i=void 0===o?"MonotoneX":o,a=e.style,s=e.setRole,c=void 0===s||s,d=e.dataComponent,v=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:d,f=_objectWithoutPropertiesLoose(e,sn),p=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,m=useHistogramPreparedData(),h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,y=h.y,b=h.color,x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),g=x.disabledKeys,N=x.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(y))return null;if(!isHistogramProcessedData(p))return null;var R={};m.keys.map((function(e){var t=Number(m.seriesIndexes[e]);R[e]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e,n;return getAreaD({points:null!=(e=null==(n=m.data[t])?void 0:n.points)?e:[],curve:i,scaleY:y,baseline:0})}),[t,m,i,y])}));var w=(null!=t?t:m.keys).map((function(e){var n=m.seriesIndexes[e];if(void 0===n)return null;var t=!g.has(e),o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(a,b(n)),i=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(v,_extends({data:p[n],component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t,props:{variant:"histogram-area",d:R[e],setRole:c,style:o}},f));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:c?"histogram-area-presence":void 0,visible:t,firstRender:N,children:i},"area-"+n)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:w.filter(Boolean)})},un=["ids","component","componentProps","style","className","setRole","dataComponent"],HistogramBars=function HistogramBars(e){var t=e.ids,o=e.component,i=void 0===o?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.AeJ:o,a=e.componentProps,s=e.style,c=e.className,d=e.setRole,v=void 0===d||d,f=e.dataComponent,m=void 0===f?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:f,h=_objectWithoutPropertiesLoose(e,un),y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,g=useHistogramPreparedData(),N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,R=N.y,w=N.color,k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),C=k.disabledKeys,M=k.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(R))return null;if(!isHistogramProcessedData(y))return null;var S=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RGn)(g.keys).map((function(e){var n=w(e);return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(s,n)}))}),[g,s,w]),z=R(0),I=_extends({variant:"histogram-bar",setRole:!1},a,{className:c}),P=(null!=t?t:g.keys).map((function(e){var n,t,o=g.seriesIndexes[e];if(void 0===o)return null;var a=!C.has(e),s=null!=(n=null==(t=g.data[o])?void 0:t.points)?n:[],u=s.length,c=s.map((function(e,n){if(0===n||n===u-1)return null;var t=s[n-1],a=s[n+1],l=(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])*(1===n?1:.5),c=l+(a[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])*(n===u-2?1:.5),d=e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-z,v=y[o];return 0!==c&&0!==d&&v?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(m,_extends({key:"b-"+o+"-"+n,component:i,data:_extends({},v,{bin:n}),props:_extends({},I,{x:e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-l,y:z,width:c,height:d,style:S[o]})},h)):null})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:v?"histogram-bars":void 0,visible:a,firstRender:M,children:c},"b-"+o)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:P.filter(Boolean)})},cn=["ids","curve","style","setRole","dataComponent"],HistogramCurve=function HistogramCurve(e){var n=e.ids,t=e.curve,o=void 0===t?"MonotoneX":t,i=e.style,a=e.setRole,s=void 0===a||a,c=e.dataComponent,d=void 0===c?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:c,v=_objectWithoutPropertiesLoose(e,cn),f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,p=useHistogramPreparedData(),m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),y=h.disabledKeys,b=h.firstRender;if(!isHistogramProcessedData(f))return null;var x=(null!=n?n:p.keys).map((function(e){var n,t=!y.has(e),a=p.seriesIndexes[e];if(void 0===a)return null;var u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(i,m(a));u.fill=void 0;var c=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(d,_extends({data:f[a],component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t,props:{variant:"histogram-curve",points:null==(n=p.data[a])?void 0:n.points,curve:o,style:u,setRole:s}},v));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:s?"histogram-curve-presence":void 0,visible:t,firstRender:b,children:c},"curve-"+a)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:x.filter(Boolean)})},defaultScatterTooltipFormat=function defaultScatterTooltipFormat(e){return String(e.index)+(e.point?" ("+e.point[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+", "+e.point[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+")":"")},vn=["ids","style","className","setRole","dataComponent"],fn=["ids","style","className","setRole","dataComponent"],pn=["variant","ids","style","className","setRole","dataComponent"],regression=function regression(e,n){var t=e.length,r=0,o=0,i=0,a=0;e.forEach((function(e,t){r+=e,o+=Number(n[t]),i+=e*Number(n[t]),a+=e*e}));var l=r*r-t*a;return[(i*r-o*a)/l,(o*r-i*t)/l]},getRegressionLineCoordinates=function getRegressionLineCoordinates(e,n){return[[e[0],n[0]+e[0]*n[1]],[e[1],n[0]+e[1]*n[1]]]},PooledRegression=function PooledRegression(e){var t=e.ids,o=e.style,i=e.className,a=e.setRole,s=e.dataComponent,u=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:s,c=_objectWithoutPropertiesLoose(e,vn),d=useScatterPreparedData(),v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),f=v.disabledKeys,p=v.firstRender,m=null!=t?t:d.keys,h=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e=[],n=[];if(m.forEach((function(t){var r,o,i,a,l=d.seriesIndexes[t];void 0!==l&&(f.has(t)||(e=e.concat(null!=(r=null==(o=d.data[l])?void 0:o.x)?r:[]),n=n.concat(null!=(i=null==(a=d.data[l])?void 0:a.y)?i:[])))})),0===e.length)return null;var t=regression(e,n);return getRegressionLineCoordinates((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(e),t)}),[d,t]);if(null===h)return null;var g=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(u,_extends({data:{id:m.join(" "),ids:m,variant:"pooled"},component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,props:{x1:h[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:h[1][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:h[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:h[1][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],variant:"regression",className:i,style:o,setRole:a}},c));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"regression-presence",firstRender:p,children:g})},IndividualRegression=function IndividualRegression(e){var t=e.ids,o=e.style,i=e.className,a=e.setRole,s=e.dataComponent,c=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:s,d=_objectWithoutPropertiesLoose(e,fn),v=useScatterPreparedData(),f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,p=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),m=p.disabledKeys,h=p.firstRender,g=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e={};return v.keys.map((function(n,t){var r,o=null!=(r=v.data[t])?r:{x:[],y:[]};e[n]=regression(o.x,o.y)})),e}),[v]),N=(null!=t?t:v.keys).map((function(e){var n,t,s,u,p=v.seriesIndexes[e];if(void 0===p)return null;if(m.has(e))return null;if(null!=(n=g[e])&&n.some(isNaN))return null;if(void 0===v.data[p])return null;var N=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(o,f(p));N.fill=void 0;var R=getRegressionLineCoordinates((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FG_)(null!=(t=null==(s=v.data[p])?void 0:s.x)?t:[]),null!=(u=g[e])?u:[0,1]),w=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c,_extends({data:{id:e,ids:[e],variant:"series"},component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,props:{x1:R[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:R[1][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:R[0][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:R[1][_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],variant:"regression",className:i,style:N,setRole:a}},d));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:"regression-presence",firstRender:h,children:w},"regression-"+p)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:N.filter(Boolean)})},Regression=function Regression(e){var n=e.variant,t=void 0===n?"series":n,r=e.ids,o=e.style,i=e.className,a=e.setRole,l=e.dataComponent,s=void 0===l?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:l,u=_objectWithoutPropertiesLoose(e,pn);return("series"===t?IndividualRegression:PooledRegression)(_extends({ids:r,style:o,className:i,setRole:a,dataComponent:s},u))},mn=["container","data","x","y","k","valueColor","valueSize","scaleX","scaleY","scaleColor","scaleSize","autoRescale","children"],Scatter=function Scatter(e){var t=e.container,r=void 0===t?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.WdC:t,o=e.data,i=e.x,a=e.y,s=e.k,u=e.valueColor,v=void 0===u?null:u,f=e.valueSize,p=void 0===f?5:f,m=e.scaleX,h=void 0===m?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:m,y=e.scaleY,b=void 0===y?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs3:y,x=e.scaleColor,R=e.scaleSize,$=void 0===R?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Ooi:R,H=e.autoRescale,j=void 0===H||H,D=e.children,W=_objectWithoutPropertiesLoose(e,mn),E=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.FgM)(),O=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uK4)(r),B=O.dimsProps,q=O.origin,F=O.innerSize,K=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.snp)(o)}),[o]),X=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return o.map((function(e){return e.id}))}),[o]),Y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(X).disabled,A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e){var t=e.x,r=e.y,o=e.k,i=e.valueSize,a=void 0===i?5:i,l=e.valueColor,s=void 0===l?null:l;return e.data.map((function(e,n){var i=e.data;if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(i)){var l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(t),u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(r),c=o?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(o):void 0,d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hAO)(a),v=s?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(s):null;return{id:e.id,index:n,k:c?i.map((function(e){return c(e)})):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.w6H)(i.length),x:i.map((function(e){return l(e)})),y:i.map((function(e){return u(e)})),size:i.map((function(e){return d(e)})),color:v?i.map((function(e){return v(e)})):void 0}}var f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(t)),p=f(i).length,m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(r)),h=o?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(o)):void 0,y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hj$)(a)?function(){return Array(p).fill(a)}:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(a)),b=s?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(s)):null;return{id:e.id,index:n,k:h?h(i):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.w6H)(f(i).length),x:f(i),y:m(i),size:y(i),color:b?b(i):void 0}}))}({data:o,x:i,y:a,k:s,valueSize:p,valueColor:v})}),[o,i,a,s,p,v]),V=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return getXYScaleProps(A,h,b,F,j?Y:Array(X.length).fill(!1))}),[A,h,b,F,Y,j,X]),U=V.x,G=V.y,J=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e=getColorScaleProps(A,null!=x?x:E.Color.categorical,X),n=function(e,n,t){var r=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Fp7)(e.map((function(e){return e.size})).flat());return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__._C2)(n,r,"number"==typeof t?t:10)}(A,$,p);return{colorProps:e,sizeProps:n}}),[A,x,$,E,p,X]),Q=J.colorProps,T=J.sizeProps,Z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.cT_)({x:U,y:G,color:Q,size:T}),ee=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e,n){var t=n.x,r=n.y,o=n.size,i=n.color;return e.map((function(e){return{id:e.id,index:e.index,x:e.x.map((function(e){return t(e)})),y:e.y.map((function(e){return r(e)})),r:e.size.map((function(e){return o(e)})),color:e.color?e.color.map((function(e){return i(e)})):void 0}}))}(A,Z.scales)}),[A,Z]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.PzT,_extends({variant:"scatter",position:q,size:B.size,padding:B.padding,originalData:o,processedData:A,seriesIndexes:K,keys:X,scalesContextValue:Z},W,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterPreparedDataProvider,{data:ee,seriesIndexes:K,keys:X,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_5__.H,children:D})})}))},hn=["variant","expansion","symbol","symbolStyle","symbolClassName","minDistance","tooltipFormat","visible","className","style","setRole","dataComponent"],ScatterCrosshair=function ScatterCrosshair(e){var t,r=e.variant,u=void 0===r?"xy":r,c=e.expansion,d=e.symbol,v=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:d,f=e.symbolStyle,m=e.symbolClassName,h=e.minDistance,y=e.tooltipFormat,g=void 0===y?defaultScatterTooltipFormat:y,N=e.visible,R=e.className,w=e.style,k=e.setRole,C=void 0===k||k,M=e.dataComponent,S=void 0===M?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:M,I=_objectWithoutPropertiesLoose(e,hn),P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,L=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,$=useScatterPreparedData(),H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,j=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,A=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)().disabledKeys,V=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),U=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),G=U[0],J=U[1],Q=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.lLG)().setData,T=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),Z=T[0],ee=T[1];if(!isScatterProcessedData(L))return null;if(!isScatterData(P))return null;var ne=c||[0,0,0,0],te=useSymbolData(L,$),oe=function(e,t){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var n=[];return e.keys.forEach((function(r){var o=e.seriesIndexes[r];if(!t.has(r)&&void 0!==o){var i=e.data[o];i&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RGn)(i.r).forEach((function(e){n.push([i.x[e],i.y[e],o,e])}))}})),n}),[e,t])}($,A),ie=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n;null==(n=I.handlers)||null==n.onClick||n.onClick(G,e)}),[G,I.handlers]),ae=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n,t,r;null==(n=I.handlers)||null==n.onMouseLeave||n.onMouseLeave(G,e),J(void 0),Q({}),ee(null!=(t=null==(r=I.modifiers)?void 0:r.onMouseLeave)?t:{})}),[J,Q,I.handlers]),le="xy"===u?distanceXY:"x"===u?distanceX:distanceY,se=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var n,t,r,o,i,a;if(V&&V.current){var l=V.current.getBoundingClientRect(),s=l.x,u=l.y,c=[e.clientX-s-ne[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],e.clientY-u-ne[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]],d=oe.map((function(e){return le(e,c)})),v=d.reduce((function(e,n,t){return n<e[0]?[n,t]:e}),[d[0],0]);if(h&&v[0]>h)ae(e);else{var f=oe[null!=(n=v[1])?n:0];if(f){var p=f[2],m=L[p],y=f[3];if(!G||G.id!==(null==m?void 0:m.id)||G.index!==y){var b=null==(t=P[p])?void 0:t.data,x=_extends({},null==(r=te[p])?void 0:r[y],{id:String(null==m?void 0:m.id),key:String(null==m?void 0:m.id),original:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(b)?b[y]:{}}),N=_extends({},x,{label:g(x)});J(N),Q({x:f[0],y:f[1],title:N.id,data:[N]}),ee(null!=(o=null==(i=I.modifiers)?void 0:i.onMouseEnter)?o:{}),null==(a=I.handlers)||null==a.onMouseEnter||a.onMouseEnter(x,e)}}}}}),[G,J,Q,oe,L]),ce=lodash_debounce_js__WEBPACK_IMPORTED_MODULE_2___default()(se,10,{leading:!0}),de=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("rect",{ref:V,role:C?"crosshair-detector":void 0,x:-ne[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj],y:-ne[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB],width:H[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+ne[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.RLj]+ne[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.pXp],height:H[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+ne[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.GSB]+ne[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DaS],style:_extends({},Z,{opacity:0}),onMouseMove:ce,onMouseLeave:ae,onClick:ie}),ve=j.x,fe=j.y,pe=void 0!==G&&void 0!==G.point?[ve(G.point[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),fe(G.point[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])]:[NaN,NaN],me=Number($.seriesIndexes[null!=(t=null==G?void 0:G.id)?t:""]),he=createActiveSymbol({activeData:G,coordinates:pe,scales:j,seriesIndex:me,dataComponent:S,symbol:v,symbolStyle:f,symbolClassName:m,setRole:C}),ye=createCrosshairLines({visible:null!=N?N:[!0,!0],size:H,coordinates:pe,style:w,className:R,setRole:C});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:C?"scatter-crosshair":void 0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:C?"crosshair-presence":void 0,visible:void 0!==G,firstRender:!1,children:[ye,he]},"crosshair"),de]})},yn=["ids","curve","convolutionMask","convolutionOffset","downsampleFactor","downsampleIndex","component","componentProps","style","className","setRole","dataComponent"],ScatterCurve=function ScatterCurve(e){var n=e.ids,t=e.curve,o=void 0===t?"Linear":t,i=e.convolutionMask,a=e.convolutionOffset,s=e.downsampleFactor,c=e.downsampleIndex,d=e.component,v=void 0===d?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t:d,f=e.componentProps,p=e.style,m=e.className,h=e.setRole,y=void 0===h||h,b=e.dataComponent,x=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oKN:b,g=_objectWithoutPropertiesLoose(e,yn),N=useScatterPreparedData(),R=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,w=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),k=w.disabledKeys,C=w.firstRender,M=_extends({setRole:y,variant:"scatter-curve",className:m},f,{curve:o}),S=(null!=n?n:N.keys).map((function(e){var n,t,o=!k.has(e),u=N.seriesIndexes[e];if(void 0===u)return null;var d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(p,R(u));d.fill=void 0;var f=N.data[u],m=curvePoints({x:null!=(n=null==f?void 0:f.x)?n:[],y:null!=(t=null==f?void 0:f.y)?t:[],convolutionMask:i,convolutionOffset:a,downsampleFactor:s,downsampleIndex:c}),h=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(x,_extends({data:{id:e},component:v,props:_extends({},M,{points:m,style:d})},g));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:y?"scatter-curve-presence":void 0,visible:o,firstRender:C,children:h},"curve-"+u)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:S.filter(Boolean)})},bn=["variant","lower","upper","capWidth","className","style","setRole"],ScatterErrorBar=function ScatterErrorBar(e){var n=e.variant,t=e.lower,r=e.upper,o=e.capWidth,i=void 0===o?0:o,a=e.className,u=e.style,c=e.setRole,d=_objectWithoutPropertiesLoose(e,bn),v="x"===n?[0,i/2]:[i/2,0],f={style:u,className:a,setRole:!1},p=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({x1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],x2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]},f),"line"),m=i>0?[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({x1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]},f),"lower-cap"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.x12,_extends({x1:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],x2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],y2:r[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+v[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]},f),"upper-cap")]:null;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",_extends({role:c?"error-bar":void 0},d,{children:[p,m]}))},xn=["variant","ids","lower","upper","capWidth","style","className","setRole","component","componentProps","dataComponent"],ScatterErrors=function ScatterErrors(e){var t=e.variant,o=void 0===t?"y":t,i=e.ids,a=e.lower,s=e.upper,c=e.capWidth,d=e.style,v=e.className,f=e.setRole,p=void 0===f||f,m=e.component,h=void 0===m?ScatterErrorBar:m,y=e.componentProps,b=e.dataComponent,x=void 0===b?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Wnl:b,g=_objectWithoutPropertiesLoose(e,xn),N=useScatterPreparedData(),R=N.data,w=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)().data,k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,C=k.x,M=k.y,S=k.color,P=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),L=P.disabledKeys,$=P.firstRender;if(!((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(C)&&(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(M)&&function isScatterPreparedData(e){return e.map((function(e){return"object"==typeof e&&null!==e&&"id"in e&&"index"in e&&"x"in e&&"y"in e&&"r"in e})).every(Boolean)}(R)&&isScatterData(w)))return null;var H=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return R.map((function(e,n){var t,r=null==(t=w[n])?void 0:t.data;if(r)return function(e){var n,t,r=e.variant,o=e.rawData,i=e.seriesData,a=e.scale,l=e.lower,s=e.upper;if((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kJL)(o)){var u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(l),c=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(s);n=o.map((function(e){return a(u(e))})),t=o.map((function(e){return a(c(e))}))}else{var d=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(l)),v=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(String(s));n=d(o).map((function(e){return a(e)})),t=v(o).map((function(e){return a(e)}))}var f="y"===r?i.x:i.y,p="y"===r?function(e){return e}:function(e){return[e[1],e[0]]};return n.map((function(e,n){return{lower:p([f[n],e]),upper:p([f[n],t[n]])}}))}({variant:o,rawData:r,seriesData:e,scale:"y"===o?M:C,lower:a,upper:s})}))}),[o,R,w,C,M,a,s]),W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("scatter-errors",v),O=_extends({variant:o,setRole:!1},y,{className:W,capWidth:c}),B=(null!=i?i:N.keys).map((function(e){var n,t=!L.has(e),o=N.seriesIndexes[e];if(void 0===o)return null;var i=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(d,S(o)),a=null==(n=H[o])?void 0:n.map((function(n,t){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(x,_extends({key:"e-"+e+"-"+t,data:{id:e,index:t},component:h,props:_extends({},O,{lower:n.lower,upper:n.upper,style:i})},g))}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:p?"scatter-errors":void 0,visible:t,firstRender:$,children:a},"e-"+e)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:B.filter(Boolean)})},gn=["ids","lower","upper","convolutionMask","convolutionOffset","downsampleFactor","downsampleIndex","curve","style","className","setRole","dataComponent"],ScatterInterval=function ScatterInterval(e){var t=e.ids,o=e.lower,i=e.upper,a=e.convolutionMask,s=e.convolutionOffset,c=e.downsampleFactor,d=e.downsampleIndex,v=e.curve,f=void 0===v?"Linear":v,p=e.style,m=e.className,h=e.setRole,y=void 0===h||h,g=e.dataComponent,N=void 0===g?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:g,R=_objectWithoutPropertiesLoose(e,gn),w=useScatterPreparedData(),k=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.W3B)(),C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,M=C.y,S=C.color,z=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),P=z.disabledKeys,L=z.firstRender;if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.z0X)(M))return null;var $={convolutionMask:a,convolutionOffset:s,downsampleFactor:c,downsampleIndex:d},H=(null!=t?t:w.keys).map((function(e){var t=!P.has(e),a=w.seriesIndexes[e];if(void 0===a)return null;var s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(p,S(a)),u=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function(e){var n,t,r,o,i=e.seriesIndex,a=e.rawData,l=e.preparedData,s=e.yScale,u=e.lower,c=e.upper,d=e.curve,v=e.convolutionMask,f=e.convolutionOffset,p=e.downsampleFactor,m=e.downsampleIndex,h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(u),y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIU)(c),g=null==(n=a.data[i])?void 0:n.data,N=g.map((function(e){return s(h(e))})),R=g.map((function(e){return s(y(e))})),w=null!=(t=null==(r=l[i])?void 0:r.x)?t:[],k={convolutionMask:v,convolutionOffset:f,downsampleFactor:p,downsampleIndex:m},C=curvePoints(_extends({x:w,y:N},k)),_=curvePoints(_extends({x:w,y:R},k)),M=C.map((function(e,n){var t;return[e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],Number(null==(t=_[n])?void 0:t[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])]}));return null!=(o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DmD)(d)(M))?o:""}(_extends({seriesIndex:a,rawData:k,preparedData:w.data,yScale:M,lower:o,upper:i,curve:f},$))}),[a,k,w,M,o,i,f]),c=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(N,_extends({data:{id:e},component:_chsk_core__WEBPACK_IMPORTED_MODULE_3__.y$t,props:{variant:"scatter-interval",d:u,setRole:y,style:s,className:m}},R));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:y?"scatter-interval-presence":void 0,visible:t,firstRender:L,children:c},"interval-"+a)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:H.filter(Boolean)})},Nn=["variant","id","position","positionUnits","angle","autoRotate","component","componentProps","className","setRole","children"],ScatterLabel=function ScatterLabel(e){var n,t,o=e.variant,i=void 0===o?"xy":o,a=e.id,s=e.position,u=void 0===s?[0,0]:s,c=e.positionUnits,d=void 0===c?"relative":c,v=e.angle,f=void 0===v?0:v,p=e.autoRotate,m=void 0!==p&&p,h=e.component,y=void 0===h?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.__J:h,b=e.componentProps,x=e.className,g=e.setRole,N=void 0===g||g,R=e.children,w=_objectWithoutPropertiesLoose(e,Nn),k=useScatterPreparedData(),C=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,M=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Bs9)().size,S=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),z=S.disabledKeys,I=S.firstRender;a=null!=(n=a)?n:String(k.keys[0]);var P=!z.has(a),L=Number(k.seriesIndexes[a]),$=k.data[L];if(void 0===L||void 0===$||0===(null==$||null==(t=$.x)?void 0:t.length))return null;var H=function(e,n,t){if(1===n.x.length)return 0;var r=0,o=t(e,[n.x[r],n.y[r]]);return n.x.forEach((function(i,a){var l=t(e,[i,Number(n.y[a])]);l<o&&(o=l,r=a)})),r}((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.eE7)(u,d,M,C),$,"xy"===i?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bIQ:"x"===i?distanceX:distanceY),j=[null==$?void 0:$.x[H],null==$?void 0:$.y[H]];if(m){var D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oqW)(H-1,0,$.x.length),W=[$.x[D],$.y[D]],B=(W[1]-j[1])/(W[0]-j[0]);f=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BVy)(Math.atan(B))*(W[0]>j[0]?-1:1),f=Number.isNaN(f)?0:f,j=[(j[0]+W[0])/2,(j[1]+W[1])/2]}var q=_extends({setRole:!1},b,{angle:f,className:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gjB)("scatter-label",x)},w),F=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(y,_extends({},q,{position:j}),R);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:N?"scatter-label":void 0,visible:P,firstRender:I,children:F})},Rn=["ids","symbol","symbolStyle","symbolClassName","dataComponent","setRole"],ScatterPoints=function ScatterPoints(e){var n=e.ids,t=e.symbol,o=void 0===t?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Cdc:t,i=e.symbolStyle,a=e.symbolClassName,s=e.dataComponent,c=void 0===s?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Aj5:s,d=e.setRole,v=void 0===d||d,f=_objectWithoutPropertiesLoose(e,Rn),p=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,m=useScatterPreparedData(),h=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales.color,y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),b=y.disabledKeys,x=y.firstRender;if(!isScatterProcessedData(p))return null;var g=useSymbolData(p,m),N=(null!=n?n:m.keys).map((function(e){var n,t=!b.has(e),s=m.seriesIndexes[e];if(void 0===s)return null;var u=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(i,h(s)),d=m.data[s],y=null==d?void 0:d.x,N=null==d?void 0:d.y,R=null==(n=p[s])?void 0:n.k,w=null==d?void 0:d.color,k=t?null==d?void 0:d.r.map((function(e,n){var t;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c,_extends({key:null==R?void 0:R[n],data:null==(t=g[s])?void 0:t[n],component:o,props:{cx:null==y?void 0:y[n],cy:null==N?void 0:N[n],r:e,className:a,style:w?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.hIX)(i,w[n]):u,setRole:!1}},f))})):null;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:v?"scatter-points":void 0,visible:t,firstRender:x,children:k},"points-"+s)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:N.filter(Boolean)})},wn=["ids","baseline","layers","curve","symbol","areaStyle","curveStyle","symbolStyle"],ScatterSeries=function ScatterSeries(e){var n=e.ids,t=e.baseline,r=void 0===t?0:t,o=e.layers,i=void 0===o?["area","curve","points"]:o,a=e.curve,s=void 0===a?"Linear":a,c=e.symbol,d=e.areaStyle,v=e.curveStyle,f=e.symbolStyle,p=_extends({curve:s},_objectWithoutPropertiesLoose(e,wn)),m=i.map((function(e){return"points"===e?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterPoints,_extends({ids:n},p,{symbol:c,symbolStyle:f}),"points"):"curve"===e?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterCurve,_extends({ids:n},p,{style:v}),"curve"):"area"===e?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterArea,_extends({ids:n},p,{baseline:r,style:d}),"area"):null}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:m.filter(Boolean)})},kn=[0,0],blockObject=function blockObject(e,n,t){var r=[e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],-1,-1,0];return n?(r[2]=n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],r[3]=n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],r[4]=void 0===t?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.KOy)(n)/2:t,r):(r[4]=Number(t),r)},computeDisplacement=function computeDisplacement(e,n,t,r){if(!e||!n)return[0,0];var o=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Jpm)(e.slice(0,2),n.slice(0,2)),i=Math.abs(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]-n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),a=Math.abs(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]-n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]),l=[0,0];if(e[2]>=0&&n[2]>=0)l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=e[2]/2+n[2]/2+Math.abs(t*Math.cos(o))-i,l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=e[3]/2+n[3]/2+Math.abs(t*Math.sin(o))-a;else if(e[2]>=0)l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=e[2]/2+n[4]+Math.abs(t*Math.cos(o))-i,l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=e[3]/2+n[4]+Math.abs(t*Math.sin(o))-a;else{var s=Math.sqrt((0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.bIQ)(e.slice(0,2),n.slice(0,2)));l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=e[4]+n[4]+t-s,l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]}var u=[0,0];if(r>0){if(l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]<=0||l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]<=0)return kn;u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=-(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=-(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])}else u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=-(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(r*l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=-(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.UYe)(r*l[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]);return[r*u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]*Math.cos(o),r*u[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]*Math.sin(o)]},getPointPosition=function getPointPosition(e,n,t){var r=Number(t.seriesIndexes[e]),o=t.data[r];return{position:[null==o?void 0:o.x[n],null==o?void 0:o.y[n]],r:null==o?void 0:o.r[n]}},ScatterSelectedLabels=function ScatterSelectedLabels(e){var t=e.data,o=e.component,i=void 0===o?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.__J:o,a=e.componentProps,u=e.anchor,c=void 0===u?[.5,.5]:u,d=e.offset,v=void 0===d?[0,-.1]:d,f=e.symbol,p=e.symbolStyle,m=e.symbolClassName,h=e.connector,y=e.connectorStyle,g=e.connectorClassName,N=e.clearance,R=void 0===N?8:N,w=e.maxIterations,k=void 0===w?10:w,C=e.maxDelta,M=void 0===C?20:C,S=e.minDelta,z=void 0===S?.1:S,I=e.className,P=e.style,L=e.setRole,$=void 0===L||L,H=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.wIO)().data,j=useScatterPreparedData(),D=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kE1)().scales,W=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.gKR)(),O=W.disabledKeys,B=W.firstRender,q=useSymbolData(H,j),F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e=[];return j.data.map((function(n){O.has(n.id)||n.x.map((function(t,r){var o=[t,null==n?void 0:n.y[r]];e.push(blockObject(o,void 0,n.r[r]))}))})),e}),[j,O]),seriesFilter=function seriesFilter(e){return!O.has(e.id)&&void 0!==j.seriesIndexes[e.id]},K=t.filter(seriesFilter),X=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return t.filter(seriesFilter).map((function(e){var n,t,r,o=getPointPosition(e.id,e.index,j),i=o.position,a=o.r,l=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.qgA)(i,null!=(n=e.size)?n:[0,0],null!=(t=e.anchor)?t:c,null!=(r=e.offset)?r:v);return blockObject(l,e.size,a)}))}),[j,O]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function arrangeBlockObjects(e){for(var n=e.items,t=e.obstacles,r=void 0===t?[]:t,o=e.clearance,i=void 0===o?0:o,a=e.lr,l=void 0===a?1:a,s=e.maxIterations,u=void 0===s?6:s,c=e.minDelta,d=void 0===c?.05:c,v=e.maxDelta,p=void 0===v?20:v,m=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.BRZ)(n),h=n.map((function(e){var n=[].concat(e);return n[2]=-1,n[3]=-1,n})),y=Array.from(Array(n.length).keys()),g=0,N=1/Math.max(1,u),_loop=function _loop(){var e=y.map((function(e){return function(e,n,t,r){var o=n[e],i=[0,0];if(!o)return i;var updateResult=function updateResult(e,n){i[0]+=e[0]*n,i[1]+=e[1]*n};return t.forEach((function(e){var n=computeDisplacement(o,e,r,1);updateResult(n,1)})),n.forEach((function(n,t){if(t!==e||n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]!==o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]||n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]!==o[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]){var i=computeDisplacement(o,n,r,1);updateResult(i,.5)}})),i}(e,m,r,i)})),n=y.map((function(e){return function(e,n,t,r){var o=n[e],i=t[e];return computeDisplacement(o,i,r,-1)}(e,m,h,i)})),t=0;y.forEach((function(r){var o,i,a,s=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.QO2)(null!=(o=e[r])?o:[0,0],null!=(i=n[r])?i:[0,0]);s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DJC)(s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],4),s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DJC)(s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],4),function(e,n,t,r,o){Math.abs(n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X])>r&&(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]+=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oqW)(t*n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],-o,o)),Math.abs(n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])>r&&(e[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]+=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.oqW)(t*n[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],-o,o))}(null!=(a=m[r])?a:[0,0,0,0,0],s,l,d,p),t=Math.max(t,Math.max(Math.abs(s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),Math.abs(s[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y])))})),g>2&&(l-=N),l*t<d&&(l=0),g+=1};l>0&&g<u;)_loop();return m.map((function(e){return{position:e.slice(0,2),anchor:[.5,.5]}}))}({items:X,obstacles:F,clearance:R,maxIterations:k,maxDelta:M,minDelta:z})}),[X,F]),V=_extends({variant:"scatter-label",setRole:!1},a,{style:P,className:I}),U=K.map((function(e,n){var t,o,a,l,u,c,d=Number(j.seriesIndexes[e.id]),v=null==(t=q[d])?void 0:t[e.index],N=getPointPosition(e.id,e.index,j).position,R=f?createActiveSymbol({activeData:v,coordinates:N,scales:D,seriesIndex:d,symbol:f,symbolStyle:p,symbolClassName:m,setRole:!1}):null,w=h?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(h,{key:"connector",variant:"scatter-label",style:y,className:g,x1:N[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X],y1:N[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y],x2:Number(null==(o=A[n])?void 0:o.position[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X]),y2:Number(null==(a=A[n])?void 0:a.position[_chsk_core__WEBPACK_IMPORTED_MODULE_3__.Y]),setRole:!1}):null,k=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(i,_extends({key:"label"},V,e,{position:null==(l=A[n])?void 0:l.position}),null==(u=K[n])?void 0:u.content);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:$?"scatter-selected-label":void 0,children:[w,R,k]},"l-"+String(null==(c=K[n])?void 0:c.content))}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_3__.JjT,{role:$?"scatter-selected-labels":void 0,firstRender:B,children:U})}}}]);