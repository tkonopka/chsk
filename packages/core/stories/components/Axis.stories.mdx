import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Chart, Surface, View, Axis, AxisTicks } from '../../src'
import { ChartViewDecorator } from './decorators'

# Axis

<Meta title="Core/Components/Axis" />
export const Template = args => <Axis {...args} />

`Axis` draws an axis on a chart.

<ArgsTable of={Axis} />

## Variants

`Axis` is a composite component that draws a line, a label, and ticks marks with labels.
Predefined variants place these elements on the top, right, bottom, or left sides of a chart.

<Canvas>
    <Story
        name="top"
        args={{
            variant: 'top',
            label: 'axis label',
        }}
        component={Axis}
        decorators={[ChartViewDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="right"
        args={{
            variant: 'right',
            label: 'axis label',
        }}
        component={Axis}
        decorators={[ChartViewDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="bottom"
        args={{
            variant: 'bottom',
            label: 'axis label',
        }}
        component={Axis}
        decorators={[ChartViewDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="left"
        args={{
            variant: 'left',
            label: 'axis label',
        }}
        component={Axis}
        decorators={[ChartViewDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Offset

By default, axes are positioned exactly on the border of the charting surface. They can be moved with the prop `offset`.

<Canvas>
    <Story
        name="axis padding"
        args={{
            variant: 'bottom',
            label: 'axis label',
            offset: 10,
        }}
        component={Axis}
        decorators={[ChartViewDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Longform syntax

Example above use a shorthand syntax, whereby a single `Axis` component displays an axis line, an axis label, and ticks. Because of this shorthand form, there are a limited tuning props.

For more fine-grained control, the `Axis` component can instead be used as a container, with `AxisLine`, `AxisLabel`, and `AxisTicks` as child components, as in the pseudo-code below.

<Source
    language="javascript"
    code={`
<Axis variant={'top'}>
    <AxisLine variant={'top'} />
    <AxisLabel variant={'top'} />axis label</AxisLabel>
    <AxisTicks variant={'top'} />
</Axis>
`}
/>

It is also possible to use any of the child components multiple times.
Below, the axis draws two sets of ticks of different lengths/sizes.

<Canvas>
    <Story name="custom axis">
        <Chart
            size={[400, 300]}
            padding={[40, 40, 40, 40]}
            style={{ margin: '0.5em', border: 'solid 1px #aa3333', display: 'inline-block' }}
        >
            <View>
                <Surface variant={'inner'} />
                <Axis variant={'bottom'}>
                    <AxisTicks
                        variant={'bottom'}
                        ticks={[0, 20, 40, 60, 80, 100]}
                        tickSize={6}
                        labelOffset={10}
                    />
                    <AxisTicks
                        variant={'bottom'}
                        ticks={[10, 30, 50, 70, 90]}
                        labelFormat={null}
                        tickSize={18}
                    />
                </Axis>
            </View>
        </Chart>
    </Story>
</Canvas>
