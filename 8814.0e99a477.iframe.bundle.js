"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[8814],{"./node_modules/d3-shape/src/arc.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _constant_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/d3-shape/src/constant.js"),_math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/d3-shape/src/math.js"),_path_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/d3-shape/src/path.js");function arcInnerRadius(d){return d.innerRadius}function arcOuterRadius(d){return d.outerRadius}function arcStartAngle(d){return d.startAngle}function arcEndAngle(d){return d.endAngle}function arcPadAngle(d){return d&&d.padAngle}function cornerTangents(x0,y0,x1,y1,r1,rc,cw){var x01=x0-x1,y01=y0-y1,lo=(cw?rc:-rc)/(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.RZ)(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=r1-rc,D=x11*y10-x10*y11,d=(dy<0?-1:1)*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.RZ)((0,_math_js__WEBPACK_IMPORTED_MODULE_0__.T9)(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),{cx:cx0,cy:cy0,x01:-ox,y01:-oy,x11:cx0*(r1/r-1),y11:cy0*(r1/r-1)}}function __WEBPACK_DEFAULT_EXPORT__(){var innerRadius=arcInnerRadius,outerRadius=arcOuterRadius,cornerRadius=(0,_constant_js__WEBPACK_IMPORTED_MODULE_1__.A)(0),padRadius=null,startAngle=arcStartAngle,endAngle=arcEndAngle,padAngle=arcPadAngle,context=null,path=(0,_path_js__WEBPACK_IMPORTED_MODULE_2__.i)(arc);function arc(){var buffer,r,r0=+innerRadius.apply(this,arguments),r1=+outerRadius.apply(this,arguments),a0=startAngle.apply(this,arguments)-_math_js__WEBPACK_IMPORTED_MODULE_0__.TW,a1=endAngle.apply(this,arguments)-_math_js__WEBPACK_IMPORTED_MODULE_0__.TW,da=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.tn)(a1-a0),cw=a1>a0;if(context||(context=buffer=path()),r1<r0&&(r=r1,r1=r0,r0=r),r1>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni)if(da>_math_js__WEBPACK_IMPORTED_MODULE_0__.FA-_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni)context.moveTo(r1*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.gn)(a0),r1*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)(a0)),context.arc(0,0,r1,a0,a1,!cw),r0>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni&&(context.moveTo(r0*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.gn)(a1),r0*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)(a1)),context.arc(0,0,r0,a1,a0,cw));else{var t0,t1,a01=a0,a11=a1,a00=a0,a10=a1,da0=da,da1=da,ap=padAngle.apply(this,arguments)/2,rp=ap>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni&&(padRadius?+padRadius.apply(this,arguments):(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.RZ)(r0*r0+r1*r1)),rc=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.jk)((0,_math_js__WEBPACK_IMPORTED_MODULE_0__.tn)(r1-r0)/2,+cornerRadius.apply(this,arguments)),rc0=rc,rc1=rc;if(rp>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni){var p0=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.qR)(rp/r0*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)(ap)),p1=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.qR)(rp/r1*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)(ap));(da0-=2*p0)>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni?(a00+=p0*=cw?1:-1,a10-=p0):(da0=0,a00=a10=(a0+a1)/2),(da1-=2*p1)>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni?(a01+=p1*=cw?1:-1,a11-=p1):(da1=0,a01=a11=(a0+a1)/2)}var x01=r1*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.gn)(a01),y01=r1*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)(a01),x10=r0*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.gn)(a10),y10=r0*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)(a10);if(rc>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni){var oc,x11=r1*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.gn)(a11),y11=r1*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)(a11),x00=r0*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.gn)(a00),y00=r0*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)(a00);if(da<_math_js__WEBPACK_IMPORTED_MODULE_0__.pi)if(oc=function intersect(x0,y0,x1,y1,x2,y2,x3,y3){var x10=x1-x0,y10=y1-y0,x32=x3-x2,y32=y3-y2,t=y32*x10-x32*y10;if(!(t*t<_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni))return[x0+(t=(x32*(y0-y2)-y32*(x0-x2))/t)*x10,y0+t*y10]}(x01,y01,x00,y00,x11,y11,x10,y10)){var ax=x01-oc[0],ay=y01-oc[1],bx=x11-oc[0],by=y11-oc[1],kc=1/(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)((0,_math_js__WEBPACK_IMPORTED_MODULE_0__.HQ)((ax*bx+ay*by)/((0,_math_js__WEBPACK_IMPORTED_MODULE_0__.RZ)(ax*ax+ay*ay)*(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.RZ)(bx*bx+by*by)))/2),lc=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.RZ)(oc[0]*oc[0]+oc[1]*oc[1]);rc0=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.jk)(rc,(r0-lc)/(kc-1)),rc1=(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.jk)(rc,(r1-lc)/(kc+1))}else rc0=rc1=0}da1>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni?rc1>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni?(t0=cornerTangents(x00,y00,x01,y01,r1,rc1,cw),t1=cornerTangents(x11,y11,x10,y10,r1,rc1,cw),context.moveTo(t0.cx+t0.x01,t0.cy+t0.y01),rc1<rc?context.arc(t0.cx,t0.cy,rc1,(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t0.y01,t0.x01),(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc1,(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t0.y01,t0.x01),(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t0.y11,t0.x11),!cw),context.arc(0,0,r1,(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t0.cy+t0.y11,t0.cx+t0.x11),(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t1.cy+t1.y11,t1.cx+t1.x11),!cw),context.arc(t1.cx,t1.cy,rc1,(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t1.y11,t1.x11),(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t1.y01,t1.x01),!cw))):(context.moveTo(x01,y01),context.arc(0,0,r1,a01,a11,!cw)):context.moveTo(x01,y01),r0>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni&&da0>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni?rc0>_math_js__WEBPACK_IMPORTED_MODULE_0__.Ni?(t0=cornerTangents(x10,y10,x11,y11,r0,-rc0,cw),t1=cornerTangents(x01,y01,x00,y00,r0,-rc0,cw),context.lineTo(t0.cx+t0.x01,t0.cy+t0.y01),rc0<rc?context.arc(t0.cx,t0.cy,rc0,(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t0.y01,t0.x01),(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc0,(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t0.y01,t0.x01),(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t0.y11,t0.x11),!cw),context.arc(0,0,r0,(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t0.cy+t0.y11,t0.cx+t0.x11),(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t1.cy+t1.y11,t1.cx+t1.x11),cw),context.arc(t1.cx,t1.cy,rc0,(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t1.y11,t1.x11),(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FP)(t1.y01,t1.x01),!cw))):context.arc(0,0,r0,a10,a00,cw):context.lineTo(x10,y10)}else context.moveTo(0,0);if(context.closePath(),buffer)return context=null,buffer+""||null}return arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-_math_js__WEBPACK_IMPORTED_MODULE_0__.pi/2;return[(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.gn)(a)*r,(0,_math_js__WEBPACK_IMPORTED_MODULE_0__.F8)(a)*r]},arc.innerRadius=function(_){return arguments.length?(innerRadius="function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_1__.A)(+_),arc):innerRadius},arc.outerRadius=function(_){return arguments.length?(outerRadius="function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_1__.A)(+_),arc):outerRadius},arc.cornerRadius=function(_){return arguments.length?(cornerRadius="function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_1__.A)(+_),arc):cornerRadius},arc.padRadius=function(_){return arguments.length?(padRadius=null==_?null:"function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_1__.A)(+_),arc):padRadius},arc.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_1__.A)(+_),arc):startAngle},arc.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_1__.A)(+_),arc):endAngle},arc.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_1__.A)(+_),arc):padAngle},arc.context=function(_){return arguments.length?(context=null==_?null:_,arc):context},arc}},"./node_modules/framer-motion/dist/es/value/use-motion-value.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>useMotionValue});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_index_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/framer-motion/dist/es/value/index.mjs"),_context_MotionConfigContext_mjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs"),_utils_use_constant_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-constant.mjs");function useMotionValue(initial){const value=(0,_utils_use_constant_mjs__WEBPACK_IMPORTED_MODULE_1__.M)((()=>(0,_index_mjs__WEBPACK_IMPORTED_MODULE_2__.O)(initial))),{isStatic}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_MotionConfigContext_mjs__WEBPACK_IMPORTED_MODULE_3__.Q);if(isStatic){const[,setLatest]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initial);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>value.on("change",setLatest)),[])}return value}},"./packages/polar/src/general/Origin.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Origin});var framer_motion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Origin=function Origin(_ref){var _ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,className=_ref.className,style=_ref.style,children=_ref.children,scales=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.dRm)().scales,xScale=scales.x,yScale=scales.y,config={x:xScale(0),y:yScale(0),originX:"0px",originY:"0px"},compositeClassName=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.uBT)("origin",className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.g,{initial:config,animate:config,role:setRole?"origin":void 0,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.TNc)(style,config),className:compositeClassName,children})};try{Origin.displayName="Origin",Origin.__docgenInfo={description:"",displayName:"Origin",props:{className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/general/Origin.tsx#Origin"]={docgenInfo:Origin.__docgenInfo,name:"Origin",path:"packages/polar/src/general/Origin.tsx#Origin"})}catch(__react_docgen_typescript_loader_error){}},"./packages/polar/src/pie/Pie.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>Pie});var react=__webpack_require__("./node_modules/react/index.js"),LazyMotion=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),features_animation=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),chsk_core_es=__webpack_require__("./packages/core/dist/chsk-core.es.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["container","data","angle","angleUnit","angleAlign","rOuter","rInner","scaleX","scaleY","scaleColor","children"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var defaultPolarScaleSpec={variant:"linear",domain:[-1,1],nice:!1},Pie=function Pie(_ref){var _ref$container=_ref.container,container=void 0===_ref$container?chsk_core_es.lq9:_ref$container,data=_ref.data,_ref$angle=_ref.angle,angle=void 0===_ref$angle?0:_ref$angle,_ref$angleUnit=_ref.angleUnit,angleUnit=void 0===_ref$angleUnit?"degree":_ref$angleUnit,_ref$angleAlign=_ref.angleAlign,angleAlign=void 0===_ref$angleAlign?0:_ref$angleAlign,_ref$rOuter=_ref.rOuter,rOuter=void 0===_ref$rOuter?1:_ref$rOuter,_ref$rInner=_ref.rInner,rInner=void 0===_ref$rInner?0:_ref$rInner,_ref$scaleX=_ref.scaleX,scaleX=void 0===_ref$scaleX?defaultPolarScaleSpec:_ref$scaleX,_ref$scaleY=_ref.scaleY,scaleY=void 0===_ref$scaleY?defaultPolarScaleSpec:_ref$scaleY,scaleColor=_ref.scaleColor,children=_ref.children,props=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),theme=(0,chsk_core_es.DPo)(),_useContainer=(0,chsk_core_es.NFA)(container),dimsProps=_useContainer.dimsProps,origin=_useContainer.origin,innerSize=_useContainer.innerSize,seriesIds=(0,react.useMemo)((function(){return data.map((function(item){return item.id}))}),[data]),seriesIndexes=(0,react.useMemo)((function(){return(0,chsk_core_es.JW0)(data)}),[data]),processedData=(0,react.useMemo)((function(){return function processData(data,angle,unit,align,rInner,rOuter){var values=data.map((function(seriesData){return Math.max(0,seriesData.data)})),total=values.reduce((function(acc,v){return acc+v}),0),start=0,offset="radian"===unit?angle:(0,chsk_core_es.kU6)(angle);return data.map((function(seriesData,index){var proportion=Number(values[index])/total,startAngle=start,endAngle=start+2*proportion*Math.PI;if(0===index){var firstOffset=offset-(endAngle-startAngle)*align;startAngle+=firstOffset,endAngle+=firstOffset}return start=endAngle,{id:seriesData.id,index,data:Number(values[index]),proportion,startAngle,endAngle,rInner,rOuter}}))}(data,angle,angleUnit,angleAlign,rInner,rOuter)}),[data,angle,angleUnit,angleAlign,rInner,rOuter]),_useMemo=(0,react.useMemo)((function(){return function getPieXYScaleProps(scaleSpecX,scaleSpecY,size){var result={x:(0,chsk_core_es.Kgv)(scaleSpecX),y:(0,chsk_core_es.Kgv)(scaleSpecY)};return(0,chsk_core_es.v13)(scaleSpecX)||(result.x=(0,chsk_core_es.QSb)(scaleSpecX,[-1,1])),(0,chsk_core_es.v13)(scaleSpecY)||(result.y=(0,chsk_core_es.QSb)(scaleSpecY,[-1,1])),result.x.size=size[chsk_core_es.X],result.y.size=size[chsk_core_es.Y],(0,chsk_core_es.dNx)(result.x,result.y)}(scaleX,scaleY,innerSize)}),[scaleX,scaleY,innerSize]),xProps=_useMemo.x,yProps=_useMemo.y,colorProps=(0,react.useMemo)((function(){return(0,chsk_core_es.iOq)(null!=scaleColor?scaleColor:theme.Color.categorical,seriesIds)}),[scaleColor,theme,seriesIds]),scalesContextValue=(0,chsk_core_es.Hmy)({x:xProps,y:yProps,color:colorProps});return(0,jsx_runtime.jsx)(chsk_core_es.PJN,_extends({variant:"pie",position:origin,size:dimsProps.size,padding:dimsProps.padding,originalData:data,processedData,seriesIndexes,keys:seriesIds,scalesContextValue},props,{children:(0,jsx_runtime.jsx)(LazyMotion.F,{features:features_animation.l,children})}))};try{Pie.displayName="Pie",Pie.__docgenInfo={description:"",displayName:"Pie",props:{data:{defaultValue:null,description:"primary data (used for color scale)",name:"data",required:!0,type:{name:"PieDataItem[]"}},angle:{defaultValue:{value:"0"},description:"global rotation",name:"angle",required:!1,type:{name:"number"}},angleUnit:{defaultValue:{value:"degree"},description:"angle unit",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},angleAlign:{defaultValue:{value:"0"},description:"angle alignment for first slice",name:"angleAlign",required:!1,type:{name:"number"}},rOuter:{defaultValue:{value:"1"},description:"outer radius",name:"rOuter",required:!1,type:{name:"number"}},rInner:{defaultValue:{value:"0"},description:"inner radius",name:"rInner",required:!1,type:{name:"number"}},scaleX:{defaultValue:{value:"{\n    variant: 'linear',\n    domain: [-1, 1],\n    nice: false,\n}"},description:"scale for horizontal axis",name:"scaleX",required:!1,type:{name:"LinearScaleSpec"}},scaleY:{defaultValue:{value:"{\n    variant: 'linear',\n    domain: [-1, 1],\n    nice: false,\n}"},description:"scale for vertical axis",name:"scaleY",required:!1,type:{name:"LinearScaleSpec"}},scaleColor:{defaultValue:null,description:"scale for colors",name:"scaleColor",required:!1,type:{name:"CategoricalScaleSpec"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},container:{defaultValue:null,description:"position and size for bounding container",name:"container",required:!1,type:{name:"ContainerProps"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/Pie.tsx#Pie"]={docgenInfo:Pie.__docgenInfo,name:"Pie",path:"packages/polar/src/pie/Pie.tsx#Pie"})}catch(__react_docgen_typescript_loader_error){}},"./packages/polar/src/pie/Slice.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>Slice});var framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/value/use-motion-value.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/framer-motion/dist/es/animation/animate.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),d3_shape__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/d3-shape/src/arc.js"),d3_interpolate__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/d3-interpolate/src/object.js"),_chsk_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["innerRadius","outerRadius","r","startAngle","endAngle","angleUnit","padAngle","className","setRole"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var getSliceD=function getSliceD(_ref){var _generator,innerRadius=_ref.innerRadius,outerRadius=_ref.outerRadius,_ref$r=_ref.r,r=void 0===_ref$r?0:_ref$r,startAngle=_ref.startAngle,endAngle=_ref.endAngle,_ref$padAngle=_ref.padAngle,padAngle=void 0===_ref$padAngle?0:_ref$padAngle;return null!=(_generator=(0,d3_shape__WEBPACK_IMPORTED_MODULE_2__.A)().cornerRadius(r).padAngle(padAngle)({startAngle,endAngle,innerRadius,outerRadius}))?_generator:""},Slice=function Slice(_ref2){var innerRadius=_ref2.innerRadius,outerRadius=_ref2.outerRadius,_ref2$r=_ref2.r,r=void 0===_ref2$r?0:_ref2$r,startAngle=_ref2.startAngle,endAngle=_ref2.endAngle,_ref2$angleUnit=_ref2.angleUnit,angleUnit=void 0===_ref2$angleUnit?"radian":_ref2$angleUnit,_ref2$padAngle=_ref2.padAngle,padAngle=void 0===_ref2$padAngle?0:_ref2$padAngle,className=_ref2.className,_ref2$setRole=_ref2.setRole,setRole=void 0===_ref2$setRole||_ref2$setRole,props=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref2,_excluded),theme=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DPo)(),isRadian="radian"===angleUnit,sliceProps={innerRadius,outerRadius,r,startAngle:isRadian?startAngle:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kU6)(startAngle),endAngle:isRadian?endAngle:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.kU6)(endAngle),padAngle},d=(0,framer_motion__WEBPACK_IMPORTED_MODULE_4__.d)(getSliceD(sliceProps)),_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(sliceProps),values=_useState[0],setValues=_useState[1],_useState2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),working=_useState2[0],setWorking=_useState2[1];if(d.get()!==getSliceD(sliceProps)&&!working){var animateConfig=theme.Transition.default,interpolator=(0,d3_interpolate__WEBPACK_IMPORTED_MODULE_5__.A)(values,sliceProps);(0,framer_motion__WEBPACK_IMPORTED_MODULE_6__.i)(0,1,_extends({},animateConfig,{onPlay:function onPlay(){setWorking(!0)},onUpdate:function onUpdate(latest){d.set(getSliceD(interpolator(latest)))},onComplete:function onComplete(){setValues(sliceProps),setWorking(!1)}}))}var compositeClassName=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.uBT)("slice",className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.m.path,_extends({d,role:setRole?"slice":void 0,className:compositeClassName},props))};try{Slice.displayName="Slice",Slice.__docgenInfo={description:"",displayName:"Slice",props:{innerRadius:{defaultValue:null,description:"inner radius in absolute coordinates",name:"innerRadius",required:!0,type:{name:"number"}},outerRadius:{defaultValue:null,description:"outer radius in absolute coordinates",name:"outerRadius",required:!0,type:{name:"number"}},startAngle:{defaultValue:null,description:"start angle for slice (radians)",name:"startAngle",required:!0,type:{name:"number"}},endAngle:{defaultValue:null,description:"end angle for slice (radians)",name:"endAngle",required:!0,type:{name:"number"}},r:{defaultValue:{value:"0"},description:"corner radius",name:"r",required:!1,type:{name:"number"}},padAngle:{defaultValue:{value:"0"},description:"angle padding to create space between slices",name:"padAngle",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},angleUnit:{defaultValue:{value:"radian"},description:"angle units",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/Slice.tsx#Slice"]={docgenInfo:Slice.__docgenInfo,name:"Slice",path:"packages/polar/src/pie/Slice.tsx#Slice"})}catch(__react_docgen_typescript_loader_error){}},"./packages/polar/src/pie/Slices.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>Slices});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_chsk_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_Slice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/polar/src/pie/Slice.tsx"),_predicates__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/polar/src/pie/predicates.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["ids","r","padAngle","component","componentProps","className","style","dataComponent","setRole"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Slices=function Slices(_ref){var ids=_ref.ids,_ref$r=_ref.r,r=void 0===_ref$r?0:_ref$r,_ref$padAngle=_ref.padAngle,padAngle=void 0===_ref$padAngle?0:_ref$padAngle,_ref$component=_ref.component,component=void 0===_ref$component?_Slice__WEBPACK_IMPORTED_MODULE_2__.J:_ref$component,componentProps=_ref.componentProps,className=_ref.className,style=_ref.style,_ref$dataComponent=_ref.dataComponent,dataComponent=void 0===_ref$dataComponent?_chsk_core__WEBPACK_IMPORTED_MODULE_3__.X2C:_ref$dataComponent,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,props=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),processedData=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.IzW)(),scales=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.dRm)().scales,xScale=scales.x,colorScale=scales.color,data=processedData.data,idSet=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.yTO)(ids,null,processedData).idSet;if(!(0,_predicates__WEBPACK_IMPORTED_MODULE_4__.B)(data))return null;var styles=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.DUs)(processedData.keys).map((function(i){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_3__.nM)(style,colorScale(i))}))}),[processedData,style,colorScale]),x0=xScale(0),commonProps=_extends({},componentProps,{setRole,padAngle,r,className}),result=data.map((function(item,i){return idSet.has(item.id)?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(dataComponent,_extends({key:"s-"+item.id,component,data:item,props:_extends({},commonProps,{innerRadius:xScale(item.rInner)-x0,outerRadius:xScale(item.rOuter)-x0,startAngle:item.startAngle,endAngle:item.endAngle,style:styles[i]})},props)):null}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:result})};try{Slices.displayName="Slices",Slices.__docgenInfo={description:"",displayName:"Slices",props:{ids:{defaultValue:null,description:"/** ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},r:{defaultValue:{value:"0"},description:"radius for slices",name:"r",required:!1,type:{name:"number"}},padAngle:{defaultValue:{value:"0"},description:"angle padding",name:"padAngle",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},handlers:{defaultValue:null,description:"handlers for events",name:"handlers",required:!1,type:{name:"DataInteractivityHandlers<PieProcessedDataItem>"}},modifiers:{defaultValue:null,description:"style modifiers",name:"modifiers",required:!1,type:{name:"DataInteractivityModifiers"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<PieProcessedDataItem, SliceProps>>"}},component:{defaultValue:{value:"({\n    innerRadius,\n    outerRadius,\n    r = 0,\n    startAngle,\n    endAngle,\n    angleUnit = 'radian',\n    padAngle = 0,\n    //\n    className,\n    setRole = true,\n    ...props\n}: SliceProps) => {\n    const theme = useTheme()\n    const isRadian = angleUnit === 'radian'\n    const sliceProps = {\n        innerRadius,\n        outerRadius,\n        r,\n        startAngle: isRadian ? startAngle : deg2rad(startAngle),\n        endAngle: isRadian ? endAngle : deg2rad(endAngle),\n        padAngle,\n    }\n    const d = useMotionValue(getSliceD(sliceProps))\n    const [values, setValues] = useState(sliceProps)\n    const [working, setWorking] = useState(false)\n\n    if (d.get() !== getSliceD(sliceProps) && !working) {\n        const animateConfig = theme.Transition.default\n        const interpolator = interpolateObject(values, sliceProps)\n        animate(0, 1, {\n            ...animateConfig,\n            onPlay: () => {\n                setWorking(true)\n            },\n            onUpdate: latest => {\n                d.set(getSliceD(interpolator(latest)))\n            },\n            onComplete: () => {\n                setValues(sliceProps)\n                setWorking(false)\n            },\n        })\n    }\n\n    const compositeClassName = getClassName('slice', className)\n    return (\n        <m.path\n            d={d}\n            role={setRole ? 'slice' : undefined}\n            className={compositeClassName}\n            {...props}\n        />\n    )\n}"},description:"function used to draw individual components",name:"component",required:!1,type:{name:"FC<SliceProps>"}},componentProps:{defaultValue:null,description:"props passed to each component",name:"componentProps",required:!1,type:{name:"Partial<SliceProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/src/pie/Slices.tsx#Slices"]={docgenInfo:Slices.__docgenInfo,name:"Slices",path:"packages/polar/src/pie/Slices.tsx#Slices"})}catch(__react_docgen_typescript_loader_error){}},"./packages/polar/src/pie/predicates.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>isPieProcessedData});var isPieProcessedData=function isPieProcessedData(data){var result=data.map((function(item){return"object"==typeof item&&null!==item&&("id"in item&&"index"in item&&("startAngle"in item&&"endAngle"in item&&"data"in item&&"proportion"in item))}));return result.length>0&&result.every(Boolean)}},"./packages/polar/stories/pie/decorators.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C$:()=>ChartDoughnutDecorator,F9:()=>ChartDoughnutSlicesDecorator,Oq:()=>ChartPieDecorator,b7:()=>ChartPieSlicesDecorator,fc:()=>OriginAndSlices,sV:()=>commonPieProps});var _chsk_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/polar/src/pie/Pie.tsx"),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/polar/src/general/Origin.tsx"),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/polar/src/pie/Slices.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var commonPieProps={data:[{id:"alpha",data:55},{id:"beta",data:20},{id:"gamma",data:25}]},ChartPieDecorator=function ChartPieDecorator(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.t1X,{size:[400,300],padding:[40,40,60,60],style:{display:"inline-block"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.F,_extends({},commonPieProps,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_3__.$,{children:Story()})}))})},ChartDoughnutDecorator=function ChartDoughnutDecorator(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.t1X,{size:[400,300],padding:[40,40,60,60],style:{display:"inline-block"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.F,_extends({},commonPieProps,{rInner:.6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_3__.$,{children:Story()})}))})},ChartPieSlicesDecorator=function ChartPieSlicesDecorator(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.t1X,{size:[400,300],padding:[40,40,60,60],style:{display:"inline-block"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.F,_extends({},commonPieProps,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_src__WEBPACK_IMPORTED_MODULE_3__.$,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.g,{style:{fillOpacity:.9}}),Story()]})}))})},ChartDoughnutSlicesDecorator=function ChartDoughnutSlicesDecorator(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.t1X,{size:[400,300],padding:[40,40,60,60],style:{display:"inline-block"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.F,_extends({},commonPieProps,{rInner:.6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_src__WEBPACK_IMPORTED_MODULE_3__.$,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.g,{style:{fillOpacity:.9}}),Story()]})}))})},OriginAndSlices=function OriginAndSlices(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_3__.$,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.g,{style:{fillOpacity:.9}})})};try{ChartPieDecorator.displayName="ChartPieDecorator",ChartPieDecorator.__docgenInfo={description:"",displayName:"ChartPieDecorator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/stories/pie/decorators.tsx#ChartPieDecorator"]={docgenInfo:ChartPieDecorator.__docgenInfo,name:"ChartPieDecorator",path:"packages/polar/stories/pie/decorators.tsx#ChartPieDecorator"})}catch(__react_docgen_typescript_loader_error){}try{ChartDoughnutDecorator.displayName="ChartDoughnutDecorator",ChartDoughnutDecorator.__docgenInfo={description:"",displayName:"ChartDoughnutDecorator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/stories/pie/decorators.tsx#ChartDoughnutDecorator"]={docgenInfo:ChartDoughnutDecorator.__docgenInfo,name:"ChartDoughnutDecorator",path:"packages/polar/stories/pie/decorators.tsx#ChartDoughnutDecorator"})}catch(__react_docgen_typescript_loader_error){}try{ChartPieSlicesDecorator.displayName="ChartPieSlicesDecorator",ChartPieSlicesDecorator.__docgenInfo={description:"",displayName:"ChartPieSlicesDecorator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/stories/pie/decorators.tsx#ChartPieSlicesDecorator"]={docgenInfo:ChartPieSlicesDecorator.__docgenInfo,name:"ChartPieSlicesDecorator",path:"packages/polar/stories/pie/decorators.tsx#ChartPieSlicesDecorator"})}catch(__react_docgen_typescript_loader_error){}try{ChartDoughnutSlicesDecorator.displayName="ChartDoughnutSlicesDecorator",ChartDoughnutSlicesDecorator.__docgenInfo={description:"",displayName:"ChartDoughnutSlicesDecorator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/polar/stories/pie/decorators.tsx#ChartDoughnutSlicesDecorator"]={docgenInfo:ChartDoughnutSlicesDecorator.__docgenInfo,name:"ChartDoughnutSlicesDecorator",path:"packages/polar/stories/pie/decorators.tsx#ChartDoughnutSlicesDecorator"})}catch(__react_docgen_typescript_loader_error){}}}]);