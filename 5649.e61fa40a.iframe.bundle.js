"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[5649],{"./packages/core/src/legends/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ae:()=>getSymbolStyle,CJ:()=>getSizeEstimate,DI:()=>getLabelPosition,PX:()=>getSymbolPosition,Qe:()=>getItemPositions,X0:()=>getTitlePosition,oi:()=>getContentPosition});var _general__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/src/general/constants.ts"),_general__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/src/general/math.ts"),_themes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/src/themes/utils.ts"),getSizeEstimate=function getSizeEstimate(padding,itemSize,nItems,firstOffset,title,horizontal){var sizeMultiplier=horizontal?[nItems+(title?1:0),1]:[1,nItems+(title?1:0)];return[itemSize[_general__WEBPACK_IMPORTED_MODULE_0__.X]*sizeMultiplier[_general__WEBPACK_IMPORTED_MODULE_0__.X]+firstOffset[_general__WEBPACK_IMPORTED_MODULE_0__.X]+padding[_general__WEBPACK_IMPORTED_MODULE_0__.RL]+padding[_general__WEBPACK_IMPORTED_MODULE_0__.pX],itemSize[_general__WEBPACK_IMPORTED_MODULE_0__.Y]*sizeMultiplier[_general__WEBPACK_IMPORTED_MODULE_0__.Y]+firstOffset[_general__WEBPACK_IMPORTED_MODULE_0__.Y]+padding[_general__WEBPACK_IMPORTED_MODULE_0__.GS]+padding[_general__WEBPACK_IMPORTED_MODULE_0__.D]]},getContentPosition=function getContentPosition(titlePosition,itemSize,firstOffset,title,horizontal){var result=[].concat(titlePosition);if(title){var step=horizontal?[itemSize[_general__WEBPACK_IMPORTED_MODULE_0__.X],0]:[0,itemSize[_general__WEBPACK_IMPORTED_MODULE_0__.Y]];result[_general__WEBPACK_IMPORTED_MODULE_0__.X]+=step[_general__WEBPACK_IMPORTED_MODULE_0__.X]+firstOffset[_general__WEBPACK_IMPORTED_MODULE_0__.X],result[_general__WEBPACK_IMPORTED_MODULE_0__.Y]+=step[_general__WEBPACK_IMPORTED_MODULE_0__.Y]+firstOffset[_general__WEBPACK_IMPORTED_MODULE_0__.Y]}return result},getItemPositions=function getItemPositions(variant,position,horizontal,size,itemPadding,labelDistance,symbolSizes){var pad=itemPadding,stepSize=horizontal?size[0]:size[1],stepPadding=horizontal?pad[_general__WEBPACK_IMPORTED_MODULE_0__.RL]+pad[_general__WEBPACK_IMPORTED_MODULE_0__.pX]:pad[_general__WEBPACK_IMPORTED_MODULE_0__.GS]+pad[_general__WEBPACK_IMPORTED_MODULE_0__.D],step=horizontal?[stepSize,0]:[0,stepSize],stepMultiplier=horizontal?[1,0]:[0,1],maxSize=(0,_general__WEBPACK_IMPORTED_MODULE_1__.Fp)(symbolSizes),centerX=pad[_general__WEBPACK_IMPORTED_MODULE_0__.RL]+(size[_general__WEBPACK_IMPORTED_MODULE_0__.X]-pad[_general__WEBPACK_IMPORTED_MODULE_0__.RL]-pad[_general__WEBPACK_IMPORTED_MODULE_0__.pX])/2,itemPosition=[],itemSize=[],labelPosition=[],symbolPosition=[],pos=[position[0],position[1]];return symbolSizes.map((function(s,i){var r=symbolSizes[i],extraStep=Math.max(0,2*r+stepPadding-stepSize);itemPosition.push([pos[_general__WEBPACK_IMPORTED_MODULE_0__.X],pos[_general__WEBPACK_IMPORTED_MODULE_0__.Y]]),pos[_general__WEBPACK_IMPORTED_MODULE_0__.X]+=step[_general__WEBPACK_IMPORTED_MODULE_0__.X]+extraStep*stepMultiplier[_general__WEBPACK_IMPORTED_MODULE_0__.X],pos[_general__WEBPACK_IMPORTED_MODULE_0__.Y]+=step[_general__WEBPACK_IMPORTED_MODULE_0__.Y]+extraStep*stepMultiplier[_general__WEBPACK_IMPORTED_MODULE_0__.Y];var symbolPos=[maxSize+pad[_general__WEBPACK_IMPORTED_MODULE_0__.RL],r+pad[_general__WEBPACK_IMPORTED_MODULE_0__.GS]],labelPos=[2*maxSize+pad[_general__WEBPACK_IMPORTED_MODULE_0__.RL]+labelDistance,r+pad[_general__WEBPACK_IMPORTED_MODULE_0__.GS]];"left"===variant?(symbolPos[_general__WEBPACK_IMPORTED_MODULE_0__.X]=size[_general__WEBPACK_IMPORTED_MODULE_0__.X]-maxSize-pad[_general__WEBPACK_IMPORTED_MODULE_0__.pX],labelPos[_general__WEBPACK_IMPORTED_MODULE_0__.X]=symbolPos[_general__WEBPACK_IMPORTED_MODULE_0__.X]-maxSize-labelDistance):"top"===variant?(symbolPos[_general__WEBPACK_IMPORTED_MODULE_0__.X]=centerX,symbolPos[_general__WEBPACK_IMPORTED_MODULE_0__.Y]=maxSize+pad[_general__WEBPACK_IMPORTED_MODULE_0__.GS],labelPos[_general__WEBPACK_IMPORTED_MODULE_0__.X]=centerX,labelPos[_general__WEBPACK_IMPORTED_MODULE_0__.Y]=pad[_general__WEBPACK_IMPORTED_MODULE_0__.GS]-labelDistance):"bottom"===variant&&(symbolPos[_general__WEBPACK_IMPORTED_MODULE_0__.X]=centerX,symbolPos[_general__WEBPACK_IMPORTED_MODULE_0__.Y]=maxSize+pad[_general__WEBPACK_IMPORTED_MODULE_0__.GS],labelPos[_general__WEBPACK_IMPORTED_MODULE_0__.X]=centerX,labelPos[_general__WEBPACK_IMPORTED_MODULE_0__.Y]=2*maxSize+pad[_general__WEBPACK_IMPORTED_MODULE_0__.GS]+labelDistance),symbolPosition.push(symbolPos),labelPosition.push(labelPos),itemSize.push([size[_general__WEBPACK_IMPORTED_MODULE_0__.X]+extraStep*stepMultiplier[_general__WEBPACK_IMPORTED_MODULE_0__.X],size[_general__WEBPACK_IMPORTED_MODULE_0__.Y]+extraStep*stepMultiplier[_general__WEBPACK_IMPORTED_MODULE_0__.Y]])})),{itemPosition,itemSize,labelPosition,symbolPosition}},getTitlePosition=function getTitlePosition(variant,position,size,padding,r){void 0===r&&(r=0);var x=position[0];return"right"===variant?x+=padding[_general__WEBPACK_IMPORTED_MODULE_0__.RL]:"left"===variant?x+=size[0]-padding[_general__WEBPACK_IMPORTED_MODULE_0__.pX]:"bottom"!==variant&&"top"!==variant||(x+=padding[_general__WEBPACK_IMPORTED_MODULE_0__.RL]+(size[0]-padding[_general__WEBPACK_IMPORTED_MODULE_0__.RL]-padding[_general__WEBPACK_IMPORTED_MODULE_0__.pX])/2),[x,position[1]+padding[_general__WEBPACK_IMPORTED_MODULE_0__.GS]+r]},getSymbolPosition=function getSymbolPosition(variant,size,padding,r){var result=[r+padding[_general__WEBPACK_IMPORTED_MODULE_0__.RL],r+padding[_general__WEBPACK_IMPORTED_MODULE_0__.GS]];return"left"===variant?result[_general__WEBPACK_IMPORTED_MODULE_0__.X]=size[_general__WEBPACK_IMPORTED_MODULE_0__.X]-padding[_general__WEBPACK_IMPORTED_MODULE_0__.pX]-r:("bottom"===variant||"top"===variant)&&(result[_general__WEBPACK_IMPORTED_MODULE_0__.X]=padding[_general__WEBPACK_IMPORTED_MODULE_0__.RL]+(size[_general__WEBPACK_IMPORTED_MODULE_0__.X]-padding[_general__WEBPACK_IMPORTED_MODULE_0__.RL]-padding[_general__WEBPACK_IMPORTED_MODULE_0__.pX])/2),result},getLabelPosition=function getLabelPosition(variant,symbolPosition,offset){var result=[symbolPosition[_general__WEBPACK_IMPORTED_MODULE_0__.X],symbolPosition[_general__WEBPACK_IMPORTED_MODULE_0__.Y]];return"left"===variant?result[_general__WEBPACK_IMPORTED_MODULE_0__.X]-=offset:"right"===variant?result[_general__WEBPACK_IMPORTED_MODULE_0__.X]+=offset:"bottom"===variant?result[_general__WEBPACK_IMPORTED_MODULE_0__.Y]+=offset:"top"===variant&&(result[_general__WEBPACK_IMPORTED_MODULE_0__.Y]-=offset),result},getSymbolStyle=function getSymbolStyle(style,color,colorScale,item){var itemColor="number"==typeof color?colorScale(color):null!=color?color:colorScale(colorScale.domain().indexOf(null!=item?item:""));return(0,_themes__WEBPACK_IMPORTED_MODULE_2__.hI)(style,itemColor)}},"./packages/core/src/shapes/Square.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>Square});var framer_motion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),_themes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/src/themes/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["variant","cx","cy","r","className","style","setRole"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var squareHalfSide=.5*Math.sqrt(Math.PI)*.96,Square=function Square(_ref){var _ref$variant=_ref.variant,variant=void 0===_ref$variant?"default":_ref$variant,_ref$cx=_ref.cx,cx=void 0===_ref$cx?0:_ref$cx,_ref$cy=_ref.cy,cy=void 0===_ref$cy?0:_ref$cy,_ref$r=_ref.r,r=void 0===_ref$r?1:_ref$r,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,props=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),compositeClassName=(0,_themes__WEBPACK_IMPORTED_MODULE_1__.gj)(variant,className),scaledHalfSide=squareHalfSide*r,config={x:cx-scaledHalfSide,y:cy-scaledHalfSide,width:2*scaledHalfSide,height:2*scaledHalfSide};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.rect,_extends({role:setRole&&"default"!==variant?variant:void 0,initial:config,animate:config,className:compositeClassName,style:(0,_themes__WEBPACK_IMPORTED_MODULE_1__.dJ)(style,config)},props))};Square.displayName="Square";try{Square.displayName="Square",Square.__docgenInfo={description:"",displayName:"Square",props:{cx:{defaultValue:{value:"0"},description:"x coordinate",name:"cx",required:!1,type:{name:"number"}},cy:{defaultValue:{value:"0"},description:"y coordinate",name:"cy",required:!1,type:{name:"number"}},r:{defaultValue:{value:"1"},description:"radius (size set so that area matches a circle with this radius)",name:"r",required:!1,type:{name:"number"}},variant:{defaultValue:{value:"default"},description:"variant",name:"variant",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},onMouseEnter:{defaultValue:null,description:"handler for mouse enter event",name:"onMouseEnter",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseLeave:{defaultValue:null,description:"handler for mouse leave event",name:"onMouseLeave",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseMove:{defaultValue:null,description:"handler for mouse move event",name:"onMouseMove",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onClick:{defaultValue:null,description:"handler for click event",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/shapes/Square.tsx#Square"]={docgenInfo:Square.__docgenInfo,name:"Square",path:"packages/core/src/shapes/Square.tsx#Square"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/tooltips/BaseTooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>BaseTooltip});var motion_minimal=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),constants=__webpack_require__("./packages/core/src/general/constants.ts"),contexts=__webpack_require__("./packages/core/src/general/contexts.tsx"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),OpacityMotion=function OpacityMotion(_ref){var role=_ref.role,firstRender=_ref.firstRender,_ref$visible=_ref.visible,visible=void 0===_ref$visible||_ref$visible,children=_ref.children;return(0,jsx_runtime.jsx)(AnimatePresence.M,{children:visible&&(0,jsx_runtime.jsx)(motion_minimal.m.g,{role,initial:{opacity:firstRender?1:0},animate:{opacity:1},exit:{opacity:0},children})})};OpacityMotion.displayName="OpacityMotion";try{OpacityMotion.displayName="OpacityMotion",OpacityMotion.__docgenInfo={description:"",displayName:"OpacityMotion",props:{role:{defaultValue:null,description:"role string",name:"role",required:!1,type:{name:"string"}},firstRender:{defaultValue:null,description:"flag to indicate first render",name:"firstRender",required:!0,type:{name:"boolean"}},visible:{defaultValue:{value:"true"},description:"flag to indicate visibility, used for exit animation",name:"visible",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children components",name:"children",required:!0,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/charts/OpacityMotion.tsx#OpacityMotion"]={docgenInfo:OpacityMotion.__docgenInfo,name:"OpacityMotion",path:"packages/core/src/charts/OpacityMotion.tsx#OpacityMotion"})}catch(__react_docgen_typescript_loader_error){}var utils=__webpack_require__("./packages/core/src/themes/utils.ts"),legends_utils=__webpack_require__("./packages/core/src/legends/utils.ts"),defaults=__webpack_require__("./packages/core/src/tooltips/defaults.ts"),tooltips_utils=__webpack_require__("./packages/core/src/tooltips/utils.ts"),TooltipTitle=__webpack_require__("./packages/core/src/tooltips/TooltipTitle.tsx"),TooltipItem=__webpack_require__("./packages/core/src/tooltips/TooltipItem.tsx"),hooks=__webpack_require__("./packages/core/src/themes/hooks.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var UnthemedTooltipItemList=function UnthemedTooltipItemList(_ref){var _keys$length,variant=_ref.variant,position=_ref.position,ids=_ref.ids,keys=_ref.keys,labels=_ref.labels,colors=_ref.colors,_ref$itemSize=_ref.itemSize,itemSize=void 0===_ref$itemSize?defaults.WW.itemSize:_ref$itemSize,_ref$itemPadding=_ref.itemPadding,itemPadding=void 0===_ref$itemPadding?defaults.WW.itemPadding:_ref$itemPadding,itemStyle=_ref.itemStyle,_ref$horizontal=_ref.horizontal,horizontal=void 0===_ref$horizontal?defaults.WW.horizontal:_ref$horizontal,_ref$r=_ref.r,r=void 0===_ref$r?defaults.WW.r:_ref$r,symbol=_ref.symbol,symbolStyle=_ref.symbolStyle,labelStyle=_ref.labelStyle,_ref$labelDistance=_ref.labelDistance,labelDistance=void 0===_ref$labelDistance?defaults.WW.labelDistance:_ref$labelDistance,className=_ref.className,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,rs=Array.isArray(r)?r:Array(null!=(_keys$length=null==keys?void 0:keys.length)?_keys$length:1).fill(r),_getItemPositions=(0,legends_utils.Qe)(variant,position,horizontal,itemSize,itemPadding,labelDistance,rs),itemPosition=_getItemPositions.itemPosition,itemSizes=_getItemPositions.itemSize,symbolPosition=_getItemPositions.symbolPosition,labelPosition=_getItemPositions.labelPosition,content=itemPosition.map((function(pos,i){return(0,jsx_runtime.jsx)(TooltipItem.I,{variant,position:pos,size:itemSizes[i],padding:itemPadding,r:rs[i],symbol,symbolPosition:symbolPosition[i],symbolStyle,item:keys?keys[i]:"",color:colors?colors[i]:void 0,label:labels?labels[i]:"",labelPosition:labelPosition[i],labelStyle,labelDistance,className,style:itemStyle,setRole},"tooltip-item-"+i+"-"+(null==ids?void 0:ids[i]))}));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:content})},TooltipItemList=function TooltipItemList(props){return(0,jsx_runtime.jsx)(UnthemedTooltipItemList,_extends({},(0,hooks.m)(props,"TooltipItemList")))};TooltipItemList.displayName="TooltipItemList";try{TooltipItemList.displayName="TooltipItemList",TooltipItemList.__docgenInfo={description:"",displayName:"TooltipItemList",props:{symbol:{defaultValue:null,description:"symbol function",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},symbolStyle:{defaultValue:null,description:"style for symbol",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},offset:{defaultValue:null,description:"offset/translation applied after anchoring, absolute units",name:"offset",required:!1,type:{name:"NumericPositionSpec"}},anchor:{defaultValue:null,description:"container anchor point",name:"anchor",required:!1,type:{name:"AnchorSpec"}},positionUnits:{defaultValue:null,description:"absolute or relative units for position",name:"positionUnits",required:!1,type:{name:"PositionUnits"}},r:{defaultValue:{value:"defaultTooltipProps.r"},description:"array of symbol sizes",name:"r",required:!1,type:{name:"number | number[]"}},variant:{defaultValue:null,description:"variant",name:"variant",required:!0,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'},{value:'"bottom"'},{value:'"top"'}]}},position:{defaultValue:null,description:"position",name:"position",required:!0,type:{name:"NumericPositionSpec"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},size:{defaultValue:null,description:"container size as an array [width, height]",name:"size",required:!1,type:{name:"SizeSpec"}},padding:{defaultValue:null,description:"padding (absolute values) *",name:"padding",required:!1,type:{name:"FourSideSizeSpec"}},horizontal:{defaultValue:{value:"defaultTooltipProps.horizontal"},description:"arrange the items horizontally",name:"horizontal",required:!1,type:{name:"boolean"}},scaleSize:{defaultValue:null,description:"size for color gradient scale",name:"scaleSize",required:!1,type:{name:"SizeSpec"}},rx:{defaultValue:null,description:"horizontal corner radius",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:null,description:"vertical corner radius",name:"ry",required:!1,type:{name:"number"}},keys:{defaultValue:null,description:"array of items to display (for categorical keys)",name:"keys",required:!1,type:{name:"string[]"}},itemSize:{defaultValue:{value:"defaultTooltipProps.itemSize"},description:"size of a single item",name:"itemSize",required:!1,type:{name:"SizeSpec"}},itemPadding:{defaultValue:{value:"defaultTooltipProps.itemPadding"},description:"padding for a single item",name:"itemPadding",required:!1,type:{name:"FourSideSizeSpec"}},labelStyle:{defaultValue:null,description:"style for text label",name:"labelStyle",required:!1,type:{name:"Partial<CSSProperties>"}},labelDistance:{defaultValue:{value:"defaultTooltipProps.labelDistance"},description:"distance from symbol to label",name:"labelDistance",required:!1,type:{name:"number"}},sizeTicks:{defaultValue:null,description:"settings for size scale",name:"sizeTicks",required:!1,type:{name:"number | number[]"}},sizeUnits:{defaultValue:null,description:"absolute or relative units for position and size measurements",name:"sizeUnits",required:!1,type:{name:"SizeUnits"}},itemAlign:{defaultValue:null,description:"alignment within the item bounding box",name:"itemAlign",required:!1,type:{name:"AlignSpec"}},itemStyle:{defaultValue:null,description:"style for list items",name:"itemStyle",required:!1,type:{name:"Partial<CSSProperties>"}},colors:{defaultValue:null,description:"array of colors",name:"colors",required:!1,type:{name:"(string | number)[]"}},labels:{defaultValue:null,description:"array of labels to display next to symbols",name:"labels",required:!1,type:{name:"ReactNode[]"}},ids:{defaultValue:null,description:"array of ids",name:"ids",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/tooltips/TooltipItemList.tsx#TooltipItemList"]={docgenInfo:TooltipItemList.__docgenInfo,name:"TooltipItemList",path:"packages/core/src/tooltips/TooltipItemList.tsx#TooltipItemList"})}catch(__react_docgen_typescript_loader_error){}var tooltips_contexts=__webpack_require__("./packages/core/src/tooltips/contexts.tsx"),BaseTooltip=function BaseTooltip(_ref){var _ref$variant=_ref.variant,variant=void 0===_ref$variant?"right":_ref$variant,_ref$position=_ref.position,position=void 0===_ref$position?[0,0]:_ref$position,_ref$data=_ref.data,data=void 0===_ref$data?[]:_ref$data,_ref$size=_ref.size,size=void 0===_ref$size?constants.rv:_ref$size,_ref$padding=_ref.padding,padding=void 0===_ref$padding?constants.xe:_ref$padding,_ref$rx=_ref.rx,rx=void 0===_ref$rx?defaults.WW.rx:_ref$rx,_ref$ry=_ref.ry,ry=void 0===_ref$ry?defaults.WW.ry:_ref$ry,_ref$itemSize=_ref.itemSize,itemSize=void 0===_ref$itemSize?defaults.WW.itemSize:_ref$itemSize,_ref$itemPadding=_ref.itemPadding,itemPadding=void 0===_ref$itemPadding?defaults.WW.itemPadding:_ref$itemPadding,itemStyle=_ref.itemStyle,_ref$horizontal=_ref.horizontal,horizontal=void 0===_ref$horizontal?defaults.WW.horizontal:_ref$horizontal,_ref$firstOffset=_ref.firstOffset,firstOffset=void 0===_ref$firstOffset?defaults.WW.firstOffset:_ref$firstOffset,title=_ref.title,titleStyle=_ref.titleStyle,_ref$r=_ref.r,r=void 0===_ref$r?defaults.WW.r:_ref$r,symbol=_ref.symbol,symbolStyle=_ref.symbolStyle,labelStyle=_ref.labelStyle,_ref$labelDistance=_ref.labelDistance,labelDistance=void 0===_ref$labelDistance?defaults.WW.labelDistance:_ref$labelDistance,_ref$labelFormat=_ref.labelFormat,labelFormat=void 0===_ref$labelFormat?tooltips_utils.sb:_ref$labelFormat,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,children=_ref.children,tooltip=(0,tooltips_contexts.lL)().data,titlePosition=[padding[constants.RL],padding[constants.GS]],contentPosition=(0,legends_utils.oi)(titlePosition,itemSize,firstOffset,title,horizontal),content=children||(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(TooltipTitle.C,{variant,position:titlePosition,size:itemSize,padding:itemPadding,offset:[0,r],style:titleStyle,children:title},"tooltip-title"),labelFormat?(0,jsx_runtime.jsx)(TooltipItemList,{variant,horizontal,position:contentPosition,ids:data.map((function(item){return item.id})),keys:data.map((function(item){var _item$key;return null!=(_item$key=item.key)?_item$key:item.id})),labels:data.map((function(item){return labelFormat(item)})),colors:data.map((function(item){return item.color})),itemSize,itemPadding,itemStyle,r:Array(data.length).fill(r),symbol,symbolStyle,labelStyle,labelDistance,setRole},"tooltip-list"):null]}),compositeClassName=(0,utils.gj)("tooltip",className),config={x:position[0],y:position[1],originX:"0px",originY:"0px"};return(0,jsx_runtime.jsx)(OpacityMotion,{role:"tooltip-presence",visible:void 0!==tooltip.x&&void 0!==tooltip.y,firstRender:!1,children:(0,jsx_runtime.jsx)(motion_minimal.m.g,{role:setRole?"tooltip":void 0,initial:config,animate:config,style:(0,utils.dJ)(void 0,config),className:compositeClassName,children:(0,jsx_runtime.jsxs)(contexts.iv,{size,padding:[0,0,0,0],role:setRole?"tooltip-content":void 0,children:[(0,jsx_runtime.jsx)("rect",{role:setRole?"tooltip-surface":void 0,x:0,y:0,width:size[constants.X],height:size[constants.Y],rx,ry,className:(0,utils.gj)("tooltip surface",className),style},"tooltip-surface"),content]})})})};BaseTooltip.displayName="BaseTooltip";try{BaseTooltip.displayName="BaseTooltip",BaseTooltip.__docgenInfo={description:"",displayName:"BaseTooltip",props:{symbol:{defaultValue:null,description:"symbol function",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},symbolStyle:{defaultValue:null,description:"style for symbol",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},offset:{defaultValue:null,description:"offset/translation applied after anchoring, absolute units",name:"offset",required:!1,type:{name:"NumericPositionSpec"}},r:{defaultValue:{value:"defaultTooltipProps.r"},description:"size of symbol",name:"r",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},padding:{defaultValue:{value:"[0, 0, 0, 0]"},description:"padding (absolute values) *",name:"padding",required:!1,type:{name:"FourSideSizeSpec"}},horizontal:{defaultValue:{value:"defaultTooltipProps.horizontal"},description:"arrange the items horizontally",name:"horizontal",required:!1,type:{name:"boolean"}},rx:{defaultValue:{value:"defaultTooltipProps.rx"},description:"horizontal corner radius",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:{value:"defaultTooltipProps.ry"},description:"vertical corner radius",name:"ry",required:!1,type:{name:"number"}},disabledStyle:{defaultValue:null,description:"style for disabled keys",name:"disabledStyle",required:!1,type:{name:"Partial<CSSProperties>"}},itemSize:{defaultValue:{value:"defaultTooltipProps.itemSize"},description:"size of a single item",name:"itemSize",required:!1,type:{name:"SizeSpec"}},itemPadding:{defaultValue:{value:"defaultTooltipProps.itemPadding"},description:"padding for a single item",name:"itemPadding",required:!1,type:{name:"FourSideSizeSpec"}},title:{defaultValue:null,description:"list title",name:"title",required:!1,type:{name:"ReactNode"}},titleStyle:{defaultValue:null,description:"style for list title",name:"titleStyle",required:!1,type:{name:"Partial<CSSProperties>"}},firstOffset:{defaultValue:{value:"defaultTooltipProps.firstOffset"},description:"offset/translate first non-title item relative to default position",name:"firstOffset",required:!1,type:{name:"NumericPositionSpec"}},labelStyle:{defaultValue:null,description:"style for text label",name:"labelStyle",required:!1,type:{name:"Partial<CSSProperties>"}},labelDistance:{defaultValue:{value:"defaultTooltipProps.labelDistance"},description:"distance from symbol to label",name:"labelDistance",required:!1,type:{name:"number"}},itemAlign:{defaultValue:null,description:"alignment within the item bounding box",name:"itemAlign",required:!1,type:{name:"AlignSpec"}},itemStyle:{defaultValue:null,description:"style for list items",name:"itemStyle",required:!1,type:{name:"Partial<CSSProperties>"}},variant:{defaultValue:{value:"right"},description:"tooltip type",name:"variant",required:!1,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'},{value:'"bottom"'},{value:'"top"'}]}},position:{defaultValue:{value:"[0, 0]"},description:"position",name:"position",required:!1,type:{name:"NumericPositionSpec"}},size:{defaultValue:{value:"[0, 0]"},description:"size",name:"size",required:!1,type:{name:"NumericPositionSpec"}},labelFormat:{defaultValue:{value:"<DataSpec extends WithId & Record<string, unknown>>(\n    x: DataSpec\n): string => {\n    if ('label' in x) return String(x.label)\n    const result = x as DataSpec & { label?: string }\n    if ('key' in x && 'data' in x) {\n        return String(result['key']) + ': ' + String(result['data'])\n    }\n    if ('id' in x && 'data' in x) {\n        return String(result['id']) + ': ' + String(result['data'])\n    }\n    if ('key' in x) {\n        return String(result['key'])\n    }\n    return result.id\n}"},description:"construction of label",name:"labelFormat",required:!1,type:{name:"((d: TooltipDataItem) => ReactNode) | null"}},data:{defaultValue:{value:"[]"},description:"data",name:"data",required:!1,type:{name:"TooltipDataItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/tooltips/BaseTooltip.tsx#BaseTooltip"]={docgenInfo:BaseTooltip.__docgenInfo,name:"BaseTooltip",path:"packages/core/src/tooltips/BaseTooltip.tsx#BaseTooltip"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/tooltips/Tooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>Tooltip});var _views__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/core/src/views/hooks.tsx"),_themes__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/core/src/themes/hooks.tsx"),_general__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/core/src/general/utils.ts"),_general__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/core/src/general/constants.ts"),_defaults__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/src/tooltips/defaults.ts"),_contexts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/tooltips/contexts.tsx"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/src/tooltips/utils.ts"),_BaseTooltip__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/core/src/tooltips/BaseTooltip.tsx"),_legends_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/core/src/legends/utils.ts"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var UnthemedTooltip=function UnthemedTooltip(_ref){var _tooltip$data,_title,_tooltip$x,_tooltip$y,_ref$offset=_ref.offset,offset=void 0===_ref$offset?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.offset:_ref$offset,size=_ref.size,_ref$anchor=_ref.anchor,anchor=void 0===_ref$anchor?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.anchor:_ref$anchor,_ref$padding=_ref.padding,padding=void 0===_ref$padding?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.padding:_ref$padding,_ref$rx=_ref.rx,rx=void 0===_ref$rx?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.rx:_ref$rx,_ref$ry=_ref.ry,ry=void 0===_ref$ry?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.ry:_ref$ry,_ref$maxOverhang=_ref.maxOverhang,maxOverhang=void 0===_ref$maxOverhang?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.maxOverhang:_ref$maxOverhang,_ref$itemSize=_ref.itemSize,itemSize=void 0===_ref$itemSize?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.itemSize:_ref$itemSize,_ref$itemPadding=_ref.itemPadding,itemPadding=void 0===_ref$itemPadding?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.itemPadding:_ref$itemPadding,itemStyle=_ref.itemStyle,_ref$horizontal=_ref.horizontal,horizontal=void 0===_ref$horizontal?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.horizontal:_ref$horizontal,_ref$firstOffset=_ref.firstOffset,firstOffset=void 0===_ref$firstOffset?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.firstOffset:_ref$firstOffset,title=_ref.title,titleStyle=_ref.titleStyle,titleFormat=_ref.titleFormat,_ref$r=_ref.r,r=void 0===_ref$r?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.r:_ref$r,symbol=_ref.symbol,symbolStyle=_ref.symbolStyle,labelStyle=_ref.labelStyle,_ref$labelDistance=_ref.labelDistance,labelDistance=void 0===_ref$labelDistance?_defaults__WEBPACK_IMPORTED_MODULE_2__.WW.labelDistance:_ref$labelDistance,_ref$labelFormat=_ref.labelFormat,labelFormat=void 0===_ref$labelFormat?_utils__WEBPACK_IMPORTED_MODULE_3__.sb:_ref$labelFormat,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,children=_ref.children,tooltip=(0,_contexts__WEBPACK_IMPORTED_MODULE_4__.lL)().data,data=null!=(_tooltip$data=tooltip.data)?_tooltip$data:[],n=null===labelFormat?0:data.length,hasTitle=""!==(title=null!=(_title=title)?_title:null===titleFormat?"":titleFormat?titleFormat(tooltip):tooltip.title)&&void 0!==title,tooltipSize=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return null!=size?size:(0,_legends_utils__WEBPACK_IMPORTED_MODULE_5__.CJ)(padding,itemSize,n,firstOffset,hasTitle,!1)}),[size,padding,itemSize,n,firstOffset,hasTitle]),_useContainer=(0,_views__WEBPACK_IMPORTED_MODULE_6__.u)({position:offset,positionUnits:"absolute",size:tooltipSize,sizeUnits:"absolute",anchor}),origin=_useContainer.origin,dimensions=_useContainer.dimensions,tooltipPosition=[null!=(_tooltip$x=tooltip.x)?_tooltip$x:0,null!=(_tooltip$y=tooltip.y)?_tooltip$y:0],naivePosition=(0,_general__WEBPACK_IMPORTED_MODULE_7__.QO)(origin,tooltipPosition),exits=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.h5)(naivePosition,tooltipSize,dimensions.size,maxOverhang),_flipPositionAnchor=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.ew)(offset,anchor,exits),flippedPosition=_flipPositionAnchor.flippedPosition,flippedAnchor=_flipPositionAnchor.flippedAnchor,originPosition=(0,_general__WEBPACK_IMPORTED_MODULE_7__.ji)(flippedPosition,tooltipSize,flippedAnchor),position=(0,_general__WEBPACK_IMPORTED_MODULE_7__.QO)(originPosition,tooltipPosition);return exits=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.h5)(position,tooltipSize,dimensions.size,maxOverhang),position[_general__WEBPACK_IMPORTED_MODULE_8__.X]=position[_general__WEBPACK_IMPORTED_MODULE_8__.X]-exits[_general__WEBPACK_IMPORTED_MODULE_8__.X],position[_general__WEBPACK_IMPORTED_MODULE_8__.Y]=position[_general__WEBPACK_IMPORTED_MODULE_8__.Y]-exits[_general__WEBPACK_IMPORTED_MODULE_8__.Y],(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_BaseTooltip__WEBPACK_IMPORTED_MODULE_9__.N,{variant:horizontal?"bottom":"right",position,size:tooltipSize,padding,data,title,rx,ry,horizontal,firstOffset,itemSize,itemPadding,itemStyle,titleStyle,labelFormat,r,symbol,symbolStyle,labelStyle,labelDistance,className,style,setRole,children})};UnthemedTooltip.displayName="UnthemedTooltip";var Tooltip=function Tooltip(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(UnthemedTooltip,_extends({},(0,_themes__WEBPACK_IMPORTED_MODULE_10__.m)(props,"Tooltip")))};Tooltip.displayName="Tooltip";try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{variant:{defaultValue:null,description:"tooltip type",name:"variant",required:!1,type:{name:"enum",value:[{value:'"list"'}]}},size:{defaultValue:null,description:"size",name:"size",required:!1,type:{name:"NumericPositionSpec"}},titleFormat:{defaultValue:null,description:"construction of title",name:"titleFormat",required:!1,type:{name:"((d: TooltipData) => ReactNode) | null"}},labelFormat:{defaultValue:{value:"<DataSpec extends WithId & Record<string, unknown>>(\n    x: DataSpec\n): string => {\n    if ('label' in x) return String(x.label)\n    const result = x as DataSpec & { label?: string }\n    if ('key' in x && 'data' in x) {\n        return String(result['key']) + ': ' + String(result['data'])\n    }\n    if ('id' in x && 'data' in x) {\n        return String(result['id']) + ': ' + String(result['data'])\n    }\n    if ('key' in x) {\n        return String(result['key'])\n    }\n    return result.id\n}"},description:"construction of label",name:"labelFormat",required:!1,type:{name:"((d: TooltipDataItem) => ReactNode) | null"}},maxOverhang:{defaultValue:{value:"defaultTooltipProps.maxOverhang"},description:"extent tooltip can exit its reference region",name:"maxOverhang",required:!1,type:{name:"FourSideSizeSpec"}},symbol:{defaultValue:null,description:"symbol function",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},symbolStyle:{defaultValue:null,description:"style for symbol",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},offset:{defaultValue:{value:"defaultTooltipProps.offset"},description:"offset/translation applied after anchoring, absolute units",name:"offset",required:!1,type:{name:"NumericPositionSpec"}},anchor:{defaultValue:{value:"defaultTooltipProps.anchor"},description:"container anchor point",name:"anchor",required:!1,type:{name:"AnchorSpec"}},r:{defaultValue:{value:"defaultTooltipProps.r"},description:"size of symbol",name:"r",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},padding:{defaultValue:{value:"defaultTooltipProps.padding"},description:"padding (absolute values) *",name:"padding",required:!1,type:{name:"FourSideSizeSpec"}},horizontal:{defaultValue:{value:"defaultTooltipProps.horizontal"},description:"arrange the items horizontally",name:"horizontal",required:!1,type:{name:"boolean"}},rx:{defaultValue:{value:"defaultTooltipProps.rx"},description:"horizontal corner radius",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:{value:"defaultTooltipProps.ry"},description:"vertical corner radius",name:"ry",required:!1,type:{name:"number"}},itemSize:{defaultValue:{value:"defaultTooltipProps.itemSize"},description:"size of a single item",name:"itemSize",required:!1,type:{name:"SizeSpec"}},itemPadding:{defaultValue:{value:"defaultTooltipProps.itemPadding"},description:"padding for a single item",name:"itemPadding",required:!1,type:{name:"FourSideSizeSpec"}},title:{defaultValue:null,description:"list title",name:"title",required:!1,type:{name:"ReactNode"}},titleStyle:{defaultValue:null,description:"style for list title",name:"titleStyle",required:!1,type:{name:"Partial<CSSProperties>"}},firstOffset:{defaultValue:{value:"defaultTooltipProps.firstOffset"},description:"offset/translate first non-title item relative to default position",name:"firstOffset",required:!1,type:{name:"NumericPositionSpec"}},labelStyle:{defaultValue:null,description:"style for text label",name:"labelStyle",required:!1,type:{name:"Partial<CSSProperties>"}},labelDistance:{defaultValue:{value:"defaultTooltipProps.labelDistance"},description:"distance from symbol to label",name:"labelDistance",required:!1,type:{name:"number"}},itemAlign:{defaultValue:null,description:"alignment within the item bounding box",name:"itemAlign",required:!1,type:{name:"AlignSpec"}},itemStyle:{defaultValue:null,description:"style for list items",name:"itemStyle",required:!1,type:{name:"Partial<CSSProperties>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/tooltips/Tooltip.tsx#Tooltip"]={docgenInfo:Tooltip.__docgenInfo,name:"Tooltip",path:"packages/core/src/tooltips/Tooltip.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/tooltips/TooltipItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>TooltipItem});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_general__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/src/general/constants.ts"),_general__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/core/src/general/dimensions.tsx"),_shapes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/shapes/Square.tsx"),_themes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/core/src/themes/utils.ts"),_themes__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/core/src/themes/hooks.tsx"),_scales__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/core/src/scales/context.tsx"),_defaults__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/src/tooltips/defaults.ts"),_legends_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/core/src/legends/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var UnthemedTooltipItem=function UnthemedTooltipItem(_ref){var _symbolPosition,_labelPosition,_ref$variant=_ref.variant,variant=void 0===_ref$variant?"right":_ref$variant,item=_ref.item,_ref$position=_ref.position,position=void 0===_ref$position?_general__WEBPACK_IMPORTED_MODULE_2__.rv:_ref$position,_ref$size=_ref.size,size=void 0===_ref$size?_defaults__WEBPACK_IMPORTED_MODULE_3__.WO.size:_ref$size,_ref$padding=_ref.padding,padding=void 0===_ref$padding?_defaults__WEBPACK_IMPORTED_MODULE_3__.WO.padding:_ref$padding,_ref$offset=_ref.offset,offset=void 0===_ref$offset?_defaults__WEBPACK_IMPORTED_MODULE_3__.WO.offset:_ref$offset,_ref$r=_ref.r,r=void 0===_ref$r?_defaults__WEBPACK_IMPORTED_MODULE_3__.WO.r:_ref$r,_ref$symbol=_ref.symbol,symbol=void 0===_ref$symbol?_shapes__WEBPACK_IMPORTED_MODULE_4__.b:_ref$symbol,symbolPosition=_ref.symbolPosition,symbolStyle=_ref.symbolStyle,label=_ref.label,labelStyle=_ref.labelStyle,labelPosition=_ref.labelPosition,_ref$labelDistance=_ref.labelDistance,labelDistance=void 0===_ref$labelDistance?_defaults__WEBPACK_IMPORTED_MODULE_3__.WO.labelDistance:_ref$labelDistance,color=_ref.color,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,colorScale=(0,_scales__WEBPACK_IMPORTED_MODULE_5__.kE)().scales.color;symbolPosition=null!=(_symbolPosition=symbolPosition)?_symbolPosition:(0,_legends_utils__WEBPACK_IMPORTED_MODULE_6__.PX)(variant,size,padding,r),labelPosition=null!=(_labelPosition=labelPosition)?_labelPosition:(0,_legends_utils__WEBPACK_IMPORTED_MODULE_6__.DI)(variant,symbolPosition,labelDistance+r);var itemStyle=(0,_legends_utils__WEBPACK_IMPORTED_MODULE_6__.Ae)(symbolStyle,color,colorScale,item),symbolClassName=(0,_themes__WEBPACK_IMPORTED_MODULE_7__.gj)("tooltipSymbol "+variant,className),textClassName=(0,_themes__WEBPACK_IMPORTED_MODULE_7__.gj)("tooltipItem "+variant,className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{role:setRole?"tooltip-item":void 0,transform:(0,_general__WEBPACK_IMPORTED_MODULE_8__.R6)(position[_general__WEBPACK_IMPORTED_MODULE_2__.X],position[_general__WEBPACK_IMPORTED_MODULE_2__.Y]),style,className:textClassName,children:[(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(symbol,{cx:symbolPosition[_general__WEBPACK_IMPORTED_MODULE_2__.X]+offset[_general__WEBPACK_IMPORTED_MODULE_2__.X],cy:symbolPosition[_general__WEBPACK_IMPORTED_MODULE_2__.Y]+offset[_general__WEBPACK_IMPORTED_MODULE_2__.Y],r,className:symbolClassName,style:itemStyle,setRole:!1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("text",{x:labelPosition[_general__WEBPACK_IMPORTED_MODULE_2__.X]+offset[_general__WEBPACK_IMPORTED_MODULE_2__.X],y:labelPosition[_general__WEBPACK_IMPORTED_MODULE_2__.Y]+offset[_general__WEBPACK_IMPORTED_MODULE_2__.Y],className:textClassName,style:labelStyle,children:null!=label?label:item})]},"tooltip-item-"+item)};UnthemedTooltipItem.displayName="UnthemedTooltipItem";var TooltipItem=function TooltipItem(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(UnthemedTooltipItem,_extends({},(0,_themes__WEBPACK_IMPORTED_MODULE_9__.m)(props,"TooltipItem")))};TooltipItem.displayName="TooltipItem";try{TooltipItem.displayName="TooltipItem",TooltipItem.__docgenInfo={description:"",displayName:"TooltipItem",props:{symbol:{defaultValue:{value:"({\n    variant = 'default',\n    cx = 0,\n    cy = 0,\n    r = 1,\n    className,\n    style,\n    setRole = true,\n    ...props\n}: SymbolProps) => {\n    const compositeClassName = getClassName(variant, className)\n    const scaledHalfSide = squareHalfSide * r\n    const config = {\n        x: cx - scaledHalfSide,\n        y: cy - scaledHalfSide,\n        width: 2 * scaledHalfSide,\n        height: 2 * scaledHalfSide,\n    }\n    return (\n        <m.rect\n            role={setRole && variant !== 'default' ? variant : undefined}\n            initial={config}\n            animate={config}\n            className={compositeClassName}\n            style={ssrCompatible(style, config)}\n            {...props}\n        />\n    )\n}"},description:"symbol function",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},symbolStyle:{defaultValue:null,description:"style for symbol",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},offset:{defaultValue:{value:"defaultTooltipItemProps.offset"},description:"offset/translation applied after anchoring, absolute units",name:"offset",required:!1,type:{name:"NumericPositionSpec"}},r:{defaultValue:{value:"defaultTooltipItemProps.r"},description:"size of symbol",name:"r",required:!1,type:{name:"number"}},variant:{defaultValue:{value:"right"},description:"variant",name:"variant",required:!1,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'},{value:'"bottom"'},{value:'"top"'}]}},position:{defaultValue:{value:"[0, 0]"},description:"position",name:"position",required:!1,type:{name:"NumericPositionSpec"}},children:{defaultValue:null,description:"children components",name:"children",required:!1,type:{name:"ReactNode"}},size:{defaultValue:{value:"defaultTooltipItemProps.size"},description:"container size as an array [width, height]",name:"size",required:!1,type:{name:"SizeSpec"}},padding:{defaultValue:{value:"defaultTooltipItemProps.padding"},description:"padding (absolute values) *",name:"padding",required:!1,type:{name:"FourSideSizeSpec"}},label:{defaultValue:null,description:"text label",name:"label",required:!0,type:{name:"ReactNode"}},labelStyle:{defaultValue:null,description:"style for text label",name:"labelStyle",required:!1,type:{name:"Partial<CSSProperties>"}},labelDistance:{defaultValue:{value:"defaultTooltipItemProps.labelDistance"},description:"distance from symbol to label",name:"labelDistance",required:!1,type:{name:"number"}},color:{defaultValue:null,description:"color",name:"color",required:!1,type:{name:"string | number"}},item:{defaultValue:null,description:"key",name:"item",required:!0,type:{name:"string"}},symbolPosition:{defaultValue:null,description:"symbol position (overrides auto-calculation based on item index and legend variant)",name:"symbolPosition",required:!1,type:{name:"NumericPositionSpec"}},labelPosition:{defaultValue:null,description:"label position (overrides auto-calculation based on item index and legend variant)",name:"labelPosition",required:!1,type:{name:"NumericPositionSpec"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/tooltips/TooltipItem.tsx#TooltipItem"]={docgenInfo:TooltipItem.__docgenInfo,name:"TooltipItem",path:"packages/core/src/tooltips/TooltipItem.tsx#TooltipItem"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/tooltips/TooltipTitle.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>TooltipTitle});var _themes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/themes/utils.ts"),_themes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/core/src/themes/hooks.tsx"),_defaults__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/src/tooltips/defaults.ts"),_legends_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/src/legends/utils.ts"),_general__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/src/general/constants.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var UnthemedTooltipTitle=function UnthemedTooltipTitle(_ref){var _ref$variant=_ref.variant,variant=void 0===_ref$variant?"right":_ref$variant,_ref$position=_ref.position,position=void 0===_ref$position?_general__WEBPACK_IMPORTED_MODULE_1__.rv:_ref$position,_ref$size=_ref.size,size=void 0===_ref$size?_defaults__WEBPACK_IMPORTED_MODULE_2__.WO.size:_ref$size,_ref$padding=_ref.padding,padding=void 0===_ref$padding?_defaults__WEBPACK_IMPORTED_MODULE_2__.WO.padding:_ref$padding,_ref$offset=_ref.offset,offset=void 0===_ref$offset?_defaults__WEBPACK_IMPORTED_MODULE_2__.WO.offset:_ref$offset,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,children=_ref.children;if(!children)return null;var _getTitlePosition=(0,_legends_utils__WEBPACK_IMPORTED_MODULE_3__.X0)(variant,position,size,padding),x=_getTitlePosition[0],y=_getTitlePosition[1],compositeClassName=(0,_themes__WEBPACK_IMPORTED_MODULE_4__.gj)("tooltip-title "+variant,className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("text",{role:setRole?"tooltip-title":void 0,x:x+offset[_general__WEBPACK_IMPORTED_MODULE_1__.X],y:y+offset[_general__WEBPACK_IMPORTED_MODULE_1__.Y],className:compositeClassName,style,children})};UnthemedTooltipTitle.displayName="UnthemedTooltipTitle";var TooltipTitle=function TooltipTitle(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UnthemedTooltipTitle,_extends({},(0,_themes__WEBPACK_IMPORTED_MODULE_5__.m)(props,"TooltipTitle")))};TooltipTitle.displayName="TooltipTitle";try{TooltipTitle.displayName="TooltipTitle",TooltipTitle.__docgenInfo={description:"",displayName:"TooltipTitle",props:{variant:{defaultValue:{value:"right"},description:"variant",name:"variant",required:!1,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'},{value:'"bottom"'},{value:'"top"'}]}},position:{defaultValue:{value:"[0, 0]"},description:"position",name:"position",required:!1,type:{name:"NumericPositionSpec"}},children:{defaultValue:null,description:"children components",name:"children",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},offset:{defaultValue:{value:"defaultTooltipItemProps.offset"},description:"offset/translation applied after anchoring, absolute units",name:"offset",required:!1,type:{name:"NumericPositionSpec"}},size:{defaultValue:{value:"defaultTooltipItemProps.size"},description:"container size as an array [width, height]",name:"size",required:!1,type:{name:"SizeSpec"}},padding:{defaultValue:{value:"defaultTooltipItemProps.padding"},description:"padding (absolute values) *",name:"padding",required:!1,type:{name:"FourSideSizeSpec"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/tooltips/TooltipTitle.tsx#TooltipTitle"]={docgenInfo:TooltipTitle.__docgenInfo,name:"TooltipTitle",path:"packages/core/src/tooltips/TooltipTitle.tsx#TooltipTitle"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/tooltips/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ew:()=>flipPositionAnchor,h5:()=>exitsParent,sb:()=>guessLabel});var _general__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/src/general/constants.ts"),guessLabel=function guessLabel(x){if("label"in x)return String(x.label);var result=x;return"key"in x&&"data"in x?String(result.key)+": "+String(result.data):"id"in x&&"data"in x?String(result.id)+": "+String(result.data):"key"in x?String(result.key):result.id},exitsParent=function exitsParent(position,size,containerSize,margin){var x=position[0],y=position[1],result=[0,0];return x<-margin[_general__WEBPACK_IMPORTED_MODULE_0__.RL]?result[_general__WEBPACK_IMPORTED_MODULE_0__.X]=x+margin[_general__WEBPACK_IMPORTED_MODULE_0__.RL]:x+size[_general__WEBPACK_IMPORTED_MODULE_0__.X]>containerSize[_general__WEBPACK_IMPORTED_MODULE_0__.X]+margin[_general__WEBPACK_IMPORTED_MODULE_0__.pX]&&(result[_general__WEBPACK_IMPORTED_MODULE_0__.X]=x+size[_general__WEBPACK_IMPORTED_MODULE_0__.X]-containerSize[_general__WEBPACK_IMPORTED_MODULE_0__.X]-margin[_general__WEBPACK_IMPORTED_MODULE_0__.pX]),y<-margin[_general__WEBPACK_IMPORTED_MODULE_0__.GS]?result[_general__WEBPACK_IMPORTED_MODULE_0__.Y]=y+margin[_general__WEBPACK_IMPORTED_MODULE_0__.GS]:y+size[_general__WEBPACK_IMPORTED_MODULE_0__.Y]>containerSize[_general__WEBPACK_IMPORTED_MODULE_0__.Y]+margin[_general__WEBPACK_IMPORTED_MODULE_0__.D]&&(result[_general__WEBPACK_IMPORTED_MODULE_0__.Y]=y+size[_general__WEBPACK_IMPORTED_MODULE_0__.Y]-containerSize[_general__WEBPACK_IMPORTED_MODULE_0__.Y]-margin[_general__WEBPACK_IMPORTED_MODULE_0__.D]),result},flipPositionAnchor=function flipPositionAnchor(position,anchor,overhang){var flippedPosition=[].concat(position),flippedAnchor=[].concat(anchor);for(var i in[_general__WEBPACK_IMPORTED_MODULE_0__.X,_general__WEBPACK_IMPORTED_MODULE_0__.Y])Math.abs(overhang[i])&&(flippedPosition[i]=-position[i],flippedAnchor[i]=1-anchor[i]);return{flippedPosition,flippedAnchor}}},"./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>AnimatePresence});var react=__webpack_require__("./node_modules/react/index.js"),frameloop=__webpack_require__("./node_modules/framer-motion/dist/es/frameloop/index.mjs"),use_isomorphic_effect=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs");function useIsMounted(){const isMounted=(0,react.useRef)(!1);return(0,use_isomorphic_effect.L)((()=>(isMounted.current=!0,()=>{isMounted.current=!1})),[]),isMounted}var PresenceContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/PresenceContext.mjs"),use_constant=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-constant.mjs");class PopChildMeasure extends react.Component{getSnapshotBeforeUpdate(prevProps){const element=this.props.childRef.current;if(element&&prevProps.isPresent&&!this.props.isPresent){const size=this.props.sizeRef.current;size.height=element.offsetHeight||0,size.width=element.offsetWidth||0,size.top=element.offsetTop,size.left=element.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children,isPresent}){const id=(0,react.useId)(),ref=(0,react.useRef)(null),size=(0,react.useRef)({width:0,height:0,top:0,left:0});return(0,react.useInsertionEffect)((()=>{const{width,height,top,left}=size.current;if(isPresent||!ref.current||!width||!height)return;ref.current.dataset.motionPopId=id;const style=document.createElement("style");return document.head.appendChild(style),style.sheet&&style.sheet.insertRule(`\n          [data-motion-pop-id="${id}"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `),()=>{document.head.removeChild(style)}}),[isPresent]),react.createElement(PopChildMeasure,{isPresent,childRef:ref,sizeRef:size},react.cloneElement(children,{ref}))}const PresenceChild=({children,initial,isPresent,onExitComplete,custom,presenceAffectsLayout,mode})=>{const presenceChildren=(0,use_constant.h)(newChildrenMap),id=(0,react.useId)(),context=(0,react.useMemo)((()=>({id,initial,isPresent,custom,onExitComplete:childId=>{presenceChildren.set(childId,!0);for(const isComplete of presenceChildren.values())if(!isComplete)return;onExitComplete&&onExitComplete()},register:childId=>(presenceChildren.set(childId,!1),()=>presenceChildren.delete(childId))})),presenceAffectsLayout?void 0:[isPresent]);return(0,react.useMemo)((()=>{presenceChildren.forEach(((_,key)=>presenceChildren.set(key,!1)))}),[isPresent]),react.useEffect((()=>{!isPresent&&!presenceChildren.size&&onExitComplete&&onExitComplete()}),[isPresent]),"popLayout"===mode&&(children=react.createElement(PopChild,{isPresent},children)),react.createElement(PresenceContext.O.Provider,{value:context},children)};function newChildrenMap(){return new Map}var LayoutGroupContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs");var errors=__webpack_require__("./node_modules/framer-motion/dist/es/utils/errors.mjs");const getChildKey=child=>child.key||"";const AnimatePresence=({children,custom,initial=!0,onExitComplete,exitBeforeEnter,presenceAffectsLayout=!0,mode="sync"})=>{(0,errors.k)(!exitBeforeEnter,"Replace exitBeforeEnter with mode='wait'");const forceRender=(0,react.useContext)(LayoutGroupContext.p).forceRender||function useForceUpdate(){const isMounted=useIsMounted(),[forcedRenderCount,setForcedRenderCount]=(0,react.useState)(0),forceRender=(0,react.useCallback)((()=>{isMounted.current&&setForcedRenderCount(forcedRenderCount+1)}),[forcedRenderCount]);return[(0,react.useCallback)((()=>frameloop.Wi.postRender(forceRender)),[forceRender]),forcedRenderCount]}()[0],isMounted=useIsMounted(),filteredChildren=function onlyElements(children){const filtered=[];return react.Children.forEach(children,(child=>{(0,react.isValidElement)(child)&&filtered.push(child)})),filtered}(children);let childrenToRender=filteredChildren;const exitingChildren=(0,react.useRef)(new Map).current,presentChildren=(0,react.useRef)(childrenToRender),allChildren=(0,react.useRef)(new Map).current,isInitialRender=(0,react.useRef)(!0);if((0,use_isomorphic_effect.L)((()=>{isInitialRender.current=!1,function updateChildLookup(children,allChildren){children.forEach((child=>{const key=getChildKey(child);allChildren.set(key,child)}))}(filteredChildren,allChildren),presentChildren.current=childrenToRender})),function useUnmountEffect(callback){return(0,react.useEffect)((()=>()=>callback()),[])}((()=>{isInitialRender.current=!0,allChildren.clear(),exitingChildren.clear()})),isInitialRender.current)return react.createElement(react.Fragment,null,childrenToRender.map((child=>react.createElement(PresenceChild,{key:getChildKey(child),isPresent:!0,initial:!!initial&&void 0,presenceAffectsLayout,mode},child))));childrenToRender=[...childrenToRender];const presentKeys=presentChildren.current.map(getChildKey),targetKeys=filteredChildren.map(getChildKey),numPresent=presentKeys.length;for(let i=0;i<numPresent;i++){const key=presentKeys[i];-1!==targetKeys.indexOf(key)||exitingChildren.has(key)||exitingChildren.set(key,void 0)}return"wait"===mode&&exitingChildren.size&&(childrenToRender=[]),exitingChildren.forEach(((component,key)=>{if(-1!==targetKeys.indexOf(key))return;const child=allChildren.get(key);if(!child)return;const insertionIndex=presentKeys.indexOf(key);let exitingComponent=component;if(!exitingComponent){const onExit=()=>{allChildren.delete(key),exitingChildren.delete(key);const removeIndex=presentChildren.current.findIndex((presentChild=>presentChild.key===key));if(presentChildren.current.splice(removeIndex,1),!exitingChildren.size){if(presentChildren.current=filteredChildren,!1===isMounted.current)return;forceRender(),onExitComplete&&onExitComplete()}};exitingComponent=react.createElement(PresenceChild,{key:getChildKey(child),isPresent:!1,onExitComplete:onExit,custom,presenceAffectsLayout,mode},child),exitingChildren.set(key,exitingComponent)}childrenToRender.splice(insertionIndex,0,exitingComponent)})),childrenToRender=childrenToRender.map((child=>{const key=child.key;return exitingChildren.has(key)?child:react.createElement(PresenceChild,{key:getChildKey(child),isPresent:!0,presenceAffectsLayout,mode},child)})),react.createElement(react.Fragment,null,exitingChildren.size?childrenToRender:childrenToRender.map((child=>(0,react.cloneElement)(child))))}}}]);