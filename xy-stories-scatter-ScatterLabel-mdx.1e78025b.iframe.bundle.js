(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[7443,283],{"./packages/xy/stories/scatter/ScatterLabel.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MDXContent});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_home_runner_work_chsk_chsk_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),_ScatterLabel_stories__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/stories/scatter/ScatterLabel.stories.tsx");function _createMdxContent(props){const _components={code:"code",h1:"h1",h2:"h2",p:"p",...(0,_home_runner_work_chsk_chsk_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.a)(),...props.components};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"scatterlabel",children:"ScatterLabel"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.h_,{of:_ScatterLabel_stories__WEBPACK_IMPORTED_MODULE_4__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ScatterLabel"})," draws a label on a scatter plot."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Ed,{of:_ScatterLabel_stories__WEBPACK_IMPORTED_MODULE_4__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"position",children:"Position"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The position of the label is determined by prop ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"position"})," and an accompanying ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"positionUnit"}),".\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ScatterLabel"})," uses the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"position"})," to find a nearby data point, and then creates a label at that data point."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_ScatterLabel_stories__WEBPACK_IMPORTED_MODULE_4__.Position}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["(The example above places the label so that its center overlaps with the data point.\nIn practice, the label can be adjusted away from the data point with props such as ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"anchor"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"offset"}),".)"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"variant",children:"Variant"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Prop ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"variant"})," modulates how the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"position"})," is used to find a relevant data point.\nThe default variant 'xy' uses euclidean distance in two dimensions to find the nearest data point.\nVariants 'x' and 'y' only consider the x- and y-coordinate, respectively."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"The examples below show how the alternate variants can be used to align along the chart domain, or to find extrema."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_ScatterLabel_stories__WEBPACK_IMPORTED_MODULE_4__.X}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_ScatterLabel_stories__WEBPACK_IMPORTED_MODULE_4__.Y}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"rotation",children:"Rotation"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The label can be rotated with prop ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"angle"}),".\nAlternatively, a prop ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"autoRotate"})," can find a relevant rotation angle.\nThis calculation relies on nearby points and is suited for line charts."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_ScatterLabel_stories__WEBPACK_IMPORTED_MODULE_4__.ManualAngle}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Xz,{of:_ScatterLabel_stories__WEBPACK_IMPORTED_MODULE_4__.AutoRotation})]})}function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,_home_runner_work_chsk_chsk_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.a)(),...props.components};return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}},"./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>MDXProvider,a:()=>useMDXComponents});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const emptyComponents={},MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(emptyComponents);function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((function(){return"function"==typeof components?components(contextComponents):{...contextComponents,...components}}),[contextComponents,components])}function MDXProvider(properties){let allComponents;return allComponents=properties.disableParentContext?"function"==typeof properties.components?properties.components(emptyComponents):properties.components||emptyComponents:useMDXComponents(properties.components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},properties.children)}},"./node_modules/@storybook/blocks/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/blocks/dist sync recursive",module.exports=webpackEmptyContext},"./node_modules/@storybook/core/dist/components sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/core/dist/components sync recursive",module.exports=webpackEmptyContext},"./node_modules/@storybook/core/dist/theming sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/core/dist/theming sync recursive",module.exports=webpackEmptyContext},"./packages/xy/stories/scatter/ScatterLabel.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AutoRotation:()=>AutoRotation,ManualAngle:()=>ManualAngle,Position:()=>Position,X:()=>X,Y:()=>Y,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ScatterLabel_stories});var chsk_core_es=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react=__webpack_require__("./node_modules/react/index.js"),helpers=__webpack_require__("./packages/xy/src/scatter/helpers.ts"),context=__webpack_require__("./packages/xy/src/scatter/context.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["variant","id","position","positionUnits","angle","autoRotate","component","componentProps","className","setRole","children"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var ScatterLabel=function ScatterLabel(_ref){var _id,_data$x,_ref$variant=_ref.variant,variant=void 0===_ref$variant?"xy":_ref$variant,id=_ref.id,_ref$position=_ref.position,position=void 0===_ref$position?[0,0]:_ref$position,_ref$positionUnits=_ref.positionUnits,positionUnits=void 0===_ref$positionUnits?"relative":_ref$positionUnits,_ref$angle=_ref.angle,angle=void 0===_ref$angle?0:_ref$angle,_ref$autoRotate=_ref.autoRotate,autoRotate=void 0!==_ref$autoRotate&&_ref$autoRotate,_ref$component=_ref.component,component=void 0===_ref$component?chsk_core_es.__J:_ref$component,componentProps=_ref.componentProps,className=_ref.className,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,children=_ref.children,props=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),preparedData=(0,context.DP)(),scales=(0,chsk_core_es.kE1)().scales,size=(0,chsk_core_es.Bs9)().size,_useDisabledKeys=(0,chsk_core_es.gKR)(),disabledKeys=_useDisabledKeys.disabledKeys,firstRender=_useDisabledKeys.firstRender;id=null!=(_id=id)?_id:String(preparedData.keys[0]);var visible=!disabledKeys.has(id),seriesIndex=Number(preparedData.seriesIndexes[id]),data=preparedData.data[seriesIndex];if(void 0===seriesIndex||void 0===data||0===(null==data||null==(_data$x=data.x)?void 0:_data$x.length))return null;var pointIndex=function getClosestPoint(target,data,distance){if(1===data.x.length)return 0;var result=0,best=distance(target,[data.x[result],data.y[result]]);return data.x.forEach((function(v,i){var value=distance(target,[v,Number(data.y[i])]);value<best&&(best=value,result=i)})),result}((0,chsk_core_es.eE7)(position,positionUnits,size,scales),data,"xy"===variant?chsk_core_es.bIQ:"x"===variant?helpers.uD:helpers.I_),point=[null==data?void 0:data.x[pointIndex],null==data?void 0:data.y[pointIndex]];if(autoRotate){var secondPointIndex=(0,chsk_core_es.oqW)(pointIndex-1,0,data.x.length),secondPoint=[data.x[secondPointIndex],data.y[secondPointIndex]],slope=(secondPoint[1]-point[1])/(secondPoint[0]-point[0]);angle=(0,chsk_core_es.BVy)(Math.atan(slope))*(secondPoint[0]>point[0]?-1:1),angle=Number.isNaN(angle)?0:angle,point=[(point[0]+secondPoint[0])/2,(point[1]+secondPoint[1])/2]}var commonProps=_extends({setRole:!1},componentProps,{angle,className:(0,chsk_core_es.gjB)("scatter-label",className)},props),result=(0,react.createElement)(component,_extends({},commonProps,{position:point}),children);return(0,jsx_runtime.jsx)(chsk_core_es.JjT,{role:setRole?"scatter-label":void 0,visible,firstRender,children:result})};try{ScatterLabel.displayName="ScatterLabel",ScatterLabel.__docgenInfo={description:"",displayName:"ScatterLabel",props:{variant:{defaultValue:{value:"xy"},description:"variant",name:"variant",required:!1,type:{name:"enum",value:[{value:'"xy"'},{value:'"x"'},{value:'"y"'}]}},id:{defaultValue:null,description:"series id (defaults to first id)",name:"id",required:!1,type:{name:"string"}},autoRotate:{defaultValue:{value:"false"},description:"set rotation automatically",name:"autoRotate",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"[0, 0]"},description:"position (absolute coordinates)\nposition",name:"position",required:!1,type:{name:"NumericPositionSpec"}},angle:{defaultValue:{value:"0"},description:"rotation (degrees)",name:"angle",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"content",name:"children",required:!1,type:{name:"ReactNode"}},transition:{defaultValue:null,description:"transition for animation",name:"transition",required:!1,type:{name:"TransitionSpec"}},initial:{defaultValue:null,description:"(adjustment to) initial state",name:"initial",required:!1,type:{name:"MakeCustomValueType<TargetProperties> | TargetTransformer"}},animate:{defaultValue:null,description:"(adjustment to) target state",name:"animate",required:!1,type:{name:"MakeCustomValueType<TargetProperties> | TargetTransformer"}},exit:{defaultValue:null,description:"(adjustment to) exit state",name:"exit",required:!1,type:{name:"MakeCustomValueType<TargetProperties> | TargetTransformer"}},size:{defaultValue:null,description:"size of bounding container",name:"size",required:!1,type:{name:"SizeSpec"}},padding:{defaultValue:null,description:"space between container and label",name:"padding",required:!1,type:{name:"FourSideSizeSpec"}},anchor:{defaultValue:null,description:"position of anchor point relative to box size",name:"anchor",required:!1,type:{name:"AlignSpec"}},align:{defaultValue:null,description:"alignment of content within the bounding container",name:"align",required:!1,type:{name:"AlignSpec"}},offset:{defaultValue:null,description:"position offset added after anchoring and alignment",name:"offset",required:!1,type:{name:"NumericPositionSpec"}},positionUnits:{defaultValue:{value:"relative"},description:"absolute or relative units for position",name:"positionUnits",required:!1,type:{name:"PositionUnits"}},component:{defaultValue:null,description:"function used to draw individual components",name:"component",required:!1,type:{name:"FC<LabelProps>"}},componentProps:{defaultValue:null,description:"props passed to each component",name:"componentProps",required:!1,type:{name:"Partial<LabelProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/ScatterLabel.tsx#ScatterLabel"]={docgenInfo:ScatterLabel.__docgenInfo,name:"ScatterLabel",path:"packages/xy/src/scatter/ScatterLabel.tsx#ScatterLabel"})}catch(__react_docgen_typescript_loader_error){}var Scatter=__webpack_require__("./packages/xy/src/scatter/Scatter.tsx"),ScatterPoints=__webpack_require__("./packages/xy/src/scatter/ScatterPoints.tsx"),decorators=__webpack_require__("./packages/xy/stories/scatter/decorators.tsx");const dataWithNoise=[(0,__webpack_require__("./packages/xy/stories/scatter/generators.tsx").Z)("A",Array(10).fill(0).map((()=>1+10*Math.random())),(x=>.3*x+3*Math.random()))],ScatterLabel_stories={title:"Addons/XY/Scatter/ScatterLabel",component:ScatterLabel},VariantDecorator=Story=>(0,jsx_runtime.jsx)(chsk_core_es.kL2,{size:[400,300],padding:[40,40,60,60],style:{display:"inline-block"},children:(0,jsx_runtime.jsxs)(Scatter.b,{data:dataWithNoise,x:"x",y:"y",valueSize:4,scaleX:{variant:"linear",domain:[0,"auto"]},scaleY:{variant:"linear",domain:[0,"auto"],nice:!0},children:[(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"y (a.u.)"}),(0,jsx_runtime.jsx)(ScatterPoints.c,{ids:["A"],symbolStyle:{fill:"#ffffff",stroke:"#333333",strokeWidth:1}}),Story()]})}),Position={name:"xy",args:{id:"A",position:[5,2],positionUnits:"view",offset:[0,0],anchor:[.5,.5],style:{textAnchor:"middle",fontWeight:600},children:"Label"},decorators:[VariantDecorator]},X={name:"x",args:{variant:"x",id:"A",position:[.5,.5],positionUnits:"relative",offset:[0,-12],style:{textAnchor:"middle",fontWeight:600},children:"Label"},decorators:[VariantDecorator]},Y={name:"y",args:{variant:"y",id:"A",position:[0,0],positionUnits:"relative",offset:[0,-12],style:{textAnchor:"middle",fontWeight:600},children:"Label"},decorators:[VariantDecorator]},ManualAngle={name:"manual angle",args:{variant:"x",id:"quadratic",position:[6,0],positionUnits:"view",offset:[0,-10],angle:-20,style:{textAnchor:"end",fontWeight:600},children:"manual"},decorators:[decorators.xB]},AutoRotation={name:"auto rotation",args:{variant:"x",id:"quadratic",position:[6,0],positionUnits:"view",offset:[0,-10],autoRotate:!0,style:{textAnchor:"start",fontWeight:600},children:"auto"},decorators:[decorators.xB]},__namedExportsOrder=["Position","X","Y","ManualAngle","AutoRotation"];Position.parameters={...Position.parameters,docs:{...Position.parameters?.docs,source:{originalSource:"{\n  name: 'xy',\n  args: {\n    id: 'A',\n    position: [5, 2],\n    positionUnits: 'view',\n    offset: [0, 0],\n    anchor: [0.5, 0.5],\n    style: {\n      textAnchor: 'middle',\n      fontWeight: 600\n    },\n    children: 'Label'\n  },\n  decorators: [VariantDecorator]\n}",...Position.parameters?.docs?.source}}},X.parameters={...X.parameters,docs:{...X.parameters?.docs,source:{originalSource:"{\n  name: 'x',\n  args: {\n    variant: 'x',\n    id: 'A',\n    position: [0.5, 0.5],\n    positionUnits: 'relative',\n    offset: [0, -12],\n    style: {\n      textAnchor: 'middle',\n      fontWeight: 600\n    },\n    children: 'Label'\n  },\n  decorators: [VariantDecorator]\n}",...X.parameters?.docs?.source}}},Y.parameters={...Y.parameters,docs:{...Y.parameters?.docs,source:{originalSource:"{\n  name: 'y',\n  args: {\n    variant: 'y',\n    id: 'A',\n    position: [0, 0],\n    positionUnits: 'relative',\n    offset: [0, -12],\n    style: {\n      textAnchor: 'middle',\n      fontWeight: 600\n    },\n    children: 'Label'\n  },\n  decorators: [VariantDecorator]\n}",...Y.parameters?.docs?.source}}},ManualAngle.parameters={...ManualAngle.parameters,docs:{...ManualAngle.parameters?.docs,source:{originalSource:"{\n  name: 'manual angle',\n  args: {\n    variant: 'x',\n    id: 'quadratic',\n    position: [6, 0],\n    positionUnits: 'view',\n    offset: [0, -10],\n    angle: -20,\n    style: {\n      textAnchor: 'end',\n      fontWeight: 600\n    },\n    children: 'manual'\n  },\n  decorators: [ChartScatterQuadraticDecorator]\n}",...ManualAngle.parameters?.docs?.source}}},AutoRotation.parameters={...AutoRotation.parameters,docs:{...AutoRotation.parameters?.docs,source:{originalSource:"{\n  name: 'auto rotation',\n  args: {\n    variant: 'x',\n    id: 'quadratic',\n    position: [6, 0],\n    positionUnits: 'view',\n    offset: [0, -10],\n    autoRotate: true,\n    style: {\n      textAnchor: 'start',\n      fontWeight: 600\n    },\n    children: 'auto'\n  },\n  decorators: [ChartScatterQuadraticDecorator]\n}",...AutoRotation.parameters?.docs?.source}}}}}]);