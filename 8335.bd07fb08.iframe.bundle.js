"use strict";(self.webpackChunkchsk=self.webpackChunkchsk||[]).push([[8335],{"./packages/xy/stories/scatter/ScatterSelectedLabels.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Bubbles:()=>Bubbles,Clearance:()=>Clearance,Connector:()=>Connector,Custom:()=>Custom,Grid:()=>Grid,Offset:()=>Offset,SymbolConnector:()=>SymbolConnector,TwoA:()=>TwoA,TwoB:()=>TwoB,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ScatterSelectedLabels_stories});var chsk_core_es=__webpack_require__("./packages/core/dist/chsk-core.es.js"),context=__webpack_require__("./packages/xy/src/scatter/context.tsx"),react=__webpack_require__("./node_modules/react/index.js"),zeroDisplacement=[0,0],blockObject=function blockObject(center,size,r){var result=[center[chsk_core_es.X],center[chsk_core_es.Y],-1,-1,0];return size?(result[2]=size[chsk_core_es.X],result[3]=size[chsk_core_es.Y],result[4]=void 0===r?(0,chsk_core_es.KOy)(size)/2:r,result):(result[4]=Number(r),result)},computeDisplacement=function computeDisplacement(item,obj,clearance,charge){var theta=(0,chsk_core_es.Jpm)(item.slice(0,2),obj.slice(0,2)),dx=Math.abs(item[chsk_core_es.X]-obj[chsk_core_es.X]),dy=Math.abs(item[chsk_core_es.Y]-obj[chsk_core_es.Y]),deltas=[0,0];if(item[2]>=0&&obj[2]>=0)deltas[chsk_core_es.X]=item[2]/2+obj[2]/2+Math.abs(clearance*Math.cos(theta))-dx,deltas[chsk_core_es.Y]=item[3]/2+obj[3]/2+Math.abs(clearance*Math.sin(theta))-dy;else if(item[2]>=0)deltas[chsk_core_es.X]=item[2]/2+obj[4]+Math.abs(clearance*Math.cos(theta))-dx,deltas[chsk_core_es.Y]=item[3]/2+obj[4]+Math.abs(clearance*Math.sin(theta))-dy;else{var d=Math.sqrt((0,chsk_core_es.bIQ)(item.slice(0,2),obj.slice(0,2)));deltas[chsk_core_es.X]=item[4]+obj[4]+clearance-d,deltas[chsk_core_es.Y]=deltas[chsk_core_es.X]}var multipliers=[0,0];if(charge>0){if(deltas[chsk_core_es.X]<=0||deltas[chsk_core_es.Y]<=0)return zeroDisplacement;multipliers[chsk_core_es.X]=-(0,chsk_core_es.UYe)(deltas[chsk_core_es.X]),multipliers[chsk_core_es.Y]=-(0,chsk_core_es.UYe)(deltas[chsk_core_es.Y])}else multipliers[chsk_core_es.X]=-(0,chsk_core_es.UYe)(charge*deltas[chsk_core_es.X]),multipliers[chsk_core_es.Y]=-(0,chsk_core_es.UYe)(charge*deltas[chsk_core_es.Y]);return[charge*multipliers[chsk_core_es.X]*Math.cos(theta),charge*multipliers[chsk_core_es.Y]*Math.sin(theta)]},arrangeBlockObjects=function arrangeBlockObjects(_ref){for(var items=_ref.items,_ref$obstacles=_ref.obstacles,obstacles=void 0===_ref$obstacles?[]:_ref$obstacles,_ref$clearance=_ref.clearance,clearance=void 0===_ref$clearance?0:_ref$clearance,_ref$lr=_ref.lr,lr=void 0===_ref$lr?1:_ref$lr,_ref$maxIterations=_ref.maxIterations,maxIterations=void 0===_ref$maxIterations?6:_ref$maxIterations,_ref$minDelta=_ref.minDelta,minDelta=void 0===_ref$minDelta?.05:_ref$minDelta,_ref$maxDelta=_ref.maxDelta,maxDelta=void 0===_ref$maxDelta?20:_ref$maxDelta,result=(0,chsk_core_es.BRZ)(items),attractors=items.map((function(item){var result=[].concat(item);return result[2]=-1,result[3]=-1,result})),indexes=Array.from(Array(items.length).keys()),n=0,alpha=1/Math.max(1,maxIterations),_loop=function _loop(){var repulsion=indexes.map((function(index){return function totalRepulsion(index,items,obstacles,clearance){var target=items[index],result=[0,0],updateResult=function updateResult(displacement,weight){result[0]+=displacement[0]*weight,result[1]+=displacement[1]*weight};return obstacles.forEach((function(item){var displacement=computeDisplacement(target,item,clearance,1);updateResult(displacement,1)})),items.forEach((function(item,i){if(i!==index||item[chsk_core_es.X]!==target[chsk_core_es.X]||item[chsk_core_es.Y]!==target[chsk_core_es.Y]){var displacement=computeDisplacement(target,item,clearance,1);updateResult(displacement,.5)}})),result}(index,result,obstacles,clearance)})),attraction=indexes.map((function(index){return function totalAttraction(index,items,attractors,clearance){var target=items[index],attractor=attractors[index];return computeDisplacement(target,attractor,clearance,-1)}(index,result,attractors,clearance)})),maxDisplacement=0;indexes.forEach((function(index){var displacement=(0,chsk_core_es.QO2)(repulsion[index],attraction[index]);displacement[chsk_core_es.X]=(0,chsk_core_es.DJC)(displacement[chsk_core_es.X],4),displacement[chsk_core_es.Y]=(0,chsk_core_es.DJC)(displacement[chsk_core_es.Y],4),function updateXY(position,displacement,lr,minDelta,maxDelta){Math.abs(displacement[chsk_core_es.X])>minDelta&&(position[chsk_core_es.X]+=(0,chsk_core_es.oqW)(lr*displacement[chsk_core_es.X],-maxDelta,maxDelta)),Math.abs(displacement[chsk_core_es.Y])>minDelta&&(position[chsk_core_es.Y]+=(0,chsk_core_es.oqW)(lr*displacement[chsk_core_es.Y],-maxDelta,maxDelta))}(result[index],displacement,lr,minDelta,maxDelta),maxDisplacement=Math.max(maxDisplacement,Math.max(Math.abs(displacement[chsk_core_es.X]),Math.abs(displacement[chsk_core_es.Y])))})),n>2&&(lr-=alpha),lr*maxDisplacement<minDelta&&(lr=0),n+=1};lr>0&&n<maxIterations;)_loop();return result.map((function(item){return{position:item.slice(0,2),anchor:[.5,.5]}}))};try{arrangeBlockObjects.displayName="arrangeBlockObjects",arrangeBlockObjects.__docgenInfo={description:"compute label positions, taking into account immovable data points",displayName:"arrangeBlockObjects",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"BlockObject[]"}},obstacles:{defaultValue:{value:"[]"},description:"",name:"obstacles",required:!1,type:{name:"BlockObject[]"}},clearance:{defaultValue:{value:"0"},description:"",name:"clearance",required:!1,type:{name:"number"}},lr:{defaultValue:{value:"1"},description:"",name:"lr",required:!1,type:{name:"number"}},maxIterations:{defaultValue:{value:"6"},description:"",name:"maxIterations",required:!1,type:{name:"number"}},minDelta:{defaultValue:{value:"0.05"},description:"",name:"minDelta",required:!1,type:{name:"number"}},maxDelta:{defaultValue:{value:"20"},description:"",name:"maxDelta",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/charges.tsx#arrangeBlockObjects"]={docgenInfo:arrangeBlockObjects.__docgenInfo,name:"arrangeBlockObjects",path:"packages/xy/src/scatter/charges.tsx#arrangeBlockObjects"})}catch(__react_docgen_typescript_loader_error){}var overlays=__webpack_require__("./packages/xy/src/scatter/overlays.tsx"),helpers=__webpack_require__("./packages/xy/src/scatter/helpers.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var getPointPosition=function getPointPosition(id,index,preparedData){var seriesIndex=preparedData.seriesIndexes[id],seriesData=preparedData.data[seriesIndex];return{position:[seriesData.x[index],seriesData.y[index]],r:seriesData.r[index]}},ScatterSelectedLabels=function ScatterSelectedLabels(_ref){var data=_ref.data,_ref$component=_ref.component,component=void 0===_ref$component?chsk_core_es.__J:_ref$component,_ref$anchor=_ref.anchor,anchor=void 0===_ref$anchor?[.5,.5]:_ref$anchor,_ref$offset=_ref.offset,offset=void 0===_ref$offset?[0,-.1]:_ref$offset,symbol=_ref.symbol,symbolStyle=_ref.symbolStyle,symbolClassName=_ref.symbolClassName,connector=_ref.connector,connectorStyle=_ref.connectorStyle,connectorClassName=_ref.connectorClassName,_ref$clearance=_ref.clearance,clearance=void 0===_ref$clearance?8:_ref$clearance,_ref$maxIterations=_ref.maxIterations,maxIterations=void 0===_ref$maxIterations?10:_ref$maxIterations,_ref$maxDelta=_ref.maxDelta,maxDelta=void 0===_ref$maxDelta?20:_ref$maxDelta,_ref$minDelta=_ref.minDelta,minDelta=void 0===_ref$minDelta?.1:_ref$minDelta,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,processedData=(0,chsk_core_es.wIO)().data,preparedData=(0,context.DP)(),scales=(0,chsk_core_es.kE1)().scales,_useDisabledKeys=(0,chsk_core_es.gKR)(),disabledKeys=_useDisabledKeys.disabledKeys,firstRender=_useDisabledKeys.firstRender,symbolData=(0,helpers.pq)(processedData,preparedData),obstacles=(0,react.useMemo)((function(){var result=[];return preparedData.data.map((function(seriesData){disabledKeys.has(seriesData.id)||seriesData.x.map((function(v,i){var position=[v,seriesData.y[i]];result.push(blockObject(position,void 0,seriesData.r[i]))}))})),result}),[preparedData,disabledKeys]),seriesFilter=function seriesFilter(item){return!disabledKeys.has(item.id)&&void 0!==preparedData.seriesIndexes[item.id]},active=data.filter(seriesFilter),labels=(0,react.useMemo)((function(){return data.filter(seriesFilter).map((function(item){var _item$size,_item$anchor,_item$offset,_getPointPosition=getPointPosition(item.id,item.index,preparedData),position=_getPointPosition.position,r=_getPointPosition.r,center=(0,chsk_core_es.qgA)(position,null!=(_item$size=item.size)?_item$size:[0,0],null!=(_item$anchor=item.anchor)?_item$anchor:anchor,null!=(_item$offset=item.offset)?_item$offset:offset);return blockObject(center,item.size,r)}))}),[preparedData,disabledKeys]),packed=(0,react.useMemo)((function(){return arrangeBlockObjects({items:labels,obstacles,clearance,maxIterations,maxDelta,minDelta})}),[labels,obstacles]),result=active.map((function(item,i){var seriesIndex=preparedData.seriesIndexes[item.id],activeData=symbolData[seriesIndex][item.index],position=getPointPosition(item.id,item.index,preparedData).position,itemSymbol=symbol?(0,overlays.S)({activeData,coordinates:position,scales,seriesIndex,symbol,symbolStyle,symbolClassName,setRole:!1}):null,itemConnector=connector?(0,react.createElement)(connector,{key:"connector",variant:"scatter-label",style:connectorStyle,className:connectorClassName,x1:position[chsk_core_es.X],y1:position[chsk_core_es.Y],x2:packed[i].position[chsk_core_es.X],y2:packed[i].position[chsk_core_es.Y],setRole:!1}):null,itemLabel=(0,react.createElement)(component,_extends({key:"label",variant:"scatter-label",style,className},item,{position:packed[i].position,anchor:[.5,.5],setRole:!1}),active[i].content);return(0,jsx_runtime.jsxs)("g",{role:setRole?"scatter-selected-label":void 0,children:[itemConnector,itemSymbol,itemLabel]},"label-"+String(active[i].content))}));return(0,jsx_runtime.jsx)(chsk_core_es.JjT,{role:setRole?"scatter-selected-labels":void 0,firstRender,children:result})};ScatterSelectedLabels.displayName="ScatterSelectedLabels";try{ScatterSelectedLabels.displayName="ScatterSelectedLabels",ScatterSelectedLabels.__docgenInfo={description:"",displayName:"ScatterSelectedLabels",props:{data:{defaultValue:null,description:"collection of labels",name:"data",required:!0,type:{name:"ScatterSelectedLabelData[]"}},connector:{defaultValue:null,description:"connector line between data point and label",name:"connector",required:!1,type:{name:"FC<LineProps>"}},connectorStyle:{defaultValue:null,description:"style for connector line",name:"connectorStyle",required:!1,type:{name:"Partial<CSSProperties>"}},connectorClassName:{defaultValue:null,description:"style class for connector line",name:"connectorClassName",required:!1,type:{name:"string"}},clearance:{defaultValue:{value:"8"},description:"distance between data points and label",name:"clearance",required:!1,type:{name:"number"}},maxIterations:{defaultValue:{value:"10"},description:"maximum number of iterations in label placement calculations",name:"maxIterations",required:!1,type:{name:"number"}},maxDelta:{defaultValue:{value:"20"},description:"maximum displacement of a label at each iteration",name:"maxDelta",required:!1,type:{name:"number"}},minDelta:{defaultValue:{value:"0.1"},description:"minimum label displacement at each iteration",name:"minDelta",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},component:{defaultValue:null,description:"component used to draw the label",name:"component",required:!1,type:{name:"FC<LabelProps>"}},offset:{defaultValue:{value:"[0, -0.1]"},description:"position offset added after anchoring and alignment",name:"offset",required:!1,type:{name:"NumericPositionSpec"}},anchor:{defaultValue:{value:"[0.5, 0.5]"},description:"position of anchor point relative to box size",name:"anchor",required:!1,type:{name:"AlignSpec"}},symbol:{defaultValue:null,description:"symbol for individual data points",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},symbolStyle:{defaultValue:null,description:"style for data points",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},symbolClassName:{defaultValue:null,description:"style class for data points",name:"symbolClassName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/ScatterSelectedLabels.tsx#ScatterSelectedLabels"]={docgenInfo:ScatterSelectedLabels.__docgenInfo,name:"ScatterSelectedLabels",path:"packages/xy/src/scatter/ScatterSelectedLabels.tsx#ScatterSelectedLabels"})}catch(__react_docgen_typescript_loader_error){}var _TwoA$parameters,_TwoA$parameters2,_TwoA$parameters2$doc,_TwoB$parameters,_TwoB$parameters2,_TwoB$parameters2$doc,_Offset$parameters,_Offset$parameters2,_Offset$parameters2$d,_Clearance$parameters,_Clearance$parameters2,_Clearance$parameters3,_Bubbles$parameters,_Bubbles$parameters2,_Bubbles$parameters2$,_Grid$parameters,_Grid$parameters2,_Grid$parameters2$doc,_Connector$parameters,_Connector$parameters2,_Connector$parameters3,_SymbolConnector$para,_SymbolConnector$para2,_SymbolConnector$para3,_Custom$parameters,_Custom$parameters2,_Custom$parameters2$d,Scatter=__webpack_require__("./packages/xy/src/scatter/Scatter.tsx"),ScatterPoints=__webpack_require__("./packages/xy/src/scatter/ScatterPoints.tsx"),BoxedLabel=__webpack_require__("./packages/annotation/src/typography/BoxedLabel.tsx");function ScatterSelectedLabels_stories_extends(){return ScatterSelectedLabels_stories_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},ScatterSelectedLabels_stories_extends.apply(this,arguments)}var dataTwo=[{id:"A",data:[{x:5,y:5},{x:5.5,y:3.5}]}],dataBubbles=[{id:"A",data:[{x:3,y:7,r:4},{x:7,y:4,r:200}]}],dataGrid=[{id:"A",data:Array.from(Array(9).fill(0).keys()).map((function(i){return{x:4+Math.floor(i/3),y:4+i%3}}))}];const ScatterSelectedLabels_stories={title:"Addons/XY/Scatter/ScatterSelectedLabels",component:ScatterSelectedLabels};var TwoSelectedLabelsDecorator=function TwoSelectedLabelsDecorator(Story){return(0,jsx_runtime.jsx)(chsk_core_es.kL2,{size:[400,300],padding:[40,40,60,60],style:{display:"inline-block"},children:(0,jsx_runtime.jsxs)(Scatter.b,{data:dataTwo,x:"x",y:"y",scaleX:{variant:"linear",domain:[0,10]},scaleY:{variant:"linear",domain:[0,10]},children:[(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"y (a.u.)"}),(0,jsx_runtime.jsx)(ScatterPoints.c,{}),Story()]})})};TwoSelectedLabelsDecorator.displayName="TwoSelectedLabelsDecorator";var BubbleSelectedLabelsDecorator=function BubbleSelectedLabelsDecorator(Story){return(0,jsx_runtime.jsx)(chsk_core_es.kL2,{size:[400,300],padding:[40,40,60,60],style:{display:"inline-block"},children:(0,jsx_runtime.jsxs)(Scatter.b,{data:dataBubbles,x:"x",y:"y",valueSize:"r",scaleX:{variant:"linear",domain:[0,10]},scaleY:{variant:"linear",domain:[0,10]},scaleSize:{variant:"sqrt",domain:[0,"auto"],size:40},children:[(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"y (a.u.)"}),(0,jsx_runtime.jsx)(ScatterPoints.c,{}),Story()]})})};BubbleSelectedLabelsDecorator.displayName="BubbleSelectedLabelsDecorator";var GridSelectedLabelsDecorator=function GridSelectedLabelsDecorator(Story){return(0,jsx_runtime.jsx)(chsk_core_es.kL2,{size:[400,300],padding:[40,40,60,60],style:{display:"inline-block"},children:(0,jsx_runtime.jsxs)(Scatter.b,{data:dataGrid,x:"x",y:"y",valueSize:6,scaleX:{variant:"linear",domain:[0,10]},scaleY:{variant:"linear",domain:[0,10]},children:[(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"bottom",label:"x (a.u.)"}),(0,jsx_runtime.jsx)(chsk_core_es.RDh,{variant:"left",label:"y (a.u.)"}),(0,jsx_runtime.jsx)(ScatterPoints.c,{}),Story()]})})};GridSelectedLabelsDecorator.displayName="GridSelectedLabelsDecorator";var TwoA={name:"above point",args:{data:[{id:"A",index:0,size:[60,16],content:"label A"}]},decorators:[TwoSelectedLabelsDecorator]},TwoB={name:"beside point",args:{data:[{id:"A",index:1,size:[60,16],content:"label B"}]},decorators:[TwoSelectedLabelsDecorator]},Offset={name:"offset",args:{data:[{id:"A",index:0,size:[60,16],content:"label A"}],offset:[0,.1]},decorators:[TwoSelectedLabelsDecorator]},Clearance={name:"clearance",args:{data:[{id:"A",index:0,size:[60,16],content:"label A"},{id:"A",index:1,size:[60,16],content:"label B"}],clearance:2},decorators:[TwoSelectedLabelsDecorator]},Bubbles={name:"bubbles",args:{data:[{id:"A",index:0,size:[60,16],content:"label A"},{id:"A",index:1,size:[60,16],content:"label B"}],clearance:4},decorators:[BubbleSelectedLabelsDecorator]},Grid={name:"grid",args:{data:[{id:"A",index:4,size:[60,20],content:"center"}],style:{textAnchor:"start"},offset:[.2,-.2],anchor:[.5,1],symbol:chsk_core_es.Cdc,symbolStyle:{stroke:"#000000",strokeWidth:2},clearance:15},decorators:[GridSelectedLabelsDecorator]},Connector={name:"connector",args:{data:[{id:"A",index:0,size:[60,16],content:"label A"}],offset:[10,-4],clearance:30,connector:chsk_core_es.x12,connectorStyle:{stroke:"#000000",strokeWidth:1}},decorators:[TwoSelectedLabelsDecorator]},SymbolConnector={name:"symbol and connector",args:{data:[{id:"A",index:0,size:[60,16],content:"label A"}],offset:[10,-4],style:{textAnchor:"start"},clearance:30,symbol:chsk_core_es.Cdc,symbolStyle:{stroke:"#000000",strokeWidth:1},connector:chsk_core_es.x12,connectorStyle:{stroke:"#000000",strokeWidth:1}},decorators:[TwoSelectedLabelsDecorator]},WhiteBoxedLabel=function WhiteBoxedLabel(props){return(0,jsx_runtime.jsx)(BoxedLabel.I,ScatterSelectedLabels_stories_extends({},props,{rx:3,ry:3,boxStyle:{fill:"#ffffff",stroke:"#000000",strokeWidth:1}}))};WhiteBoxedLabel.displayName="WhiteBoxedLabel";var Custom={name:"custom components",args:{data:[{id:"A",index:0,size:[60,25],content:"label A"},{id:"A",index:1,size:[60,25],content:"label B"}],offset:[.2,0],anchor:[0,.5],clearance:20,component:WhiteBoxedLabel,symbol:chsk_core_es.Cdc,symbolStyle:{stroke:"#000000",strokeWidth:2},connector:chsk_core_es.x12,connectorStyle:{stroke:"#000000",strokeWidth:1}},decorators:[TwoSelectedLabelsDecorator]};TwoA.parameters=ScatterSelectedLabels_stories_extends({},TwoA.parameters,{docs:ScatterSelectedLabels_stories_extends({},null==(_TwoA$parameters=TwoA.parameters)?void 0:_TwoA$parameters.docs,{source:ScatterSelectedLabels_stories_extends({originalSource:"{\n  name: 'above point',\n  args: {\n    data: [{\n      id: 'A',\n      index: 0,\n      size: [60, 16],\n      content: 'label A'\n    }]\n  },\n  decorators: [TwoSelectedLabelsDecorator]\n}"},null==(_TwoA$parameters2=TwoA.parameters)||null==(_TwoA$parameters2$doc=_TwoA$parameters2.docs)?void 0:_TwoA$parameters2$doc.source)})}),TwoB.parameters=ScatterSelectedLabels_stories_extends({},TwoB.parameters,{docs:ScatterSelectedLabels_stories_extends({},null==(_TwoB$parameters=TwoB.parameters)?void 0:_TwoB$parameters.docs,{source:ScatterSelectedLabels_stories_extends({originalSource:"{\n  name: 'beside point',\n  args: {\n    data: [{\n      id: 'A',\n      index: 1,\n      size: [60, 16],\n      content: 'label B'\n    }]\n  },\n  decorators: [TwoSelectedLabelsDecorator]\n}"},null==(_TwoB$parameters2=TwoB.parameters)||null==(_TwoB$parameters2$doc=_TwoB$parameters2.docs)?void 0:_TwoB$parameters2$doc.source)})}),Offset.parameters=ScatterSelectedLabels_stories_extends({},Offset.parameters,{docs:ScatterSelectedLabels_stories_extends({},null==(_Offset$parameters=Offset.parameters)?void 0:_Offset$parameters.docs,{source:ScatterSelectedLabels_stories_extends({originalSource:"{\n  name: 'offset',\n  args: {\n    data: [{\n      id: 'A',\n      index: 0,\n      size: [60, 16],\n      content: 'label A'\n    }],\n    offset: [0, 0.1]\n  },\n  decorators: [TwoSelectedLabelsDecorator]\n}"},null==(_Offset$parameters2=Offset.parameters)||null==(_Offset$parameters2$d=_Offset$parameters2.docs)?void 0:_Offset$parameters2$d.source)})}),Clearance.parameters=ScatterSelectedLabels_stories_extends({},Clearance.parameters,{docs:ScatterSelectedLabels_stories_extends({},null==(_Clearance$parameters=Clearance.parameters)?void 0:_Clearance$parameters.docs,{source:ScatterSelectedLabels_stories_extends({originalSource:"{\n  name: 'clearance',\n  args: {\n    data: [{\n      id: 'A',\n      index: 0,\n      size: [60, 16],\n      content: 'label A'\n    }, {\n      id: 'A',\n      index: 1,\n      size: [60, 16],\n      content: 'label B'\n    }],\n    clearance: 2\n  },\n  decorators: [TwoSelectedLabelsDecorator]\n}"},null==(_Clearance$parameters2=Clearance.parameters)||null==(_Clearance$parameters3=_Clearance$parameters2.docs)?void 0:_Clearance$parameters3.source)})}),Bubbles.parameters=ScatterSelectedLabels_stories_extends({},Bubbles.parameters,{docs:ScatterSelectedLabels_stories_extends({},null==(_Bubbles$parameters=Bubbles.parameters)?void 0:_Bubbles$parameters.docs,{source:ScatterSelectedLabels_stories_extends({originalSource:"{\n  name: 'bubbles',\n  args: {\n    data: [{\n      id: 'A',\n      index: 0,\n      size: [60, 16],\n      content: 'label A'\n    }, {\n      id: 'A',\n      index: 1,\n      size: [60, 16],\n      content: 'label B'\n    }],\n    clearance: 4\n  },\n  decorators: [BubbleSelectedLabelsDecorator]\n}"},null==(_Bubbles$parameters2=Bubbles.parameters)||null==(_Bubbles$parameters2$=_Bubbles$parameters2.docs)?void 0:_Bubbles$parameters2$.source)})}),Grid.parameters=ScatterSelectedLabels_stories_extends({},Grid.parameters,{docs:ScatterSelectedLabels_stories_extends({},null==(_Grid$parameters=Grid.parameters)?void 0:_Grid$parameters.docs,{source:ScatterSelectedLabels_stories_extends({originalSource:"{\n  name: 'grid',\n  args: {\n    data: [{\n      id: 'A',\n      index: 4,\n      size: [60, 20],\n      content: 'center'\n    }],\n    style: {\n      textAnchor: 'start'\n    },\n    offset: [0.2, -0.2],\n    anchor: [0.5, 1],\n    symbol: Circle,\n    symbolStyle: {\n      stroke: '#000000',\n      strokeWidth: 2\n    },\n    clearance: 15\n  },\n  decorators: [GridSelectedLabelsDecorator]\n}"},null==(_Grid$parameters2=Grid.parameters)||null==(_Grid$parameters2$doc=_Grid$parameters2.docs)?void 0:_Grid$parameters2$doc.source)})}),Connector.parameters=ScatterSelectedLabels_stories_extends({},Connector.parameters,{docs:ScatterSelectedLabels_stories_extends({},null==(_Connector$parameters=Connector.parameters)?void 0:_Connector$parameters.docs,{source:ScatterSelectedLabels_stories_extends({originalSource:"{\n  name: 'connector',\n  args: {\n    data: [{\n      id: 'A',\n      index: 0,\n      size: [60, 16],\n      content: 'label A'\n    }],\n    offset: [10, -4],\n    clearance: 30,\n    connector: Line,\n    connectorStyle: {\n      stroke: '#000000',\n      strokeWidth: 1\n    }\n  },\n  decorators: [TwoSelectedLabelsDecorator]\n}"},null==(_Connector$parameters2=Connector.parameters)||null==(_Connector$parameters3=_Connector$parameters2.docs)?void 0:_Connector$parameters3.source)})}),SymbolConnector.parameters=ScatterSelectedLabels_stories_extends({},SymbolConnector.parameters,{docs:ScatterSelectedLabels_stories_extends({},null==(_SymbolConnector$para=SymbolConnector.parameters)?void 0:_SymbolConnector$para.docs,{source:ScatterSelectedLabels_stories_extends({originalSource:"{\n  name: 'symbol and connector',\n  args: {\n    data: [{\n      id: 'A',\n      index: 0,\n      size: [60, 16],\n      content: 'label A'\n    }],\n    offset: [10, -4],\n    style: {\n      textAnchor: 'start'\n    },\n    clearance: 30,\n    symbol: Circle,\n    symbolStyle: {\n      stroke: '#000000',\n      strokeWidth: 1\n    },\n    connector: Line,\n    connectorStyle: {\n      stroke: '#000000',\n      strokeWidth: 1\n    }\n  },\n  decorators: [TwoSelectedLabelsDecorator]\n}"},null==(_SymbolConnector$para2=SymbolConnector.parameters)||null==(_SymbolConnector$para3=_SymbolConnector$para2.docs)?void 0:_SymbolConnector$para3.source)})}),Custom.parameters=ScatterSelectedLabels_stories_extends({},Custom.parameters,{docs:ScatterSelectedLabels_stories_extends({},null==(_Custom$parameters=Custom.parameters)?void 0:_Custom$parameters.docs,{source:ScatterSelectedLabels_stories_extends({originalSource:"{\n  name: 'custom components',\n  args: {\n    data: [{\n      id: 'A',\n      index: 0,\n      size: [60, 25],\n      content: 'label A'\n    }, {\n      id: 'A',\n      index: 1,\n      size: [60, 25],\n      content: 'label B'\n    }],\n    offset: [0.2, 0],\n    anchor: [0, 0.5],\n    clearance: 20,\n    component: WhiteBoxedLabel,\n    symbol: Circle,\n    symbolStyle: {\n      stroke: '#000000',\n      strokeWidth: 2\n    },\n    connector: Line,\n    connectorStyle: {\n      stroke: '#000000',\n      strokeWidth: 1\n    }\n  },\n  decorators: [TwoSelectedLabelsDecorator]\n}"},null==(_Custom$parameters2=Custom.parameters)||null==(_Custom$parameters2$d=_Custom$parameters2.docs)?void 0:_Custom$parameters2$d.source)})});var __namedExportsOrder=["TwoA","TwoB","Offset","Clearance","Bubbles","Grid","Connector","SymbolConnector","Custom"]},"./packages/annotation/src/typography/BoxedLabel.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>BoxedLabel});var framer_motion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),BoxedLabel=function BoxedLabel(_ref){var _ref$variant=_ref.variant,variant=void 0===_ref$variant?"boxed-label":_ref$variant,_ref$position=_ref.position,position=void 0===_ref$position?[0,0]:_ref$position,_ref$positionUnits=_ref.positionUnits,positionUnits=void 0===_ref$positionUnits?"absolute":_ref$positionUnits,_ref$size=_ref.size,size=void 0===_ref$size?[100,32]:_ref$size,_ref$sizeUnits=_ref.sizeUnits,sizeUnits=void 0===_ref$sizeUnits?"absolute":_ref$sizeUnits,_ref$offset=_ref.offset,offset=void 0===_ref$offset?[0,0]:_ref$offset,_ref$anchor=_ref.anchor,anchor=void 0===_ref$anchor?[.5,.5]:_ref$anchor,_ref$angle=_ref.angle,angle=void 0===_ref$angle?0:_ref$angle,_ref$angleUnit=_ref.angleUnit,angleUnit=void 0===_ref$angleUnit?"degree":_ref$angleUnit,_ref$expansion=_ref.expansion,expansion=void 0===_ref$expansion?[0,0,0,0]:_ref$expansion,rx=_ref.rx,ry=_ref.ry,boxStyle=_ref.boxStyle,textStyle=_ref.textStyle,className=_ref.className,style=_ref.style,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,children=_ref.children,dimensions=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Bs9)(),scales=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.kE1)().scales,absPos=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.eE7)(position,positionUnits,dimensions.size,scales),absSize=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.YEL)(size,sizeUnits,dimensions.size),_getAnchoredOrigin=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.ji)(absPos,absSize,anchor),x=_getAnchoredOrigin[0],y=_getAnchoredOrigin[1];x+=size[0]/2+offset[0],y+=size[1]/2+offset[1],absSize[0]+=expansion[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.RLj]+expansion[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.pXp],absSize[1]+=expansion[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.GSB]+expansion[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.DaS];var compositeClassName=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.gjB)(variant,className),content="string"==typeof children?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("text",{style:textStyle,className:"label "+compositeClassName,children}):children,config={x,y,rotate:angle&&"radian"===angleUnit?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.BVy)(angle):angle,originX:"0px",originY:"0px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.m.g,{role:setRole?variant:void 0,initial:config,animate:config,style,className:compositeClassName,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_1__.AeJ,{variant:"label",x:0,y:0,width:absSize[0],height:absSize[1],rx,ry,center:!0,className:compositeClassName,style:boxStyle,setRole:!1}),content]})};BoxedLabel.displayName="BoxedLabel";try{BoxedLabel.displayName="BoxedLabel",BoxedLabel.__docgenInfo={description:"",displayName:"BoxedLabel",props:{variant:{defaultValue:{value:"boxed-label"},description:"variant",name:"variant",required:!1,type:{name:"string"}},size:{defaultValue:{value:"[100, 32]"},description:"size of box in absolute units",name:"size",required:!1,type:{name:"SizeSpec"}},angle:{defaultValue:{value:"0"},description:"angle",name:"angle",required:!1,type:{name:"number"}},angleUnit:{defaultValue:{value:"degree"},description:"angle unit",name:"angleUnit",required:!1,type:{name:"enum",value:[{value:'"degree"'},{value:'"radian"'}]}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"[0, 0]"},description:"container position",name:"position",required:!1,type:{name:"PositionSpec"}},positionUnits:{defaultValue:{value:"absolute"},description:"absolute or relative units for position",name:"positionUnits",required:!1,type:{name:"PositionUnits"}},sizeUnits:{defaultValue:{value:"absolute"},description:"absolute or relative units for position and size measurements",name:"sizeUnits",required:!1,type:{name:"SizeUnits"}},anchor:{defaultValue:{value:"[0.5, 0.5]"},description:"container anchor point",name:"anchor",required:!1,type:{name:"AnchorSpec"}},padding:{defaultValue:null,description:"padding (absolute values) *",name:"padding",required:!1,type:{name:"FourSideSizeSpec"}},offset:{defaultValue:{value:"[0, 0]"},description:"offset/translation applied after anchoring, absolute units",name:"offset",required:!1,type:{name:"NumericPositionSpec"}},expansion:{defaultValue:{value:"[0, 0, 0, 0]"},description:"expansion of box size",name:"expansion",required:!1,type:{name:"FourSideSizeSpec"}},rx:{defaultValue:null,description:"horizontal radius of box",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:null,description:"vertical radius of box",name:"ry",required:!1,type:{name:"number"}},boxStyle:{defaultValue:null,description:"style for box",name:"boxStyle",required:!1,type:{name:"Partial<CSSProperties>"}},textStyle:{defaultValue:null,description:"style for text",name:"textStyle",required:!1,type:{name:"Partial<CSSProperties>"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/annotation/src/typography/BoxedLabel.tsx#BoxedLabel"]={docgenInfo:BoxedLabel.__docgenInfo,name:"BoxedLabel",path:"packages/annotation/src/typography/BoxedLabel.tsx#BoxedLabel"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/scatter/Scatter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>Scatter});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/features-animation.mjs"),_chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_context__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/src/scatter/context.tsx"),_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/xy/src/scatter/helpers.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["container","data","x","y","k","valueColor","valueSize","scaleX","scaleY","scaleColor","scaleSize","autoRescale","children"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var Scatter=function Scatter(_ref2){var _ref2$container=_ref2.container,container=void 0===_ref2$container?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.WdC:_ref2$container,data=_ref2.data,x=_ref2.x,y=_ref2.y,k=_ref2.k,_ref2$valueColor=_ref2.valueColor,valueColor=void 0===_ref2$valueColor?null:_ref2$valueColor,_ref2$valueSize=_ref2.valueSize,valueSize=void 0===_ref2$valueSize?5:_ref2$valueSize,_ref2$scaleX=_ref2.scaleX,scaleX=void 0===_ref2$scaleX?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Bs3:_ref2$scaleX,_ref2$scaleY=_ref2.scaleY,scaleY=void 0===_ref2$scaleY?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Bs3:_ref2$scaleY,scaleColor=_ref2.scaleColor,_ref2$scaleSize=_ref2.scaleSize,scaleSize=void 0===_ref2$scaleSize?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Ooi:_ref2$scaleSize,_ref2$autoRescale=_ref2.autoRescale,autoRescale=void 0===_ref2$autoRescale||_ref2$autoRescale,children=_ref2.children,props=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref2,_excluded),theme=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.FgM)(),_useContainer=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.uK4)(container),dimsProps=_useContainer.dimsProps,origin=_useContainer.origin,innerSize=_useContainer.innerSize,seriesIndexes=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.snp)(data)}),[data]),seriesIds=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return data.map((function(item){return item.id}))}),[data]),disabled=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(seriesIds).disabled,processedData=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function processData(_ref){var data=_ref.data,x=_ref.x,y=_ref.y,k=_ref.k,_ref$valueSize=_ref.valueSize,valueSize=void 0===_ref$valueSize?5:_ref$valueSize,_ref$valueColor=_ref.valueColor,valueColor=void 0===_ref$valueColor?null:_ref$valueColor;return data.map((function(seriesData,index){var d=seriesData.data;if(Array.isArray(d)){var getX=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(x),getY=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(y),getK=k?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(k):void 0,getSize=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hAO)(valueSize),getColor=valueColor?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(valueColor):null;return{id:seriesData.id,index,k:getK?d.map((function(item){return getK(item)})):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.w6H)(d.length),x:d.map((function(item){return getX(item)})),y:d.map((function(item){return getY(item)})),size:d.map((function(item){return getSize(item)})),color:getColor?d.map((function(item){return getColor(item)})):void 0}}var _getX=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(String(x)),n=_getX(d).length,_getY=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(String(y)),_getK=k?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(String(k)):void 0,_getSize=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hj$)(valueSize)?function(){return Array(n).fill(valueSize)}:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(String(valueSize)),_getColor=valueColor?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIU)(String(valueColor)):null;return{id:seriesData.id,index,k:_getK?_getK(d):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.w6H)(_getX(d).length),x:_getX(d),y:_getY(d),size:_getSize(d),color:_getColor?_getColor(d):void 0}}))}({data,x,y,k,valueSize,valueColor})}),[data,x,y,k,valueSize,valueColor]),_useMemo=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_helpers__WEBPACK_IMPORTED_MODULE_3__.qe)(processedData,scaleX,scaleY,innerSize,autoRescale?disabled:Array(seriesIds.length).fill(!1))}),[processedData,scaleX,scaleY,innerSize,disabled,autoRescale,seriesIds]),xProps=_useMemo.x,yProps=_useMemo.y,_useMemo2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{colorProps:(0,_helpers__WEBPACK_IMPORTED_MODULE_3__.VF)(processedData,null!=scaleColor?scaleColor:theme.Colors.categorical,seriesIds),sizeProps:(0,_helpers__WEBPACK_IMPORTED_MODULE_3__.Pu)(processedData,scaleSize,valueSize)}}),[processedData,scaleColor,scaleSize,theme,valueSize,seriesIds]),colorProps=_useMemo2.colorProps,sizeProps=_useMemo2.sizeProps,scalesContextValue=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.cT_)({x:xProps,y:yProps,color:colorProps,size:sizeProps}),preparedData=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return function prepareData(data,scales){var scaleX=scales.x,scaleY=scales.y,scaleSize=scales.size,scaleColor=scales.color;return data.map((function(seriesData){return{id:seriesData.id,index:seriesData.index,x:seriesData.x.map((function(v){return scaleX(v)})),y:seriesData.y.map((function(v){return scaleY(v)})),r:seriesData.size.map((function(v){return scaleSize(v)})),color:seriesData.color?seriesData.color.map((function(v){return scaleColor(v)})):void 0}}))}(processedData,scalesContextValue.scales)}),[processedData,scalesContextValue]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.PzT,_extends({variant:"scatter",position:origin,size:dimsProps.size,padding:dimsProps.padding,originalData:data,processedData,seriesIndexes,keys:seriesIds,scalesContextValue},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_context__WEBPACK_IMPORTED_MODULE_4__.lq,{data:preparedData,seriesIndexes,keys:seriesIds,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.X,{features:framer_motion__WEBPACK_IMPORTED_MODULE_6__.H,children})})}))};Scatter.displayName="Scatter";try{Scatter.displayName="Scatter",Scatter.__docgenInfo={description:"",displayName:"Scatter",props:{x:{defaultValue:null,description:"extraction of x-axis values from raw data",name:"x",required:!0,type:{name:"string | AccessorFunction<number>"}},y:{defaultValue:null,description:"extraction of y-axis values from raw data",name:"y",required:!0,type:{name:"string | AccessorFunction<number>"}},k:{defaultValue:null,description:"extraction of key values (indexes) from raw data",name:"k",required:!1,type:{name:"string | AccessorFunction<number>"}},valueSize:{defaultValue:{value:"5"},description:"extraction of dot size from raw data",name:"valueSize",required:!1,type:{name:"string | number | AccessorFunction<number>"}},valueColor:{defaultValue:{value:"null"},description:"extraction of a value for color",name:"valueColor",required:!1,type:{name:"string | AccessorFunction<number> | null"}},data:{defaultValue:null,description:"data",name:"data",required:!0,type:{name:"ScatterDataItem[]"}},scaleX:{defaultValue:null,description:"scale for horizontal axis",name:"scaleX",required:!1,type:{name:"ContinuousScaleSpec"}},scaleY:{defaultValue:null,description:"scale for vertical axis",name:"scaleY",required:!1,type:{name:"ContinuousScaleSpec"}},scaleColor:{defaultValue:null,description:"scale for colors",name:"scaleColor",required:!1,type:{name:"ColorScaleSpec"}},scaleSize:{defaultValue:null,description:"scale for cell size",name:"scaleSize",required:!1,type:{name:"SizeScaleSpec"}},className:{defaultValue:null,description:"class string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"css style",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children",name:"children",required:!1,type:{name:"ReactNode"}},container:{defaultValue:null,description:"position and size for bounding container",name:"container",required:!1,type:{name:"ContainerProps"}},autoRescale:{defaultValue:{value:"true"},description:"automatically adjust scales if/when data subsets become disabled",name:"autoRescale",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/Scatter.tsx#Scatter"]={docgenInfo:Scatter.__docgenInfo,name:"Scatter",path:"packages/xy/src/scatter/Scatter.tsx#Scatter"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/scatter/ScatterPoints.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>ScatterPoints});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/xy/src/scatter/context.tsx"),_predicates__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/xy/src/scatter/predicates.ts"),_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/xy/src/scatter/helpers.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["ids","symbol","symbolStyle","symbolClassName","dataComponent","setRole"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var ScatterPoints=function ScatterPoints(_ref){var ids=_ref.ids,_ref$symbol=_ref.symbol,symbol=void 0===_ref$symbol?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Cdc:_ref$symbol,symbolStyle=_ref.symbolStyle,symbolClassName=_ref.symbolClassName,_ref$dataComponent=_ref.dataComponent,dataComponent=void 0===_ref$dataComponent?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Aj5:_ref$dataComponent,_ref$setRole=_ref.setRole,setRole=void 0===_ref$setRole||_ref$setRole,props=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),processedData=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.wIO)().data,preparedData=(0,_context__WEBPACK_IMPORTED_MODULE_3__.DP)(),colorScale=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.kE1)().scales.color,_useDisabledKeys=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.gKR)(),disabledKeys=_useDisabledKeys.disabledKeys,firstRender=_useDisabledKeys.firstRender;if(!(0,_predicates__WEBPACK_IMPORTED_MODULE_4__.dI)(processedData))return null;var symbolData=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__.pq)(processedData,preparedData),result=(null!=ids?ids:preparedData.keys).map((function(id){var visible=!disabledKeys.has(id),seriesIndex=preparedData.seriesIndexes[id];if(void 0===seriesIndex)return null;var seriesStyle=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(symbolStyle,colorScale(seriesIndex)),data=preparedData.data[seriesIndex],x=data.x,y=data.y,k=processedData[seriesIndex].k,colors=data.color,dots=visible?data.r.map((function(r,i){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(dataComponent,_extends({key:k[i],data:symbolData[seriesIndex][i],component:symbol,props:{cx:x[i],cy:y[i],r,className:symbolClassName,style:colors?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(symbolStyle,colors[i]):seriesStyle,setRole:!1}},props))})):null;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.JjT,{role:setRole?"scatter-points":void 0,visible,firstRender,children:dots},"points-"+seriesIndex)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:result.filter(Boolean)})};try{ScatterPoints.displayName="ScatterPoints",ScatterPoints.__docgenInfo={description:"",displayName:"ScatterPoints",props:{ids:{defaultValue:null,description:"ids to display (defaults to all ids)",name:"ids",required:!1,type:{name:"string[]"}},symbol:{defaultValue:null,description:"symbol for individual data points",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},symbolClassName:{defaultValue:null,description:"style class for data points",name:"symbolClassName",required:!1,type:{name:"string"}},symbolStyle:{defaultValue:null,description:"style for data points",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:{value:"true"},description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},handlers:{defaultValue:null,description:"handlers for events",name:"handlers",required:!1,type:{name:"DataInteractivityHandlers<ScatterInteractiveDataItem>"}},modifiers:{defaultValue:null,description:"style modifiers",name:"modifiers",required:!1,type:{name:"DataInteractivityModifiers"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<ScatterInteractiveDataItem, SymbolProps>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/ScatterPoints.tsx#ScatterPoints"]={docgenInfo:ScatterPoints.__docgenInfo,name:"ScatterPoints",path:"packages/xy/src/scatter/ScatterPoints.tsx#ScatterPoints"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/scatter/context.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DP:()=>useScatterPreparedData,lq:()=>ScatterPreparedDataProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),ScatterPreparedDataContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({data:[],seriesIndexes:{},keys:[]}),ScatterPreparedDataProvider=function ScatterPreparedDataProvider(_ref){var data=_ref.data,seriesIndexes=_ref.seriesIndexes,keys=_ref.keys,children=_ref.children,value=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{data,seriesIndexes,keys}}),[data,seriesIndexes,keys]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ScatterPreparedDataContext.Provider,{value,children})};ScatterPreparedDataProvider.displayName="ScatterPreparedDataProvider";var useScatterPreparedData=function useScatterPreparedData(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ScatterPreparedDataContext)};try{ScatterPreparedDataProvider.displayName="ScatterPreparedDataProvider",ScatterPreparedDataProvider.__docgenInfo={description:"",displayName:"ScatterPreparedDataProvider",props:{data:{defaultValue:null,description:"data",name:"data",required:!0,type:{name:"RecordWithId[] & ScatterPreparedDataItem[]"}},seriesIndexes:{defaultValue:null,description:"map from series ids to indexes",name:"seriesIndexes",required:!0,type:{name:"Record<string, number>"}},keys:{defaultValue:null,description:"list of keys",name:"keys",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/context.tsx#ScatterPreparedDataProvider"]={docgenInfo:ScatterPreparedDataProvider.__docgenInfo,name:"ScatterPreparedDataProvider",path:"packages/xy/src/scatter/context.tsx#ScatterPreparedDataProvider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/scatter/helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C9:()=>useTargets,I_:()=>distanceY,Pu:()=>getSizeScaleProps,VF:()=>getColorScaleProps,pq:()=>useSymbolData,qe:()=>getXYScaleProps,sr:()=>distanceXY,uD:()=>distanceX});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_chsk_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),_predicates__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/xy/src/scatter/predicates.ts"),getXYScaleProps=function getXYScaleProps(data,scaleSpecX,scaleSpecY,size,disabled){var result={x:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.BRZ)(scaleSpecX),y:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.BRZ)(scaleSpecY)},filterDisabled=function filterDisabled(v,i){return!disabled[i]};if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.HBl)(scaleSpecX)){var x=data.filter(filterDisabled).map((function(seriesData){return seriesData.x})).flat();result.x=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.zAC)(scaleSpecX,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(x))}if(!(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.HBl)(scaleSpecY)){var y=data.filter(filterDisabled).map((function(seriesData){return seriesData.y})).flat();result.y=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.zAC)(scaleSpecY,(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(y))}return result.x.size=size[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X],result.y.size=size[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y],result},getSizeScaleProps=function getSizeScaleProps(data,scaleSpec,maxSize){var maxDomain=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Fp7)(data.map((function(seriesData){return seriesData.size})).flat());return"number"==typeof maxSize?(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__._C2)(scaleSpec,maxDomain,maxSize):(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__._C2)(scaleSpec,maxDomain,10)},getColorScaleProps=function getColorScaleProps(data,scaleSpec,seriesIds){if("categorical"===scaleSpec.variant)return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NVB)(scaleSpec,seriesIds);var minmax=(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.FG_)(data.map((function(seriesData){var _seriesData$color;return null!=(_seriesData$color=seriesData.color)?_seriesData$color:[]})).flat());return(0,_chsk_core__WEBPACK_IMPORTED_MODULE_1__.NVB)(scaleSpec,minmax)},useSymbolData=function useSymbolData(processedData,preparedData){return(0,_predicates__WEBPACK_IMPORTED_MODULE_2__.dI)(processedData)?(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return preparedData.keys.map((function(id){var seriesIndex=preparedData.seriesIndexes[id],seriesProcessedData=processedData[seriesIndex];return preparedData.data[seriesIndex].r.map((function(r,index){var _seriesProcessedData$;return{id,index,point:[seriesProcessedData.x[index],seriesProcessedData.y[index]],size:seriesProcessedData.size[index],color:null==(_seriesProcessedData$=seriesProcessedData.color)?void 0:_seriesProcessedData$[index]}}))}))}),[processedData,preparedData]):[]},distanceXY=function distanceXY(a,b){return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))},distanceX=function distanceX(a,b){return Math.abs(a[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X]-b[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.X])},distanceY=function distanceY(a,b){return Math.abs(a[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y]-b[_chsk_core__WEBPACK_IMPORTED_MODULE_1__.Y])},useTargets=function useTargets(preparedData,disabledKeys){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var result=[];return preparedData.keys.forEach((function(id){if(!disabledKeys.has(id)){var seriesIndex=preparedData.seriesIndexes[id],data=preparedData.data[seriesIndex];data.r.forEach((function(r,index){result.push([data.x[index],data.y[index],seriesIndex,index])}))}})),result}),[preparedData,disabledKeys])}},"./packages/xy/src/scatter/overlays.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>createActiveSymbol,u:()=>createCrosshairLines});var _chsk_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/dist/chsk-core.es.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),createCrosshairLines=function createCrosshairLines(_ref){var visible=_ref.visible,coordinates=_ref.coordinates,size=_ref.size,style=_ref.style,setRole=_ref.setRole,className=_ref.className;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[visible[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,{variant:"crosshair",x1:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],x2:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],y1:0,y2:size[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],style,className,setRole},"x"):null,visible[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chsk_core__WEBPACK_IMPORTED_MODULE_2__.x12,{variant:"crosshair",x1:0,x2:size[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],y1:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],y2:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],style,className,setRole},"y"):null]})},createActiveSymbol=function createActiveSymbol(_ref2){var _activeData$size,activeData=_ref2.activeData,coordinates=_ref2.coordinates,scales=_ref2.scales,seriesIndex=_ref2.seriesIndex,_ref2$dataComponent=_ref2.dataComponent,dataComponent=void 0===_ref2$dataComponent?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Wnl:_ref2$dataComponent,_ref2$symbol=_ref2.symbol,symbol=void 0===_ref2$symbol?_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Cdc:_ref2$symbol,symbolStyle=_ref2.symbolStyle,symbolClassName=_ref2.symbolClassName,setRole=_ref2.setRole;if(void 0===activeData||void 0===activeData.point)return null;var scaleSize=scales.size;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(dataComponent,{key:"active-"+seriesIndex+"-"+activeData.index,component:symbol,props:{variant:"active",cx:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.X],cy:coordinates[_chsk_core__WEBPACK_IMPORTED_MODULE_2__.Y],r:scaleSize(null!=(_activeData$size=activeData.size)?_activeData$size:0),className:symbolClassName,style:(0,_chsk_core__WEBPACK_IMPORTED_MODULE_2__.hIX)(symbolStyle,scales.color(seriesIndex)),setRole}})};try{createCrosshairLines.displayName="createCrosshairLines",createCrosshairLines.__docgenInfo={description:"",displayName:"createCrosshairLines",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"[boolean, boolean]"}},coordinates:{defaultValue:null,description:"",name:"coordinates",required:!0,type:{name:"[number, number]"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"SizeSpec"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"Partial<CSSProperties>"}},setRole:{defaultValue:null,description:"",name:"setRole",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/overlays.tsx#createCrosshairLines"]={docgenInfo:createCrosshairLines.__docgenInfo,name:"createCrosshairLines",path:"packages/xy/src/scatter/overlays.tsx#createCrosshairLines"})}catch(__react_docgen_typescript_loader_error){}try{createActiveSymbol.displayName="createActiveSymbol",createActiveSymbol.__docgenInfo={description:"",displayName:"createActiveSymbol",props:{symbol:{defaultValue:null,description:"symbol for individual data points",name:"symbol",required:!1,type:{name:"FC<SymbolProps>"}},setRole:{defaultValue:null,description:"toggle role attribute in svg code",name:"setRole",required:!1,type:{name:"boolean"}},dataComponent:{defaultValue:null,description:"function binding data to interactivity handlers",name:"dataComponent",required:!1,type:{name:"FC<DataComponentProps<ScatterInteractiveDataItem, SymbolProps>>"}},symbolStyle:{defaultValue:null,description:"style for data points",name:"symbolStyle",required:!1,type:{name:"Partial<CSSProperties>"}},symbolClassName:{defaultValue:null,description:"style class for data points",name:"symbolClassName",required:!1,type:{name:"string"}},activeData:{defaultValue:null,description:"",name:"activeData",required:!1,type:{name:"ScatterInteractiveDataItem"}},coordinates:{defaultValue:null,description:"",name:"coordinates",required:!0,type:{name:"NumericPositionSpec"}},scales:{defaultValue:null,description:"",name:"scales",required:!0,type:{name:"Scales"}},seriesIndex:{defaultValue:null,description:"",name:"seriesIndex",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/xy/src/scatter/overlays.tsx#createActiveSymbol"]={docgenInfo:createActiveSymbol.__docgenInfo,name:"createActiveSymbol",path:"packages/xy/src/scatter/overlays.tsx#createActiveSymbol"})}catch(__react_docgen_typescript_loader_error){}},"./packages/xy/src/scatter/predicates.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bf:()=>isScatterData,Tc:()=>isScatterPreparedData,dI:()=>isScatterProcessedData});var isScatterProcessedData=function isScatterProcessedData(data){return data.map((function(item){return"object"==typeof item&&null!==item&&("id"in item&&"index"in item&&"x"in item&&"y"in item&&"size"in item)})).every(Boolean)},isScatterPreparedData=function isScatterPreparedData(data){return data.map((function(item){return"object"==typeof item&&null!==item&&("id"in item&&"index"in item&&"x"in item&&"y"in item&&"r"in item)})).every(Boolean)},isScatterData=function isScatterData(data){return data.map((function(item){return"id"in item&&"data"in item&&"object"==typeof item.data})).every(Boolean)}}}]);